!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=54)}([function(e,t,n){var r;e.exports=(r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){var t=t,n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var s=o(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=4*i,c=o/s,l=(c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*i,u=e.min(4*l,o);if(l){for(var d=0;d<l;d+=i)this._doProcessBlock(r,d);var f=r.splice(0,l);n.sigBytes-=u}return new a.init(f,u)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(o.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),r)},function(e,t,n){var r;e.exports=(r=n(0),n(3),void(r.lib.Cipher||function(e){var t=r,n=t.lib,o=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),l=t.algo,u=l.EvpKDF,d=n.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?k:b}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),f=(n.StreamCipher=d.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),t.mode={}),p=n.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var t=p.extend();function n(t,n,r){var o=this._iv;if(o){var i=o;this._iv=e}else var i=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize;n.call(this,e,t,o),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize,i=e.slice(t,t+o);r.decryptBlock(e,t),n.call(this,e,t,o),this._prevBlock=i}}),t}(),_=t.pad={},g=_.Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var c=i.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:g}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(n,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=t.format={},y=v.OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=i.create([1398893684,1701076831]).concat(n).concat(t);else var r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=i.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return m.create({ciphertext:t,salt:r})}},b=n.SerializableCipher=o.extend({cfg:o.extend({format:y}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),a=o.cfg;return m.create({ciphertext:i,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=e.createDecryptor(n,r).finalize(t.ciphertext);return o},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=t.kdf={},S=w.OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var o=u.create({keySize:t+n}).compute(e,r),a=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,m.create({key:o,iv:a,salt:r})}},k=n.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:S}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=o.iv;var i=b.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);r.iv=o.iv;var i=b.decrypt.call(this,e,t,o.key,r);return i}})}()))},function(e,t,n){"use strict";var r=n(27),o=n(90),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){var r,o,i,a,s,c,l,u;e.exports=(r=n(0),n(16),n(17),i=(o=r).lib,a=i.Base,s=i.WordArray,c=o.algo,l=c.MD5,u=c.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),o=s.create(),i=o.words,a=n.keySize,c=n.iterations;i.length<a;){l&&r.update(l);var l=r.update(e).finalize(t);r.reset();for(var u=1;u<c;u++)l=r.finalize(l),r.reset();o.concat(l)}return o.sigBytes=4*a,o}}),o.EvpKDF=function(e,t,n){return u.create(n).compute(e,t)},r.EvpKDF)},function(e,t,n){var r,o,i;e.exports=(r=n(0),i=(o=r).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,c=n[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|c)<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},function(e,t,n){var r;e.exports=(r=n(0),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],c=e[t+1],p=e[t+2],h=e[t+3],_=e[t+4],g=e[t+5],m=e[t+6],v=e[t+7],y=e[t+8],b=e[t+9],w=e[t+10],S=e[t+11],k=e[t+12],E=e[t+13],C=e[t+14],A=e[t+15],x=i[0],O=i[1],R=i[2],T=i[3];x=l(x,O,R,T,a,7,s[0]),T=l(T,x,O,R,c,12,s[1]),R=l(R,T,x,O,p,17,s[2]),O=l(O,R,T,x,h,22,s[3]),x=l(x,O,R,T,_,7,s[4]),T=l(T,x,O,R,g,12,s[5]),R=l(R,T,x,O,m,17,s[6]),O=l(O,R,T,x,v,22,s[7]),x=l(x,O,R,T,y,7,s[8]),T=l(T,x,O,R,b,12,s[9]),R=l(R,T,x,O,w,17,s[10]),O=l(O,R,T,x,S,22,s[11]),x=l(x,O,R,T,k,7,s[12]),T=l(T,x,O,R,E,12,s[13]),R=l(R,T,x,O,C,17,s[14]),x=u(x,O=l(O,R,T,x,A,22,s[15]),R,T,c,5,s[16]),T=u(T,x,O,R,m,9,s[17]),R=u(R,T,x,O,S,14,s[18]),O=u(O,R,T,x,a,20,s[19]),x=u(x,O,R,T,g,5,s[20]),T=u(T,x,O,R,w,9,s[21]),R=u(R,T,x,O,A,14,s[22]),O=u(O,R,T,x,_,20,s[23]),x=u(x,O,R,T,b,5,s[24]),T=u(T,x,O,R,C,9,s[25]),R=u(R,T,x,O,h,14,s[26]),O=u(O,R,T,x,y,20,s[27]),x=u(x,O,R,T,E,5,s[28]),T=u(T,x,O,R,p,9,s[29]),R=u(R,T,x,O,v,14,s[30]),x=d(x,O=u(O,R,T,x,k,20,s[31]),R,T,g,4,s[32]),T=d(T,x,O,R,y,11,s[33]),R=d(R,T,x,O,S,16,s[34]),O=d(O,R,T,x,C,23,s[35]),x=d(x,O,R,T,c,4,s[36]),T=d(T,x,O,R,_,11,s[37]),R=d(R,T,x,O,v,16,s[38]),O=d(O,R,T,x,w,23,s[39]),x=d(x,O,R,T,E,4,s[40]),T=d(T,x,O,R,a,11,s[41]),R=d(R,T,x,O,h,16,s[42]),O=d(O,R,T,x,m,23,s[43]),x=d(x,O,R,T,b,4,s[44]),T=d(T,x,O,R,k,11,s[45]),R=d(R,T,x,O,A,16,s[46]),x=f(x,O=d(O,R,T,x,p,23,s[47]),R,T,a,6,s[48]),T=f(T,x,O,R,v,10,s[49]),R=f(R,T,x,O,C,15,s[50]),O=f(O,R,T,x,g,21,s[51]),x=f(x,O,R,T,k,6,s[52]),T=f(T,x,O,R,h,10,s[53]),R=f(R,T,x,O,w,15,s[54]),O=f(O,R,T,x,c,21,s[55]),x=f(x,O,R,T,y,6,s[56]),T=f(T,x,O,R,A,10,s[57]),R=f(R,T,x,O,m,15,s[58]),O=f(O,R,T,x,E,21,s[59]),x=f(x,O,R,T,_,6,s[60]),T=f(T,x,O,R,S,10,s[61]),R=f(R,T,x,O,p,15,s[62]),O=f(O,R,T,x,b,21,s[63]),i[0]=i[0]+x|0,i[1]=i[1]+O|0,i[2]=i[2]+R|0,i[3]=i[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+o+a;return(s<<i|s>>>32-i)+t}function u(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+o+a;return(s<<i|s>>>32-i)+t}function d(e,t,n,r,o,i,a){var s=e+(t^n^r)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+o+a;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math),r.MD5)},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r,o=n(118),i=n(41),a=n(120),s=n(121),c=n(122);"undefined"!=typeof ArrayBuffer&&(r=n(123));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=l||u;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=o(f),h={type:"error",data:"parser error"},_=n(124);function g(e,t,n){for(var r=new Array(e.length),o=s(e.length,n),i=function(e,n,o){t(n,function(t,n){r[e]=n,o(t,r)})},a=0;a<e.length;a++)i(a,e[a],o)}t.encodePacket=function(e,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=f[e.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}(e,n,o);if(void 0!==_&&i instanceof _)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(e.data)}(e,n,r);var o=new Uint8Array(1);o[0]=f[e.type];var i=new _([o.buffer,e.data]);return r(i)}(e,n,o);if(i&&i.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,o);var a=f[e.type];return void 0!==e.data&&(a+=r?c.encode(String(e.data),{strict:!1}):String(e.data)),o(""+a)},t.encodeBase64Packet=function(e,n){var r,o="b"+t.packets[e.type];if(void 0!==_&&e.data instanceof _){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(o+e)},i.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c];r=String.fromCharCode.apply(null,s)}return o+=btoa(r),n(o)},t.decodePacket=function(e,n,r){if(void 0===e)return h;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return h;var o=e.charAt(0);return Number(o)==o&&p[o]?e.length>1?{type:p[o],data:e.substring(1)}:{type:p[o]}:h}o=new Uint8Array(e)[0];var i=a(e,1);return _&&"blob"===n&&(i=new _([i])),{type:p[o],data:i}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=r.decode(e.substr(1));return"blob"===t&&_&&(o=new _([o])),{type:n,data:o}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var o=i(e);if(n&&o)return _&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,function(e,r){t.encodePacket(e,!!o&&n,!1,function(e){r(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))})},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===e)return r(h,0,1);for(var i,a,s="",c=0,l=e.length;c<l;c++){var u=e.charAt(c);if(":"===u){if(""===s||s!=(i=Number(s)))return r(h,0,1);if(s!=(a=e.substr(c+1,i)).length)return r(h,0,1);if(a.length){if(o=t.decodePacket(a,n,!1),h.type===o.type&&h.data===o.data)return r(h,0,1);if(!1===r(o,c+i,l))return}c+=i,s=""}else s+=u}return""!==s?r(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),o=new Uint8Array(r),i=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}o[i++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]}),n(o.buffer)})},t.encodePayloadAsBlob=function(e,n){g(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,_){var s=new _([t.buffer,a.buffer,e]);n(null,s)}})},function(e,t){return n(new _(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),c=0===s[0],l="",u=1;255!==s[u];u++){if(l.length>310)return r(h,0,1);l+=s[u]}o=a(o,2+l.length),l=parseInt(l);var d=a(o,0,l);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var f=new Uint8Array(d);d="";for(u=0;u<f.length;u++)d+=String.fromCharCode(f[u])}i.push(d),o=a(o,l)}var p=i.length;i.forEach(function(e,o){r(t.decodePacket(e,n,!0),o,p)})}},function(e,t,n){e.exports=n(89)},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(109)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(19))},function(e,t,n){var r,o,i,a,s,c;e.exports=(r=n(0),i=(o=r).lib,a=i.Base,s=i.WordArray,(c=o.x64={}).Word=a.extend({init:function(e,t){this.high=e,this.low=t}}),c.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return s.create(n,this.sigBytes)},clone:function(){for(var e=a.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),r)},function(e,t,n){"use strict";var r,o,i,a=n(81),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){i=!1}function l(e){if(e){if(e!==r){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,n){return t!==n.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,c()}}else r!==s&&(r=s,c())}function u(){return i||(i=function(){r||l(s);for(var e,t=r.split(""),n=[],o=a.nextValue();t.length>0;)o=a.nextValue(),e=Math.floor(o*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return r||s},characters:function(e){return l(e),r},seed:function(e){a.seed(e),o!==e&&(c(),o=e)},lookup:function(e){return u()[e]},shuffled:u}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(125)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(19))},function(e,t,n){var r,o,i,a,s,c,l,u;e.exports=(r=n(0),i=(o=r).lib,a=i.WordArray,s=i.Hasher,c=o.algo,l=[],u=c.SHA1=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],c=0;c<80;c++){if(c<16)l[c]=0|e[t+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var d=(r<<5|r>>>27)+s+l[c];d+=c<20?1518500249+(o&i|~o&a):c<40?1859775393+(o^i^a):c<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,s=a,a=i,i=o<<30|o>>>2,o=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),o.SHA1=s._createHelper(u),o.HmacSHA1=s._createHmacHelper(u),r.SHA1)},function(e,t,n){var r,o,i,a,s,c,l;e.exports=(r=n(0),i=(o=r).lib,a=i.Base,s=o.enc,c=s.Utf8,l=o.algo,void(l.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=c.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),a=o.words,s=i.words,l=0;l<n;l++)a[l]^=1549556828,s[l]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})))},function(e,t,n){"use strict";(function(t){var r=n(2),o=n(92),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:("undefined"!=typeof XMLHttpRequest?s=n(28):void 0!==t&&(s=n(28)),s),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){c.headers[e]={}}),r.forEach(["post","put","patch"],function(e){c.headers[e]=r.merge(i)}),e.exports=c}).call(this,n(19))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function _(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(9)("socket.io-parser"),o=n(6),i=n(110),a=n(36),s=n(37);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d;var l=t.ERROR+'"encode error"';function u(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var o=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===o)return l;n+=o}return r("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){i.removeBlobs(e,function(e){var n=i.deconstructPacket(e),r=u(n.packet),o=n.buffers;o.unshift(r),t(o)})}(e,n):n([u(e)])},o(d.prototype),d.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,o={type:Number(e.charAt(0))};if(null==t.types[o.type])return p("unknown packet type "+o.type);if(t.BINARY_EVENT===o.type||t.BINARY_ACK===o.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(i)}if("/"===e.charAt(n+1))for(o.nsp="";++n;){var s=e.charAt(n);if(","===s)break;if(o.nsp+=s,n===e.length)break}else o.nsp="/";var c=e.charAt(n+1);if(""!==c&&Number(c)==c){for(o.id="";++n;){var s=e.charAt(n);if(null==s||Number(s)!=s){--n;break}if(o.id+=e.charAt(n),n===e.length)break}o.id=Number(o.id)}if(e.charAt(++n)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n)),u=!1!==l&&(o.type===t.ERROR||a(l));if(!u)return p("invalid payload");o.data=l}return r("decoded %s as %j",e,o),o}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){"use strict";(function(e){var r=n(111),o=n(112),i=n(113);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(r)return $(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var d=!0,f=0;f<c;f++)if(l(e,i+f)!==l(t,f)){d=!1;break}if(d)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return q($(t,e.length-n),e,n,r)}function b(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return b(e,t,n,r)}function S(e,t,n,r){return q(j(t),e,n,r)}function k(e,t,n,r){return q(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,l=e[o],u=null,d=l>239?4:l>223?3:l>191?2:1;if(o+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&l)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),l=this.slice(r,o),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){i=l[d],a=u[d];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function x(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=D(e[i]);return o}function T(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function U(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||U(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,i){return i||U(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);B(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);B(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:$(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function $(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function j(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(12))},function(e,t,n){var r=n(116);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t,n){var r=n(7),o=n(6);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,o(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){"use strict";(function(e,r){var o,i=n(53);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(12),n(131)(e))},function(e,t,n){var r;e.exports=(r=n(0),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(s[o]=n(e.pow(r,.5))),c[o]=n(e.pow(r,1/3)),o++),r++}();var l=[],u=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=n[5],d=n[6],f=n[7],p=0;p<64;p++){if(p<16)l[p]=0|e[t+p];else{var h=l[p-15],_=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,g=l[p-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[p]=_+l[p-7]+m+l[p-16]}var v=r&o^r&i^o&i,y=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[p]+l[p];f=d,d=u,u=s,s=a+b|0,a=i,i=o,o=r,r=b+(y+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),r.SHA256)},function(e,t,n){var r;e.exports=(r=n(0),n(10),function(){var e=r,t=e.lib.Hasher,n=e.x64,o=n.Word,i=n.WordArray,a=e.algo;function s(){return o.create.apply(o,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=s()}();var u=a.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=n[5],d=n[6],f=n[7],p=r.high,h=r.low,_=o.high,g=o.low,m=i.high,v=i.low,y=a.high,b=a.low,w=s.high,S=s.low,k=u.high,E=u.low,C=d.high,A=d.low,x=f.high,O=f.low,R=p,T=h,P=_,B=g,M=m,I=v,U=y,L=b,N=w,F=S,D=k,$=E,j=C,q=A,W=x,H=O,G=0;G<80;G++){var z=l[G];if(G<16)var V=z.high=0|e[t+2*G],X=z.low=0|e[t+2*G+1];else{var Y=l[G-15],K=Y.high,J=Y.low,Q=(K>>>1|J<<31)^(K>>>8|J<<24)^K>>>7,Z=(J>>>1|K<<31)^(J>>>8|K<<24)^(J>>>7|K<<25),ee=l[G-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,oe=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ie=l[G-7],ae=ie.high,se=ie.low,ce=l[G-16],le=ce.high,ue=ce.low;V=(V=(V=Q+ae+((X=Z+se)>>>0<Z>>>0?1:0))+re+((X+=oe)>>>0<oe>>>0?1:0))+le+((X+=ue)>>>0<ue>>>0?1:0),z.high=V,z.low=X}var de,fe=N&D^~N&j,pe=F&$^~F&q,he=R&P^R&M^P&M,_e=T&B^T&I^B&I,ge=(R>>>28|T<<4)^(R<<30|T>>>2)^(R<<25|T>>>7),me=(T>>>28|R<<4)^(T<<30|R>>>2)^(T<<25|R>>>7),ve=(N>>>14|F<<18)^(N>>>18|F<<14)^(N<<23|F>>>9),ye=(F>>>14|N<<18)^(F>>>18|N<<14)^(F<<23|N>>>9),be=c[G],we=be.high,Se=be.low,ke=W+ve+((de=H+ye)>>>0<H>>>0?1:0),Ee=me+_e;W=j,H=q,j=D,q=$,D=N,$=F,N=U+(ke=(ke=(ke=ke+fe+((de+=pe)>>>0<pe>>>0?1:0))+we+((de+=Se)>>>0<Se>>>0?1:0))+V+((de+=X)>>>0<X>>>0?1:0))+((F=L+de|0)>>>0<L>>>0?1:0)|0,U=M,L=I,M=P,I=B,P=R,B=T,R=ke+(ge+he+(Ee>>>0<me>>>0?1:0))+((T=de+Ee|0)>>>0<de>>>0?1:0)|0}h=r.low=h+T,r.high=p+R+(h>>>0<T>>>0?1:0),g=o.low=g+B,o.high=_+P+(g>>>0<B>>>0?1:0),v=i.low=v+I,i.high=m+M+(v>>>0<I>>>0?1:0),b=a.low=b+L,a.high=y+U+(b>>>0<L>>>0?1:0),S=s.low=S+F,s.high=w+N+(S>>>0<F>>>0?1:0),E=u.low=E+$,u.high=k+D+(E>>>0<$>>>0?1:0),A=d.low=A+q,d.high=C+j+(A>>>0<q>>>0?1:0),O=f.low=O+H,f.high=x+W+(O>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),r.SHA512)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(2),o=n(93),i=n(95),a=n(96),s=n(97),c=n(29);e.exports=function(e){return new Promise(function(t,l){var u=e.data,d=e.headers;r.isFormData(u)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";d.Authorization="Basic "+btoa(p+":"+h)}if(f.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};o(t,l,r),f=null}},f.onerror=function(){l(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var _=n(98),g=(e.withCredentials||s(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(d,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),l(e),f=null)}),void 0===u&&(u=null),f.send(u)})}},function(e,t,n){"use strict";var r=n(94);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),i=e.indexOf("]");-1!=o&&-1!=i&&(e=e.substring(0,o)+e.substring(o,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=o&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?s(c=e,i,"day")||s(c,o,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||o(e))};var n="function"==typeof t&&"function"==typeof t.isBuffer,r="function"==typeof ArrayBuffer,o=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}}).call(this,n(21).Buffer)},function(e,t,n){var r=n(114),o=n(44),i=n(6),a=n(20),s=n(45),c=n(46),l=n(9)("socket.io-client:manager"),u=n(43),d=n(130),f=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",function(){o.onopen(),e&&e()}),a=s(n,"error",function(t){if(l("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout(function(){l("connect attempt timed out after %d",c),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(a),this},p.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(e,"ping",c(this,"onping"))),this.subs.push(s(e,"pong",c(this,"onpong"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new o(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&i()}function i(){~u(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var r=n(22),o=n(117),i=n(126),a=n(127);t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!a)throw new Error("JSONP disabled");return new i(e)},t.websocket=a},function(e,t,n){var r=n(23),o=n(13),i=n(7),a=n(14),s=n(42),c=n(15)("engine.io-client:polling");e.exports=u;var l=null!=new(n(22))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),r.call(this,e)}a(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||n()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||n()}))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;c("polling got data %s",e);i.decodePayload(e,this.socket.binaryType,function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(119),o=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.exports=function e(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var o=0,s=n.length;o<s;o++)if(e(n[o]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||i&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&e(n[c]))return!0;return!1}}).call(this,n(21).Buffer)},function(e,t,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,a={},s=0,c=0;function l(e){var t="";do{t=o[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function u(){var e=l(+new Date);return e!==r?(s=0,r=e):e+"."+l(s++)}for(;c<i;c++)a[o[c]]=c;u.encode=l,u.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*i+a[e.charAt(c)];return t},e.exports=u},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(20),o=n(6),i=n(129),a=n(45),s=n(46),c=n(9)("socket.io-client:socket"),l=n(13),u=n(41);e.exports=p;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=o.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(d.hasOwnProperty(e))return f.apply(this,arguments),this;var t=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=i(arguments);c("sending ack %j",o),t.packet({type:u(o)?r.BINARY_ACK:r.ACK,id:e,data:o})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){"use strict";e.exports=n(80)},function(e,t,n){(function(n){var r;function o(e){if(!e)throw"MediaStream is mandatory.";var t;this.start=function(n){var r;"undefined"!=typeof MediaRecorder?r=m:(d||u||l)&&(-1!==this.mimeType.indexOf("video")?r=b:-1!==this.mimeType.indexOf("audio")&&(r=v)),"image/gif"===this.mimeType&&(r=S),"audio/wav"!==this.mimeType&&"audio/pcm"!==this.mimeType||(r=v),this.recorderType&&(r=this.recorderType),(t=new r(e)).blobs=[];var o=this;t.ondataavailable=function(e){t.blobs.push(e),o.ondataavailable(e)},t.onstop=this.onstop,t.onStartedDrawingNonBlankFrames=this.onStartedDrawingNonBlankFrames,(t=function(e,t){for(var n in t)"function"!=typeof t[n]&&(e[n]=t[n]);return e}(t,this)).start(n)},this.onStartedDrawingNonBlankFrames=function(){},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.stop=function(){t&&t.stop()},this.ondataavailable=function(e){console.log("ondataavailable..",e)},this.onstop=function(e){console.warn("stopped..",e)},this.save=function(e,n){if(e)p(e,n);else{if(!t)return;ConcatenateBlobs(t.blobs,t.blobs[0].type,function(e){p(e)})}},this.pause=function(){t&&(t.pause(),console.log("Paused recording.",this.mimeType||t.mimeType))},this.resume=function(){t&&(t.resume(),console.log("Resumed recording.",this.mimeType||t.mimeType))},this.recorderType=null,this.mimeType="video/webm",this.disableLogs=!1}o.MultiStreamRecorder=function(e){if(!e)throw"MediaStream is mandatory.";var t,n,r=this,i=g();this.stream=e,this.start=function(c){for(var l in t=new o(e),n=new o(e),t.mimeType="audio/ogg",n.mimeType="video/webm",this)"function"!=typeof this[l]&&(t[l]=n[l]=this[l]);function u(e){s++,r.ondataavailable(e)}t.ondataavailable=function(e){a[s]||(a[s]={}),a[s].audio=e,a[s].video&&!a[s].onDataAvailableEventFired&&(a[s].onDataAvailableEventFired=!0,u(a[s]))},n.ondataavailable=function(e){if(i)return r.ondataavailable({video:e,audio:e});a[s]||(a[s]={}),a[s].video=e,a[s].audio&&!a[s].onDataAvailableEventFired&&(a[s].onDataAvailableEventFired=!0,u(a[s]))},n.onstop=t.onstop=function(e){r.onstop(e)},i?n.start(c):(n.onStartedDrawingNonBlankFrames=function(){n.clearOldRecordedFrames(),t.start(c)},n.start(c))},this.stop=function(){t&&t.stop(),n&&n.stop()},this.ondataavailable=function(e){console.log("ondataavailable..",e)},this.onstop=function(e){console.warn("stopped..",e)},this.pause=function(){t&&t.pause(),n&&n.pause()},this.resume=function(){t&&t.resume(),n&&n.resume()};var a={},s=0};var i,a,s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";i=void 0!==n?n:window,"undefined"==typeof window&&("undefined"==typeof window&&void 0!==n&&(n.navigator={userAgent:s,getUserMedia:function(){}},i.window=n),"undefined"==typeof document&&(i.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){return{}}),"undefined"==typeof location&&(i.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(i.screen={width:0,height:0})),void 0===(a=window.AudioContext)&&("undefined"!=typeof webkitAudioContext&&(a=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(a=mozAudioContext)),"undefined"==typeof window&&(window={}),void 0===(a=window.AudioContext)&&("undefined"!=typeof webkitAudioContext&&(a=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(a=mozAudioContext));var c=window.URL;void 0===c&&"undefined"!=typeof webkitURL&&(c=webkitURL),"undefined"!=typeof navigator?(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia)):navigator={getUserMedia:function(){},userAgent:s};var l=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),u=!1;"undefined"!=typeof opera&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("OPR/")&&(u=!0);var d=!l&&!l&&!!navigator.webkitGetUserMedia,f=window.MediaStream;function p(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var i=document.createElement("a");i.href=c.createObjectURL(e),i.target="_blank",i.download=o,navigator.mozGetUserMedia&&(i.onclick=function(){(document.body||document.documentElement).removeChild(i)},(document.body||document.documentElement).appendChild(i));var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});i.dispatchEvent(a),navigator.mozGetUserMedia||c.revokeObjectURL(i.href)}function h(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}void 0===f&&"undefined"!=typeof webkitMediaStream&&(f=webkitMediaStream),void 0!==f&&("getVideoTracks"in f.prototype||(f.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)}),e},f.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)}),e}),"stop"in f.prototype||(f.prototype.stop=function(){this.getAudioTracks().forEach(function(e){e.stop&&e.stop()}),this.getVideoTracks().forEach(function(e){e.stop&&e.stop()})})),"undefined"!=typeof location&&0===location.href.indexOf("file:")&&console.error("Please load this HTML file on HTTP or HTTPS.");var _={AudioContext:a};function g(){var e=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t=!!window.chrome&&!e;if(void 0!==window.InstallTrigger)return!0;if(!t)return!1;navigator.appVersion;var n,r,o=navigator.userAgent,i=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10);return t&&(n=o.indexOf("Chrome"),i=o.substring(n+7)),-1!==(r=i.indexOf(";"))&&(i=i.substring(0,r)),-1!==(r=i.indexOf(" "))&&(i=i.substring(0,r)),a=parseInt(""+i,10),isNaN(a)&&(i=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10)),a>=49}_={AudioContext:window.AudioContext||window.webkitAudioContext};function m(e){var t,n=this;this.start=function(r,o){var i;(n.mimeType||(n.mimeType="video/webm"),-1!==n.mimeType.indexOf("audio"))&&(e.getVideoTracks().length&&e.getAudioTracks().length&&(navigator.mozGetUserMedia?(i=new f).addTrack(e.getAudioTracks()[0]):i=new f(e.getAudioTracks()),e=i));-1!==n.mimeType.indexOf("audio")&&(n.mimeType=d?"audio/webm":"audio/ogg"),n.dontFireOnDataAvailableEvent=!1;var a={mimeType:n.mimeType};n.disableLogs||o||console.log("Passing following params over MediaRecorder API.",a),t&&(t=null),d&&!g()&&(a="video/vp8");try{t=new MediaRecorder(e,a)}catch(n){t=new MediaRecorder(e)}"canRecordMimeType"in t&&!1===t.canRecordMimeType(n.mimeType)&&(n.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType)),t.ignoreMutedMedia=n.ignoreMutedMedia||!1;var s=!1;t.ondataavailable=function(e){if(!n.dontFireOnDataAvailableEvent&&e.data&&e.data.size&&!(e.data.size<26800)&&!s){s=!0;var o=n.getNativeBlob?e.data:new Blob([e.data],{type:n.mimeType||"video/webm"});n.ondataavailable(o),n.dontFireOnDataAvailableEvent=!0,t&&(t.stop(),t=null),n.start(r,"__disableLogs")}},t.onerror=function(e){n.disableLogs||("InvalidState"===e.name?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed."):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute."):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute."):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute."):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),t&&"inactive"!==t.state&&"stopped"!==t.state&&t.stop()};try{t.start(36e5)}catch(e){t=null}setTimeout(function(){t&&"recording"===t.state&&t.requestData()},r)},this.stop=function(e){t&&"recording"===t.state&&(t.requestData(),setTimeout(function(){n.dontFireOnDataAvailableEvent=!0,t&&"recording"===t.state&&t.stop(),t=null},2e3))},this.pause=function(){t&&"recording"===t.state&&t.pause()},this.ondataavailable=function(e){console.log("recorded-blob",e)},this.resume=function(){if(this.dontFireOnDataAvailableEvent){this.dontFireOnDataAvailableEvent=!1;var e=n.disableLogs;return n.disableLogs=!0,this.record(),void(n.disableLogs=e)}t&&"paused"===t.state&&t.resume()},this.clearRecordedData=function(){t&&(this.pause(),this.dontFireOnDataAvailableEvent=!0,this.stop())},function r(){t&&(!1!==function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?setTimeout(r,1e3):n.stop())}()}function v(e){var t,n;this.start=function(r){r=r||1e3,(t=new y(e,this)).record(),n=setInterval(function(){t.requestData()},r)},this.stop=function(){t&&(t.stop(),clearTimeout(n))},this.pause=function(){t&&t.pause()},this.resume=function(){t&&t.resume()},this.ondataavailable=function(){}}function y(e,t){var n;_.AudioContextConstructor||(_.AudioContextConstructor=new _.AudioContext),n=_.AudioContextConstructor.sampleRate;var r,o=[],i=[],a=!1,s=0,c=t.sampleRate||n,l=(t.mimeType||"audio/wav").indexOf("audio/pcm")>-1,u=t.audioChannels||2;function d(e,t){for(var n=new Float32Array(t),r=0,o=e.length,i=0;i<o;i++){var a=e[i];n.set(a,r),r+=a.length}return n}function f(e,t,n){for(var r=n.length,o=0;o<r;o++)e.setUint8(t+o,n.charCodeAt(o))}function p(e){for(var t=e.length,n=new Int16Array(t);t--;)n[t]=65535*e[t];return n.buffer}this.record=function(){a=!0,o.length=i.length=0,s=0},this.requestData=function(){if(!w)if(0!==s){b=!0;var e=o.slice(0),n=i.slice(0),r=s;o.length=i.length=[],s=0,b=!1;var a=d(e,r),_=a;if(2===u)_=function(e,t){for(var n=e.length+t.length,r=new Float32Array(n),o=0,i=0;i<n;)r[i++]=e[o],r[i++]=t[o],o++;return r}(a,d(n,r));if(l){var g=new Blob([p(_)],{type:"audio/pcm"});return console.debug("audio recorded blob size:",h(g.size)),void t.ondataavailable(g)}var m=new ArrayBuffer(44+2*_.length),v=new DataView(m);f(v,0,"RIFF"),v.setUint32(4,44+2*_.length-8,!0),f(v,8,"WAVE"),f(v,12,"fmt "),v.setUint32(16,16,!0),v.setUint16(20,1,!0),v.setUint16(22,u,!0),v.setUint32(24,c,!0),v.setUint32(28,c*u*2,!0),v.setUint16(32,2*u,!0),v.setUint16(34,16,!0),f(v,36,"data"),v.setUint32(40,2*_.length,!0);for(var y=_.length,S=44,k=0;k<y;k++)v.setInt16(S,32767*_[k],!0),S+=2;g=new Blob([v],{type:"audio/wav"});console.debug("audio recorded blob size:",h(g.size)),t.ondataavailable(g)}else b=!1},this.stop=function(){a=!1,this.requestData(),m.disconnect()};var g=_.AudioContextConstructor;_.VolumeGainNode=g.createGain();var m,v=_.VolumeGainNode;_.AudioInput=g.createMediaStreamSource(e),(m=_.AudioInput).connect(v);var y=t.bufferSize||2048;if(0===t.bufferSize&&(y=0),g.createJavaScriptNode)r=g.createJavaScriptNode(y,u,u);else{if(!g.createScriptProcessor)throw"WebAudio API has no support on this browser.";r=g.createScriptProcessor(y,u,u)}y=r.bufferSize,console.debug("using audio buffer-size:",y);var b=!1;window.scriptprocessornode=r,1===u&&console.debug("All right-channels are skipped.");var w=!1;this.pause=function(){w=!0},this.resume=function(){w=!1},r.onaudioprocess=function(e){if(a&&!b&&!w){var t=e.inputBuffer.getChannelData(0);if(o.push(new Float32Array(t)),2===u){var n=e.inputBuffer.getChannelData(1);i.push(new Float32Array(n))}s+=y}},v.connect(r),r.connect(g.destination)}function b(e){var t,n;this.start=function(r){for(var o in r=r||1e3,t=new w(e,this),this)"function"!=typeof this[o]&&(t[o]=this[o]);t.record(),n=setInterval(function(){t.requestData()},r)},this.stop=function(){t&&(t.stop(),clearTimeout(n))},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.pause=function(){t&&t.pause()},this.resume=function(){t&&t.resume()},this.ondataavailable=function(){}}function w(e,t){this.record=function(n){this.width||(this.width=320),this.height||(this.height=240),this.video&&this.video instanceof HTMLVideoElement&&(this.width||(this.width=a.videoWidth||a.clientWidth||320),this.height||(this.height=a.videoHeight||a.clientHeight||240)),this.video||(this.video={width:this.width,height:this.height}),this.canvas&&this.canvas.width&&this.canvas.height||(this.canvas={width:this.width,height:this.height}),u.width=this.canvas.width,u.height=this.canvas.height,this.video&&this.video instanceof HTMLVideoElement?(this.isHTMLObject=!0,a=this.video.cloneNode()):((a=document.createElement("video")).src=c.createObjectURL(e),a.width=this.video.width,a.height=this.video.height),a.muted=!0,a.play(),s=(new Date).getTime(),l=new k.Video(t.speed,t.quality),console.log("canvas resolutions",u.width,"*",u.height),console.log("video width/height",a.width||u.width,"*",a.height||u.height),o()},this.clearOldRecordedFrames=function(){l.frames=[]};var n=!1;this.requestData=function(){if(!p)if(l.frames.length){n=!0;var e=l.frames.slice(0);l.frames=function(e,t,n,r){var o=document.createElement("canvas");o.width=u.width,o.height=u.height;for(var i=o.getContext("2d"),a=[],s=-1===t,c=t&&t>0&&t<=e.length?t:e.length,l={r:0,g:0,b:0},d=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),f=n&&n>=0&&n<=1?n:0,p=r&&r>=0&&r<=1?r:0,h=!1,_=0;_<c;_++){var g,m,v;if(!h){var y=new Image;y.src=e[_].image,i.drawImage(y,0,0,u.width,u.height);var b=i.getImageData(0,0,u.width,u.height);g=0,m=b.data.length,v=b.data.length/4;for(var w=0;w<m;w+=4){var S={r:b.data[w],g:b.data[w+1],b:b.data[w+2]},k=Math.sqrt(Math.pow(S.r-l.r,2)+Math.pow(S.g-l.g,2)+Math.pow(S.b-l.b,2));k<=d*f&&g++}}!h&&v-g<=v*p||(s&&(h=!0),a.push(e[_]))}(a=a.concat(e.slice(c))).length<=0&&a.push(e[e.length-1]);return a}(e,-1),l.compile(function(e){t.ondataavailable(e),console.debug("video recorded blob size:",h(e.size))}),l.frames=[],n=!1}else n=!1};var r=!1;function o(){if(p)return s=(new Date).getTime(),void setTimeout(o,500);if(!i){if(n)return setTimeout(o,100);var e=(new Date).getTime()-s;if(!e)return o();s=(new Date).getTime(),!f.isHTMLObject&&a.paused&&a.play(),d.drawImage(a,0,0,u.width,u.height),i||l.frames.push({duration:e,image:u.toDataURL("image/webp")}),r||function(e,t,n){var r=document.createElement("canvas");r.width=u.width,r.height=u.height;var o,i,a,s=r.getContext("2d"),c={r:0,g:0,b:0},l=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),d=t&&t>=0&&t<=1?t:0,f=n&&n>=0&&n<=1?n:0,p=new Image;p.src=e.image,s.drawImage(p,0,0,u.width,u.height);var h=s.getImageData(0,0,u.width,u.height);o=0,i=h.data.length,a=h.data.length/4;for(var _=0;_<i;_+=4){var g={r:h.data[_],g:h.data[_+1],b:h.data[_+2]},m=Math.sqrt(Math.pow(g.r-c.r,2)+Math.pow(g.g-c.g,2)+Math.pow(g.b-c.b,2));m<=l*d&&o++}return!(a-o<=a*f)}(l.frames[l.frames.length-1])||(r=!0,t.onStartedDrawingNonBlankFrames()),setTimeout(o,10)}}var i=!1;this.stop=function(){i=!0,this.requestData()};var a,s,l,u=document.createElement("canvas"),d=u.getContext("2d"),f=this;var p=!1;this.pause=function(){p=!0},this.resume=function(){p=!1}}function S(e){if("undefined"==typeof GIFEncoder)throw"Please link: https://cdn.webrtc-experiment.com/gif-recorder.js";function t(){Date.now();var e=new Blob([new Uint8Array(l.stream().bin)],{type:"image/gif"});r.ondataavailable(e),l.stream().bin=[]}this.start=function(e){e=e||1e3;var r=this.videoWidth||320,c=this.videoHeight||240;o.width=a.width=r,o.height=a.height=c,(l=new GIFEncoder).setRepeat(0),l.setDelay(this.frameRate||this.speed||200),l.setQuality(this.quality||1),l.start(),Date.now(),d=requestAnimationFrame(function e(t){n?setTimeout(e,500,t):(d=requestAnimationFrame(e),void 0===typeof s&&(s=t),t-s<90||(a.paused&&a.play(),i.drawImage(a,0,0,r,c),l.addFrame(i),s=t))}),u=setTimeout(t,e)},this.stop=function(){d&&(cancelAnimationFrame(d),clearTimeout(u),t())};var n=!1;this.pause=function(){n=!0},this.resume=function(){n=!1},this.ondataavailable=function(){},this.onstop=function(){};var r=this,o=document.createElement("canvas"),i=o.getContext("2d"),a=document.createElement("video");a.muted=!0,a.autoplay=!0,a.src=c.createObjectURL(e),a.play();var s,l,u,d=null}o.MediaRecorderWrapper=m,o.StereoAudioRecorder=v,o.StereoAudioRecorderHelper=y,o.WhammyRecorder=b,o.WhammyRecorderHelper=w,o.GifRecorder=S;var k=function(){function e(e,t){this.frames=[],e||(e=1),this.duration=1e3/e,this.quality=t||.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map(function(e){var n=function(e){var t=0;e.keyframe&&(t|=128);e.invisible&&(t|=8);e.lacing&&(t|=e.lacing<<1);e.discardable&&(t|=1);if(e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}}))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function o(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}var i=new function(e){var o=function(e){if(e[0]){for(var t=e[0].width,n=e[0].height,r=e[0].duration,o=1;o<e.length;o++)r+=e[o].duration;return{duration:r,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}(e);if(!o)return[];for(var i,a=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(i=o.duration,[].slice.call(new Uint8Array(new Float64Array([i]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:o.width,id:176},{data:o.height,id:186}]}]}]}]}],s=0,c=0;s<e.length;){var l=[],u=0;do{l.push(e[s]),u+=e[s].duration,s++}while(s<e.length&&u<3e4);var d={id:524531317,data:t(c,0,l)};a[1].data.push(d),c+=u}return function e(t){for(var o=[],i=0;i<t.length;i++){var a=t[i].data;"object"==typeof a&&(a=e(a)),"number"==typeof a&&(a=r(a.toString(2))),"string"==typeof a&&(a=new Uint8Array(a.split("").map(function(e){return e.charCodeAt(0)})));var s=a.size||a.byteLength||a.length,c=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),l=s.toString(2),u=new Array(7*c+7+1-l.length).join("0")+l,d=new Array(c).join("0")+"1"+u;o.push(n(t[i].id)),o.push(r(d)),o.push(a)}return new Blob(o,{type:"video/webm"})}(a)}(e.map(function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),r=0,o=[];r<4;r++)o[r]=t.charCodeAt(n+3+r);return{width:16383&(o[1]<<8|o[0]),height:16383&(o[3]<<8|o[2]),data:t,riff:e}}(function e(t){for(var n=0,r={};n<t.length;){var i=t.substr(n,4),a=o(t,n),s=t.substr(n+4+4,a);n+=8+a,r[i]=r[i]||[],"RIFF"===i||"LIST"===i?r[i].push(e(s)):r[i].push(s)}return r}(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(i)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n,r,o,i=(n=t,r=c.createObjectURL(new Blob([n.toString(),"this.onmessage =  function (e) {"+n.name+"(e.data);}"],{type:"application/javascript"})),o=new Worker(r),c.revokeObjectURL(r),o);i.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},i.postMessage(this.frames)},{Video:e}}();o.Whammy=k,window.ConcatenateBlobs=function(e,t,n){var r=[],o=0;!function i(){if(!e[o])return function(){var e=0;r.forEach(function(t){e+=t.byteLength});var o=new Uint16Array(e),i=0;r.forEach(function(e){var t=e.byteLength;t%2!=0&&(e=e.slice(0,t-1)),o.set(new Uint16Array(e),i),i+=t});var a=new Blob([o.buffer],{type:t});n(a)}();var a=new FileReader;a.onload=function(e){r.push(e.target.result),o++,i()},a.readAsArrayBuffer(e[o])}()},e.exports=o,void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}).call(this,n(12))},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={options:{disableScrolling:!1,hostedStyles:!0,animations:!0,keyboardControl:!0,minResolution:0,autoInit:!0,wrapAround:!1,showImageCount:!0},version:"1.4.11"};function i(e,t){var n=this;this.root=t,this.index=e,this.imgPaths=[],this.subTexts=[],this.altTexts=[],this.options={};var r=document.getElementsByClassName("hes-gallery")[this.index];this.options.wrapAround=r.hasAttribute("data-wrap")?"true"==r.dataset.wrap:this.root.options.wrapAround,this.options.showImageCount=r.hasAttribute("data-img-count")?"true"==r.dataset.imgCount:this.root.options.showImageCount;var o=0;r.querySelectorAll("img").forEach(function(e,t){e.hasAttribute("data-disabled")?o++:(e.hasAttribute("data-fullsize")?n.imgPaths.push(e.dataset.fullsize||""):n.imgPaths.push(e.src||""),n.subTexts.push(e.dataset.subtext||""),n.altTexts.push(e.alt||""),e.onclick=function(){n.root.show(n.index,t-o)})}),this.count=this.imgPaths.length}o.setOptions=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.options[t]=e[t]},o.init=function(e){var t=this;this.setOptions(e),this.executed||this.createDOM(),this.options.animations?this.elements.pic_cont.classList="hg-transition":this.elements.pic_cont.classList="",this.count=document.querySelectorAll(".hes-gallery").length,this.galleries=[];for(var n=0;n<this.count;n++)this.galleries[n]=new i(n,this);return this.options.keyboardControl&&!this.keydownEventListener&&(addEventListener("keydown",function(e){var n=e.keyCode;39==n&&t.open&&t.options.keyboardControl&&t.next(),37==n&&t.open&&t.options.keyboardControl&&t.prev(),27==n&&t.open&&t.options.keyboardControl&&t.hide()}),this.keydownEventListener=!0),"HesGallery initiated!"},o.createDOM=function(){var e=this;this.elements={},this.options.hostedStyles&&(document.head.innerHTML+="<link rel='stylesheet' href='https://unpkg.com/hes-gallery/dist/hes-gallery.min.css'>");var t=document.createElement("div");t.id="hgallery",t.setAttribute("style","visibility:hidden;"),this.elements.galery=t,this.elements.galery.innerHTML+="\n    <div id='hg-bg'></div>\n    <div id='hg-pic-cont'>\n      <img id='hg-pic' />\n      <div id='hg-prev-onpic'></div>\n      <div id='hg-next-onpic'></div>\n      <div id='hg-subtext'></div>\n      <div id='hg-howmany'></div>\n    </div>\n    <button id='hg-prev'></button>\n    <button id='hg-next'></button>\n  ",document.body.appendChild(t),this.elements.b_prev=document.getElementById("hg-prev"),this.elements.b_next=document.getElementById("hg-next"),this.elements.pic_cont=document.getElementById("hg-pic-cont"),this.elements.b_next_onpic=document.getElementById("hg-next-onpic"),this.elements.b_prev_onpic=document.getElementById("hg-prev-onpic"),this.elements.b_prev.onclick=this.elements.b_prev_onpic.onclick=function(){e.prev()},this.elements.b_next.onclick=this.elements.b_next_onpic.onclick=function(){e.next()},document.getElementById("hg-bg").onclick=function(){e.hide()},this.executed=!0},o.show=function(e,t){if(innerWidth<this.options.minResolution)return!1;this.currentImg=t,this.currentGal=e,this.open=!0,!this.options.animations&&"hg-transition"!=this.elements.pic_cont.classList||this.elements.pic_cont.classList.remove("hg-transition"),document.getElementById("hg-pic").setAttribute("src",this.galleries[e].imgPaths[t]),document.getElementById("hg-pic").alt=this.galleries[e].altTexts[t],this.elements.galery.classList.add("open"),document.getElementById("hg-subtext").innerHTML=this.galleries[e].subTexts[t],this.galleries[this.currentGal].options.showImageCount&&1!=this.galleries[this.currentGal].imgPaths.length?document.getElementById("hg-howmany").innerHTML=this.currentImg+1+"/"+this.galleries[e].count:document.getElementById("hg-howmany").innerHTML="",1==this.galleries[this.currentGal].imgPaths.length?(this.elements.b_prev.classList="hg-unvisible",this.elements.b_prev_onpic.classList="hg-unvisible",this.elements.b_next.classList="hg-unvisible",this.elements.b_next_onpic.classList="hg-unvisible"):this.currentImg+1!=1||this.galleries[this.currentGal].options.wrapAround?(this.currentImg+1!=this.galleries[this.currentGal].count||this.galleries[this.currentGal].options.wrapAround?(this.elements.b_next.classList="",this.elements.b_next_onpic.classList=""):(this.elements.b_next.classList="hg-unvisible",this.elements.b_next_onpic.classList="hg-unvisible"),this.elements.b_prev.classList="",this.elements.b_prev_onpic.classList=""):(this.elements.b_prev.classList="hg-unvisible",this.elements.b_prev_onpic.classList="hg-unvisible",this.elements.b_next.classList="",this.elements.b_next_onpic.classList=""),this.options.disableScrolling&&(document.body.classList+=" hg-disable-scrolling")},o.hide=function(){this.options.animations&&this.elements.pic_cont.classList.add("hg-transition"),this.elements.galery.classList.remove("open"),this.open=!1,this.options.disableScrolling&&document.body.classList.remove("hg-disable-scrolling")},o.next=function(){this.galleries[this.currentGal].options.wrapAround&&this.currentImg==this.galleries[this.currentGal].count-1?this.show(this.currentGal,0):this.currentImg+1<this.galleries[this.currentGal].count&&this.show(this.currentGal,this.currentImg+1)},o.prev=function(){this.galleries[this.currentGal].options.wrapAround&&0==this.currentImg?this.show(this.currentGal,this.galleries[this.currentGal].count-1):1<this.currentImg+1&&this.show(this.currentGal,this.currentImg-1)},document.addEventListener("DOMContentLoaded",function(){o.options.autoInit&&o.init()}),"object"==r(t)&&void 0!==e&&(e.exports=o),"undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)},function(e,t,n){var r=n(106),o=n(107),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){var r=n(108),o=n(20),i=n(38),a=n(9)("socket.io-client");e.exports=t=c;var s=t.managers={};function c(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o=r(e),c=o.source,l=o.id,u=o.path,d=s[l]&&u in s[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(a("ignoring socket cache for %s",c),n=i(c,t)):(s[l]||(a("new io instance for %s",c),s[l]=i(c,t)),n=s[l]),o.query&&!t.query&&(t.query=o.query),n.socket(o.path,t)}t.protocol=o.protocol,t.connect=c,t.Manager=n(38),t.Socket=n(44)},function(e,t){e.exports=function e(t){var n=new RegExp("^.*("+["\\+https:\\/\\/developers.google.com\\/\\+\\/web\\/snippet\\/","googlebot","baiduspider","gurujibot","yandexbot","slurp","msnbot","bingbot","facebookexternalhit","linkedinbot","twitterbot","slackbot","telegrambot","applebot","pingdom","tumblr ","Embedly","spbot"].join("|")+").*$");t=t||{};var r={version:!1,language:!1,platform:!0,os:!0,pixelDepth:!0,colorDepth:!0,resolution:!1,isAuthoritative:!0,silkAccelerated:!0,isKindleFire:!0,isDesktop:!0,isMobile:!0,isTablet:!0,isWindows:!0,isLinux:!0,isLinux64:!0,isChromeOS:!0,isMac:!0,isiPad:!0,isiPhone:!0,isiPod:!0,isAndroid:!0,isSamsung:!0,isSmartTV:!0,isRaspberry:!0,isBlackberry:!0,isTouchScreen:!0,isOpera:!1,isIE:!1,isEdge:!1,isIECompatibilityMode:!1,isSafari:!1,isFirefox:!1,isWebkit:!1,isChrome:!1,isKonqueror:!1,isOmniWeb:!1,isSeaMonkey:!1,isFlock:!1,isAmaya:!1,isPhantomJS:!1,isEpiphany:!1,source:!1,cpuCores:!1};for(var o in t)t.hasOwnProperty(o)&&void 0!==r[o]&&(r[o]=t[o]);return this.options=r,this.version="1.0.0",this._Versions={Edge:/Edge\/([\d\w\.\-]+)/i,Firefox:/firefox\/([\d\w\.\-]+)/i,IE:/msie\s([\d\.]+[\d])|trident\/\d+\.\d+;.*[rv:]+(\d+\.\d)/i,Chrome:/chrome\/([\d\w\.\-]+)/i,Chromium:/(?:chromium|crios)\/([\d\w\.\-]+)/i,Safari:/version\/([\d\w\.\-]+)/i,Opera:/version\/([\d\w\.\-]+)|OPR\/([\d\w\.\-]+)/i,Ps3:/([\d\w\.\-]+)\)\s*$/i,Psp:/([\d\w\.\-]+)\)?\s*$/i,Amaya:/amaya\/([\d\w\.\-]+)/i,SeaMonkey:/seamonkey\/([\d\w\.\-]+)/i,OmniWeb:/omniweb\/v([\d\w\.\-]+)/i,Flock:/flock\/([\d\w\.\-]+)/i,Epiphany:/epiphany\/([\d\w\.\-]+)/i,WinJs:/msapphost\/([\d\w\.\-]+)/i,PhantomJS:/phantomjs\/([\d\w\.\-]+)/i,UC:/UCBrowser\/([\d\w\.]+)/i},this._Browsers={Edge:/edge/i,Amaya:/amaya/i,Konqueror:/konqueror/i,Epiphany:/epiphany/i,SeaMonkey:/seamonkey/i,Flock:/flock/i,OmniWeb:/omniweb/i,Chromium:/chromium|crios/i,Chrome:/chrome/i,Safari:/safari/i,IE:/msie|trident/i,Opera:/opera|OPR/i,PS3:/playstation 3/i,PSP:/playstation portable/i,Firefox:/firefox/i,WinJs:/msapphost/i,PhantomJS:/phantomjs/i,UC:/UCBrowser/i},this._OS={Windows10:/windows nt 10\.0/i,Windows81:/windows nt 6\.3/i,Windows8:/windows nt 6\.2/i,Windows7:/windows nt 6\.1/i,UnknownWindows:/windows nt 6\.\d+/i,WindowsVista:/windows nt 6\.0/i,Windows2003:/windows nt 5\.2/i,WindowsXP:/windows nt 5\.1/i,Windows2000:/windows nt 5\.0/i,WindowsPhone8:/windows phone 8\./,OSXCheetah:/os x 10[._]0/i,OSXPuma:/os x 10[._]1(\D|$)/i,OSXJaguar:/os x 10[._]2/i,OSXPanther:/os x 10[._]3/i,OSXTiger:/os x 10[._]4/i,OSXLeopard:/os x 10[._]5/i,OSXSnowLeopard:/os x 10[._]6/i,OSXLion:/os x 10[._]7/i,OSXMountainLion:/os x 10[._]8/i,OSXMavericks:/os x 10[._]9/i,OSXYosemite:/os x 10[._]10/i,OSXElCapitan:/os x 10[._]11/i,OSXSierra:/os x 10[._]12/i,Mac:/os x/i,Linux:/linux/i,Linux64:/linux x86_64/i,ChromeOS:/cros/i,Wii:/wii/i,PS3:/playstation 3/i,PSP:/playstation portable/i,iPad:/\(iPad.*os (\d+)[._](\d+)/i,iPhone:/\(iPhone.*os (\d+)[._](\d+)/i,Bada:/Bada\/(\d+)\.(\d+)/i,Curl:/curl\/(\d+)\.(\d+)\.(\d+)/i},this._Platform={Windows:/windows nt/i,WindowsPhone:/windows phone/i,Mac:/macintosh/i,Linux:/linux/i,Wii:/wii/i,Playstation:/playstation/i,iPad:/ipad/i,iPod:/ipod/i,iPhone:/iphone/i,Android:/android/i,Blackberry:/blackberry/i,Samsung:/samsung/i,Curl:/curl/i},this.DefaultAgent={isAuthoritative:!0,isMobile:!1,isTablet:!1,isiPad:!1,isiPod:!1,isiPhone:!1,isAndroid:!1,isBlackberry:!1,isOpera:!1,isIE:!1,isEdge:!1,isIECompatibilityMode:!1,isSafari:!1,isFirefox:!1,isWebkit:!1,isChrome:!1,isKonqueror:!1,isOmniWeb:!1,isSeaMonkey:!1,isFlock:!1,isAmaya:!1,isPhantomJS:!1,isEpiphany:!1,isDesktop:!1,isWindows:!1,isLinux:!1,isLinux64:!1,isMac:!1,isChromeOS:!1,isBada:!1,isSamsung:!1,isRaspberry:!1,isBot:!1,isCurl:!1,isAndroidTablet:!1,isWinJs:!1,isKindleFire:!1,isSilk:!1,isCaptive:!1,isSmartTV:!1,isUC:!1,isTouchScreen:!1,silkAccelerated:!1,colorDepth:-1,pixelDepth:-1,resolution:[],cpuCores:-1,language:"unknown",browser:"unknown",version:"unknown",os:"unknown",platform:"unknown",geoIp:{},source:"",hashInt:function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},hashMD5:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),c)),n(t(e,s),r)}function o(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),c)),n(t(e,s),r)}function i(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),c)),n(t(e,s),r)}function a(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,l,u,d,f,p,h,_,g,m;for(c=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;s<n;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),h=1732584193,_=4023233417,g=2562383102,m=271733878,l=0;l<c.length;l+=16)u=h,d=_,f=g,p=m,h=r(h,_,g,m,c[l+0],7,3614090360),m=r(m,h,_,g,c[l+1],12,3905402710),g=r(g,m,h,_,c[l+2],17,606105819),_=r(_,g,m,h,c[l+3],22,3250441966),h=r(h,_,g,m,c[l+4],7,4118548399),m=r(m,h,_,g,c[l+5],12,1200080426),g=r(g,m,h,_,c[l+6],17,2821735955),_=r(_,g,m,h,c[l+7],22,4249261313),h=r(h,_,g,m,c[l+8],7,1770035416),m=r(m,h,_,g,c[l+9],12,2336552879),g=r(g,m,h,_,c[l+10],17,4294925233),_=r(_,g,m,h,c[l+11],22,2304563134),h=r(h,_,g,m,c[l+12],7,1804603682),m=r(m,h,_,g,c[l+13],12,4254626195),g=r(g,m,h,_,c[l+14],17,2792965006),h=o(h,_=r(_,g,m,h,c[l+15],22,1236535329),g,m,c[l+1],5,4129170786),m=o(m,h,_,g,c[l+6],9,3225465664),g=o(g,m,h,_,c[l+11],14,643717713),_=o(_,g,m,h,c[l+0],20,3921069994),h=o(h,_,g,m,c[l+5],5,3593408605),m=o(m,h,_,g,c[l+10],9,38016083),g=o(g,m,h,_,c[l+15],14,3634488961),_=o(_,g,m,h,c[l+4],20,3889429448),h=o(h,_,g,m,c[l+9],5,568446438),m=o(m,h,_,g,c[l+14],9,3275163606),g=o(g,m,h,_,c[l+3],14,4107603335),_=o(_,g,m,h,c[l+8],20,1163531501),h=o(h,_,g,m,c[l+13],5,2850285829),m=o(m,h,_,g,c[l+2],9,4243563512),g=o(g,m,h,_,c[l+7],14,1735328473),h=i(h,_=o(_,g,m,h,c[l+12],20,2368359562),g,m,c[l+5],4,4294588738),m=i(m,h,_,g,c[l+8],11,2272392833),g=i(g,m,h,_,c[l+11],16,1839030562),_=i(_,g,m,h,c[l+14],23,4259657740),h=i(h,_,g,m,c[l+1],4,2763975236),m=i(m,h,_,g,c[l+4],11,1272893353),g=i(g,m,h,_,c[l+7],16,4139469664),_=i(_,g,m,h,c[l+10],23,3200236656),h=i(h,_,g,m,c[l+13],4,681279174),m=i(m,h,_,g,c[l+0],11,3936430074),g=i(g,m,h,_,c[l+3],16,3572445317),_=i(_,g,m,h,c[l+6],23,76029189),h=i(h,_,g,m,c[l+9],4,3654602809),m=i(m,h,_,g,c[l+12],11,3873151461),g=i(g,m,h,_,c[l+15],16,530742520),h=a(h,_=i(_,g,m,h,c[l+2],23,3299628645),g,m,c[l+0],6,4096336452),m=a(m,h,_,g,c[l+7],10,1126891415),g=a(g,m,h,_,c[l+14],15,2878612391),_=a(_,g,m,h,c[l+5],21,4237533241),h=a(h,_,g,m,c[l+12],6,1700485571),m=a(m,h,_,g,c[l+3],10,2399980690),g=a(g,m,h,_,c[l+10],15,4293915773),_=a(_,g,m,h,c[l+1],21,2240044497),h=a(h,_,g,m,c[l+8],6,1873313359),m=a(m,h,_,g,c[l+15],10,4264355552),g=a(g,m,h,_,c[l+6],15,2734768916),_=a(_,g,m,h,c[l+13],21,1309151649),h=a(h,_,g,m,c[l+4],6,4149444226),m=a(m,h,_,g,c[l+11],10,3174756917),g=a(g,m,h,_,c[l+2],15,718787259),_=a(_,g,m,h,c[l+9],21,3951481745),h=n(h,u),_=n(_,d),g=n(g,f),m=n(m,p);return(s(h)+s(_)+s(g)+s(m)).toLowerCase()}},this.Agent={},this.getBrowser=function(e){switch(!0){case this._Browsers.Edge.test(e):return this.Agent.isEdge=!0,"Edge";case this._Browsers.PhantomJS.test(e):return this.Agent.isPhantomJS=!0,"PhantomJS";case this._Browsers.Konqueror.test(e):return this.Agent.isKonqueror=!0,"Konqueror";case this._Browsers.Amaya.test(e):return this.Agent.isAmaya=!0,"Amaya";case this._Browsers.Epiphany.test(e):return this.Agent.isEpiphany=!0,"Epiphany";case this._Browsers.SeaMonkey.test(e):return this.Agent.isSeaMonkey=!0,"SeaMonkey";case this._Browsers.Flock.test(e):return this.Agent.isFlock=!0,"Flock";case this._Browsers.OmniWeb.test(e):return this.Agent.isOmniWeb=!0,"OmniWeb";case this._Browsers.Opera.test(e):return this.Agent.isOpera=!0,"Opera";case this._Browsers.Chromium.test(e):return this.Agent.isChrome=!0,"Chromium";case this._Browsers.Chrome.test(e):return this.Agent.isChrome=!0,"Chrome";case this._Browsers.Safari.test(e):return this.Agent.isSafari=!0,"Safari";case this._Browsers.WinJs.test(e):return this.Agent.isWinJs=!0,"WinJs";case this._Browsers.IE.test(e):return this.Agent.isIE=!0,"IE";case this._Browsers.PS3.test(e):return"ps3";case this._Browsers.PSP.test(e):return"psp";case this._Browsers.Firefox.test(e):return this.Agent.isFirefox=!0,"Firefox";case this._Browsers.UC.test(e):return this.Agent.isUC=!0,"UCBrowser";default:return 0!==e.indexOf("Mozilla")&&/^([\d\w\-\.]+)\/[\d\w\.\-]+/i.test(e)?(this.Agent.isAuthoritative=!1,RegExp.$1):"unknown"}},this.getBrowserVersion=function(e){switch(this.Agent.browser){case"Edge":if(this._Versions.Edge.test(e))return RegExp.$1;break;case"PhantomJS":if(this._Versions.PhantomJS.test(e))return RegExp.$1;break;case"Chrome":if(this._Versions.Chrome.test(e))return RegExp.$1;break;case"Chromium":if(this._Versions.Chromium.test(e))return RegExp.$1;break;case"Safari":if(this._Versions.Safari.test(e))return RegExp.$1;break;case"Opera":if(this._Versions.Opera.test(e))return RegExp.$1?RegExp.$1:RegExp.$2;break;case"Firefox":if(this._Versions.Firefox.test(e))return RegExp.$1;break;case"WinJs":if(this._Versions.WinJs.test(e))return RegExp.$1;break;case"IE":if(this._Versions.IE.test(e))return RegExp.$2?RegExp.$2:RegExp.$1;break;case"ps3":if(this._Versions.Ps3.test(e))return RegExp.$1;break;case"psp":if(this._Versions.Psp.test(e))return RegExp.$1;break;case"Amaya":if(this._Versions.Amaya.test(e))return RegExp.$1;break;case"Epiphany":if(this._Versions.Epiphany.test(e))return RegExp.$1;break;case"SeaMonkey":if(this._Versions.SeaMonkey.test(e))return RegExp.$1;break;case"Flock":if(this._Versions.Flock.test(e))return RegExp.$1;break;case"OmniWeb":if(this._Versions.OmniWeb.test(e))return RegExp.$1;break;case"UCBrowser":if(this._Versions.UC.test(e))return RegExp.$1;break;default:if("unknown"!==this.Agent.browser&&new RegExp(this.Agent.browser+"[\\/ ]([\\d\\w\\.\\-]+)","i").test(e))return RegExp.$1}},this.getOS=function(e){switch(!0){case this._OS.WindowsVista.test(e):return this.Agent.isWindows=!0,"Windows Vista";case this._OS.Windows7.test(e):return this.Agent.isWindows=!0,"Windows 7";case this._OS.Windows8.test(e):return this.Agent.isWindows=!0,"Windows 8";case this._OS.Windows81.test(e):return this.Agent.isWindows=!0,"Windows 8.1";case this._OS.Windows10.test(e):return this.Agent.isWindows=!0,"Windows 10.0";case this._OS.Windows2003.test(e):return this.Agent.isWindows=!0,"Windows 2003";case this._OS.WindowsXP.test(e):return this.Agent.isWindows=!0,"Windows XP";case this._OS.Windows2000.test(e):return this.Agent.isWindows=!0,"Windows 2000";case this._OS.WindowsPhone8.test(e):return"Windows Phone 8";case this._OS.Linux64.test(e):return this.Agent.isLinux=!0,this.Agent.isLinux64=!0,"Linux 64";case this._OS.Linux.test(e):return this.Agent.isLinux=!0,"Linux";case this._OS.ChromeOS.test(e):return this.Agent.isChromeOS=!0,"Chrome OS";case this._OS.Wii.test(e):return"Wii";case this._OS.PS3.test(e):case this._OS.PSP.test(e):return"Playstation";case this._OS.OSXCheetah.test(e):return this.Agent.isMac=!0,"OS X Cheetah";case this._OS.OSXPuma.test(e):return this.Agent.isMac=!0,"OS X Puma";case this._OS.OSXJaguar.test(e):return this.Agent.isMac=!0,"OS X Jaguar";case this._OS.OSXPanther.test(e):return this.Agent.isMac=!0,"OS X Panther";case this._OS.OSXTiger.test(e):return this.Agent.isMac=!0,"OS X Tiger";case this._OS.OSXLeopard.test(e):return this.Agent.isMac=!0,"OS X Leopard";case this._OS.OSXSnowLeopard.test(e):return this.Agent.isMac=!0,"OS X Snow Leopard";case this._OS.OSXLion.test(e):return this.Agent.isMac=!0,"OS X Lion";case this._OS.OSXMountainLion.test(e):return this.Agent.isMac=!0,"OS X Mountain Lion";case this._OS.OSXMavericks.test(e):return this.Agent.isMac=!0,"OS X Mavericks";case this._OS.OSXYosemite.test(e):return this.Agent.isMac=!0,"OS X Yosemite";case this._OS.OSXElCapitan.test(e):return this.Agent.isMac=!0,"OS X El Capitan";case this._OS.OSXSierra.test(e):return this.Agent.isMac=!0,"macOS Sierra";case this._OS.Mac.test(e):return this.Agent.isMac=!0,"OS X";case this._OS.iPad.test(e):return this.Agent.isiPad=!0,e.match(this._OS.iPad)[0].replace("_",".");case this._OS.iPhone.test(e):return this.Agent.isiPhone=!0,e.match(this._OS.iPhone)[0].replace("_",".");case this._OS.Bada.test(e):return this.Agent.isBada=!0,"Bada";case this._OS.Curl.test(e):return this.Agent.isCurl=!0,"Curl";default:return"unknown"}},this.getPlatform=function(e){switch(!0){case this._Platform.Windows.test(e):return"Microsoft Windows";case this._Platform.WindowsPhone.test(e):return this.Agent.isWindowsPhone=!0,"Microsoft Windows Phone";case this._Platform.Mac.test(e):return"Apple Mac";case this._Platform.Curl.test(e):return"Curl";case this._Platform.Android.test(e):return this.Agent.isAndroid=!0,"Android";case this._Platform.Blackberry.test(e):return this.Agent.isBlackberry=!0,"Blackberry";case this._Platform.Linux.test(e):return"Linux";case this._Platform.Wii.test(e):return"Wii";case this._Platform.Playstation.test(e):return"Playstation";case this._Platform.iPad.test(e):return this.Agent.isiPad=!0,"iPad";case this._Platform.iPod.test(e):return this.Agent.isiPod=!0,"iPod";case this._Platform.iPhone.test(e):return this.Agent.isiPhone=!0,"iPhone";case this._Platform.Samsung.test(e):return this.Agent.isiSamsung=!0,"Samsung";default:return"unknown"}},this.testCompatibilityMode=function(){var e=this;if(this.Agent.isIE&&/Trident\/(\d)\.0/i.test(e.Agent.source)){var t=parseInt(RegExp.$1,10),n=parseInt(e.Agent.version,10);7===n&&7===t&&(e.Agent.isIECompatibilityMode=!0,e.Agent.version=11),7===n&&6===t&&(e.Agent.isIECompatibilityMode=!0,e.Agent.version=10),7===n&&5===t&&(e.Agent.isIECompatibilityMode=!0,e.Agent.version=9),7===n&&4===t&&(e.Agent.isIECompatibilityMode=!0,e.Agent.version=8)}},this.testSilk=function(){switch(!0){case new RegExp("silk","gi").test(this.Agent.source):this.Agent.isSilk=!0}return/Silk-Accelerated=true/gi.test(this.Agent.source)&&(this.Agent.SilkAccelerated=!0),!!this.Agent.isSilk&&"Silk"},this.testKindleFire=function(){var e=this;switch(!0){case/KFOT/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire";case/KFTT/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD";case/KFJWI/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 8.9";case/KFJWA/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 8.9 4G";case/KFSOWI/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 7";case/KFTHWI/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 7";case/KFTHWA/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 7 4G";case/KFAPWI/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 8.9";case/KFAPWA/gi.test(e.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 8.9 4G";default:return!1}},this.testCaptiveNetwork=function(){switch(!0){case/CaptiveNetwork/gi.test(this.Agent.source):return this.Agent.isCaptive=!0,this.Agent.isMac=!0,this.Agent.platform="Apple Mac","CaptiveNetwork";default:return!1}},this.testMobile=function(){var e=this;switch(!0){case e.Agent.isWindows:case e.Agent.isLinux:case e.Agent.isMac:case e.Agent.isChromeOS:e.Agent.isDesktop=!0;break;case e.Agent.isAndroid:case e.Agent.isSamsung:e.Agent.isMobile=!0,e.Agent.isDesktop=!1}switch(!0){case e.Agent.isiPad:case e.Agent.isiPod:case e.Agent.isiPhone:case e.Agent.isBada:case e.Agent.isBlackberry:case e.Agent.isAndroid:case e.Agent.isWindowsPhone:e.Agent.isMobile=!0,e.Agent.isDesktop=!1}/mobile/i.test(e.Agent.source)&&(e.Agent.isMobile=!0,e.Agent.isDesktop=!1)},this.testTablet=function(){var e=this;switch(!0){case e.Agent.isiPad:case e.Agent.isAndroidTablet:case e.Agent.isKindleFire:e.Agent.isTablet=!0}/tablet/i.test(e.Agent.source)&&(e.Agent.isTablet=!0)},this.testNginxGeoIP=function(e){var t=this;Object.keys(e).forEach(function(n){/^GEOIP/i.test(n)&&(t.Agent.geoIp[n]=e[n])})},this.testBot=function(){var e=this,t=n.exec(e.Agent.source.toLowerCase());t?e.Agent.isBot=t[1]:e.Agent.isAuthoritative||(e.Agent.isBot=/bot/i.test(e.Agent.source))},this.testSmartTV=function(){var e=new RegExp("smart-tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv","gi").exec(this.Agent.source.toLowerCase());e&&(this.Agent.isSmartTV=e[1])},this.testAndroidTablet=function(){this.Agent.isAndroid&&!/mobile/i.test(this.Agent.source)&&(this.Agent.isAndroidTablet=!0)},this.testTouchSupport=function(){this.Agent.isTouchScreen="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},this.getLaguage=function(){this.Agent.language=(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"").toLowerCase()},this.getColorDepth=function(){this.Agent.colorDepth=screen.colorDepth||-1},this.getScreenResolution=function(){this.Agent.resolution=[screen.availWidth,screen.availHeight]},this.getPixelDepth=function(){this.Agent.pixelDepth=screen.pixelDepth||-1},this.getCPU=function(){this.Agent.cpuCores=navigator.hardwareConcurrency||-1},this.reset=function(){var e=this;for(var t in e.DefaultAgent)e.DefaultAgent.hasOwnProperty(t)&&(e.Agent[t]=e.DefaultAgent[t]);return e},this.parse=function(t){t=t||navigator.userAgent;var n=new e;return n.Agent.source=t.replace(/^\s*/,"").replace(/\s*$/,""),n.Agent.os=n.getOS(n.Agent.source),n.Agent.platform=n.getPlatform(n.Agent.source),n.Agent.browser=n.getBrowser(n.Agent.source),n.Agent.version=n.getBrowserVersion(n.Agent.source),n.testBot(),n.testSmartTV(),n.testMobile(),n.testAndroidTablet(),n.testTablet(),n.testCompatibilityMode(),n.testSilk(),n.testKindleFire(),n.testCaptiveNetwork(),n.testTouchSupport(),n.getLaguage(),n.getColorDepth(),n.getPixelDepth(),n.getScreenResolution(),n.getCPU(),n.Agent},this.get=function(e){var t=this.parse(),n=[];for(var r in this.options)this.options.hasOwnProperty(r)&&!0===this.options[r]&&n.push(t[r]);e&&n.push(e),!this.options.resolution&&t.isMobile&&n.push(t.resolution);var o=t.hashMD5(n.join(":"));return[o.slice(0,8),o.slice(8,12),"4"+o.slice(12,15),"b"+o.slice(15,18),o.slice(20)].join("-")},this.Agent=this.DefaultAgent,this}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){n(132),e.exports=n(133)},function(e,t,n){var r;e.exports=(r=n(0),n(10),n(56),n(57),n(4),n(5),n(16),n(25),n(58),n(26),n(59),n(60),n(61),n(17),n(62),n(3),n(1),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),r)},function(e,t,n){var r;e.exports=(r=n(0),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},function(e,t,n){var r;e.exports=(r=n(0),function(){var e=r,t=e.lib.WordArray,n=e.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var a=o(t[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},function(e,t,n){var r,o,i,a,s,c;e.exports=(r=n(0),n(25),i=(o=r).lib.WordArray,a=o.algo,s=a.SHA256,c=a.SHA224=s.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),o.SHA224=s._createHelper(c),o.HmacSHA224=s._createHmacHelper(c),r.SHA224)},function(e,t,n){var r,o,i,a,s,c,l,u;e.exports=(r=n(0),n(10),n(26),i=(o=r).x64,a=i.Word,s=i.WordArray,c=o.algo,l=c.SHA512,u=c.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var e=l._doFinalize.call(this);return e.sigBytes-=16,e}}),o.SHA384=l._createHelper(u),o.HmacSHA384=l._createHmacHelper(u),r.SHA384)},function(e,t,n){var r;e.exports=(r=n(0),n(10),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.x64.Word,s=t.algo,c=[],l=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,i=0;i<24;i++){for(var s=0,d=0,f=0;f<7;f++){if(1&o){var p=(1<<f)-1;p<32?d^=1<<p:s^=1<<p-32}128&o?o=o<<1^113:o<<=1}u[i]=a.create(s,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=a.create()}();var f=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,o=0;o<r;o++){var i=e[t+2*o],a=e[t+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(O=n[o]).high^=a,O.low^=i}for(var s=0;s<24;s++){for(var f=0;f<5;f++){for(var p=0,h=0,_=0;_<5;_++)p^=(O=n[f+5*_]).high,h^=O.low;var g=d[f];g.high=p,g.low=h}for(f=0;f<5;f++){var m=d[(f+4)%5],v=d[(f+1)%5],y=v.high,b=v.low;for(p=m.high^(y<<1|b>>>31),h=m.low^(b<<1|y>>>31),_=0;_<5;_++)(O=n[f+5*_]).high^=p,O.low^=h}for(var w=1;w<25;w++){var S=(O=n[w]).high,k=O.low,E=c[w];E<32?(p=S<<E|k>>>32-E,h=k<<E|S>>>32-E):(p=k<<E-32|S>>>64-E,h=S<<E-32|k>>>64-E);var C=d[l[w]];C.high=p,C.low=h}var A=d[0],x=n[0];for(A.high=x.high,A.low=x.low,f=0;f<5;f++)for(_=0;_<5;_++){var O=n[w=f+5*_],R=d[w],T=d[(f+1)%5+5*_],P=d[(f+2)%5+5*_];O.high=R.high^~T.high&P.high,O.low=R.low^~T.low&P.low}O=n[0];var B=u[s];O.high^=B.high,O.low^=B.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],u=0;u<c;u++){var d=a[u],f=d.high,p=d.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),l.push(p),l.push(f)}return new o.init(l,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(f),t.HmacSHA3=i._createHmacHelper(f)}(Math),r.SHA3)},function(e,t,n){var r;e.exports=(r=n(0),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),f=o.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,a,p,b,w,S,k,E,C,A,x,O=this._hash.words,R=d.words,T=f.words,P=s.words,B=c.words,M=l.words,I=u.words;for(S=i=O[0],k=a=O[1],E=p=O[2],C=b=O[3],A=w=O[4],n=0;n<80;n+=1)x=i+e[t+P[n]]|0,x+=n<16?h(a,p,b)+R[0]:n<32?_(a,p,b)+R[1]:n<48?g(a,p,b)+R[2]:n<64?m(a,p,b)+R[3]:v(a,p,b)+R[4],x=(x=y(x|=0,M[n]))+w|0,i=w,w=b,b=y(p,10),p=a,a=x,x=S+e[t+B[n]]|0,x+=n<16?v(k,E,C)+T[0]:n<32?m(k,E,C)+T[1]:n<48?g(k,E,C)+T[2]:n<64?_(k,E,C)+T[3]:h(k,E,C)+T[4],x=(x=y(x|=0,I[n]))+A|0,S=A,A=C,C=y(E,10),E=k,k=x;x=O[1]+p+C|0,O[1]=O[2]+b+A|0,O[2]=O[3]+w+S|0,O[3]=O[4]+i+k|0,O[4]=O[0]+a+E|0,O[0]=x},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,i=o.words,a=0;a<5;a++){var s=i[a];i[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,n){return e^t^n}function _(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function m(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(p),t.HmacRIPEMD160=i._createHmacHelper(p)}(Math),r.RIPEMD160)},function(e,t,n){var r,o,i,a,s,c,l,u,d;e.exports=(r=n(0),n(16),n(17),i=(o=r).lib,a=i.Base,s=i.WordArray,c=o.algo,l=c.SHA1,u=c.HMAC,d=c.PBKDF2=a.extend({cfg:a.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=u.create(n.hasher,e),o=s.create(),i=s.create([1]),a=o.words,c=i.words,l=n.keySize,d=n.iterations;a.length<l;){var f=r.update(t).finalize(i);r.reset();for(var p=f.words,h=p.length,_=f,g=1;g<d;g++){_=r.finalize(_),r.reset();for(var m=_.words,v=0;v<h;v++)p[v]^=m[v]}o.concat(f),c[0]++}return o.sigBytes=4*l,o}}),o.PBKDF2=function(e,t,n){return d.create(n).compute(e,t)},r.PBKDF2)},function(e,t,n){var r;e.exports=(r=n(0),n(1),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var o=this._iv;if(o){var i=o.slice(0);this._iv=void 0}else i=this._prevBlock;r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o,r),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);t.call(this,e,n,o,r),this._prevBlock=i}}),e}(),r.mode.CFB)},function(e,t,n){var r,o,i;e.exports=(r=n(0),n(1),r.mode.CTR=(o=r.lib.BlockCipherMode.extend(),i=o.Encryptor=o.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var a=i.slice(0);n.encryptBlock(a,0),i[r-1]=i[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}}),o.Decryptor=i,o),r.mode.CTR)},function(e,t,n){var r;e.exports=(r=n(0),n(1),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<o;c++)e[n+c]^=s[c]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},function(e,t,n){var r,o,i;e.exports=(r=n(0),n(1),r.mode.OFB=(o=r.lib.BlockCipherMode.extend(),i=o.Encryptor=o.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var a=0;a<r;a++)e[t+a]^=i[a]}}),o.Decryptor=i,o),r.mode.OFB)},function(e,t,n){var r,o;e.exports=(r=n(0),n(1),r.mode.ECB=((o=r.lib.BlockCipherMode.extend()).Encryptor=o.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),o.Decryptor=o.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),o),r.mode.ECB)},function(e,t,n){var r;e.exports=(r=n(0),n(1),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,o=r-n%r,i=n+o-1;e.clamp(),e.words[i>>>2]|=o<<24-i%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},function(e,t,n){var r;e.exports=(r=n(0),n(1),r.pad.Iso10126={pad:function(e,t){var n=4*t,o=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},function(e,t,n){var r;e.exports=(r=n(0),n(1),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},function(e,t,n){var r;e.exports=(r=n(0),n(1),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}},r.pad.ZeroPadding)},function(e,t,n){var r;e.exports=(r=n(0),n(1),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},function(e,t,n){var r,o,i,a;e.exports=(r=n(0),n(1),i=(o=r).lib.CipherParams,a=o.enc.Hex,o.format.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var t=a.parse(e);return i.create({ciphertext:t})}},r.format.Hex)},function(e,t,n){var r;e.exports=(r=n(0),n(4),n(5),n(3),n(1),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],i=[],a=[],s=[],c=[],l=[],u=[],d=[],f=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,o[n]=h,i[h]=n;var _=e[n],g=e[_],m=e[g],v=257*e[h]^16843008*h;a[n]=v<<24|v>>>8,s[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,l[n]=v,v=16843009*m^65537*g^257*_^16843008*n,u[h]=v<<24|v>>>8,d[h]=v<<16|v>>>16,f[h]=v<<8|v>>>24,p[h]=v,n?(n=_^e[e[e[m^_]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],_=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<r;a++)if(a<n)i[a]=t[a];else{var s=i[a-1];a%n?n>6&&a%n==4&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=h[a/n|0]<<24),i[a]=i[a-n]^s}for(var c=this._invKeySchedule=[],l=0;l<r;l++)a=r-l,s=l%4?i[a]:i[a-4],c[l]=l<4||a<=4?s:u[o[s>>>24]]^d[o[s>>>16&255]]^f[o[s>>>8&255]]^p[o[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,f,p,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,s){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],p=4,h=1;h<c;h++){var _=r[l>>>24]^o[u>>>16&255]^i[d>>>8&255]^a[255&f]^n[p++],g=r[u>>>24]^o[d>>>16&255]^i[f>>>8&255]^a[255&l]^n[p++],m=r[d>>>24]^o[f>>>16&255]^i[l>>>8&255]^a[255&u]^n[p++],v=r[f>>>24]^o[l>>>16&255]^i[u>>>8&255]^a[255&d]^n[p++];l=_,u=g,d=m,f=v}_=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&f])^n[p++],g=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^n[p++],m=(s[d>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^n[p++],v=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[p++],e[t]=_,e[t+1]=g,e[t+2]=m,e[t+3]=v},keySize:8});e.AES=t._createHelper(_)}(),r.AES)},function(e,t,n){var r;e.exports=(r=n(0),n(4),n(5),n(3),n(1),function(){var e=r,t=e.lib,n=t.WordArray,o=t.BlockCipher,i=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=i.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var l=o[i]=[],u=c[i];for(n=0;n<24;n++)l[n/6|0]|=t[(s[n]-1+u)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(s[n+24]-1+u)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var o=n[r],i=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((a^o[c])&u[c])>>>0];this._lBlock=a,this._rBlock=i^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function p(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=o._createHelper(d);var h=i.TripleDES=o.extend({_doReset:function(){var e=this._key.words;this._des1=d.createEncryptor(n.create(e.slice(0,2))),this._des2=d.createEncryptor(n.create(e.slice(2,4))),this._des3=d.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(h)}(),r.TripleDES)},function(e,t,n){var r;e.exports=(r=n(0),n(4),n(5),n(3),n(1),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;o=0;for(var i=0;o<256;o++){var a=o%n,s=t[a>>>2]>>>24-a%4*8&255;i=(i+r[o]+s)%256;var c=r[o];r[o]=r[i],r[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[n],e[n]=i,r|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,r}e.RC4=t._createHelper(o);var a=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(a)}(),r.RC4)},function(e,t,n){var r;e.exports=(r=n(0),n(4),n(5),n(3),n(1),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)o[n]^=r[n+4&7];if(t){var i=t.words,a=i[0],s=i[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=l>>>16|4294901760&u,f=u<<16|65535&l;for(o[0]^=l,o[1]^=d,o[2]^=u,o[3]^=f,o[4]^=l,o[5]^=d,o[6]^=u,o[7]^=f,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),r.Rabbit)},function(e,t,n){var r;e.exports=(r=n(0),n(4),n(5),n(3),n(1),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)r[o]^=n[o+4&7];if(t){var i=t.words,a=i[0],s=i[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=l>>>16|4294901760&u,f=u<<16|65535&l;for(r[0]^=l,r[1]^=d,r[2]^=u,r[3]^=f,r[4]^=l,r[5]^=d,r[6]^=u,r[7]^=f,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16,c=((o*o>>>17)+o*s>>>15)+s*s,l=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),r.RabbitLegacy)},function(e,t){e.exports={aes_secret:">|Z2i580Py*4C3r"}},function(e,t,n){"use strict";var r=n(11),o=n(82),i=n(86),a=n(87)||0;function s(){return o(a)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=i},function(e,t,n){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}},function(e,t,n){"use strict";var r,o,i=n(83),a=(n(11),1567752802062),s=7;e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-a));return n===o?r++:(r=0,o=n),t+=i(s),t+=i(e),r>0&&(t+=i(r)),t+=i(n)}},function(e,t,n){"use strict";var r=n(11),o=n(84),i=n(85);e.exports=function(e){for(var t,n=0,a="";!t;)a+=i(o,r.get(),1),t=e<Math.pow(16,n+1),n++;return a}},function(e,t,n){"use strict";var r,o="object"==typeof window&&(window.crypto||window.msCrypto);r=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=r},function(e,t){e.exports=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=Math.ceil(1.6*r*n/t.length),i="";;)for(var a=o,s=e(a);a--;)if((i+=t[s[a]&r]||"").length===+n)return i}},function(e,t,n){"use strict";var r=n(11);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},function(e,t,n){"use strict";e.exports=0},function(e,t,n){"use strict";var r;window.jscolor||(window.jscolor=((r={register:function(){r.attachDOMReadyEvent(r.init),r.attachEvent(document,"mousedown",r.onDocumentMouseDown),r.attachEvent(document,"touchstart",r.onDocumentTouchStart),r.attachEvent(window,"resize",r.onWindowResize)},init:function(){r.jscolor.lookupClass&&r.jscolor.installByClassName(r.jscolor.lookupClass)},tryInstallOnElements:function(e,t){for(var n=new RegExp("(^|\\s)("+t+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),o=0;o<e.length;o+=1){var i;if(void 0===e[o].type||"color"!=e[o].type.toLowerCase()||!r.isColorAttrSupported)if(!e[o].jscolor&&e[o].className&&(i=e[o].className.match(n))){var a=e[o],s=null,c=r.getDataAttr(a,"jscolor");null!==c?s=c:i[4]&&(s=i[4]);var l={};if(s)try{l=new Function("return ("+s+")")()}catch(e){r.warn("Error parsing jscolor options: "+e+":\n"+s)}a.jscolor=new r.jscolor(a,l)}}},isColorAttrSupported:function(){var e=document.createElement("input");return!(!e.setAttribute||(e.setAttribute("type","color"),"color"!=e.type.toLowerCase()))}(),isCanvasSupported:function(){var e=document.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")}(),fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},isElementType:function(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()},getDataAttr:function(e,t){var n="data-"+t,r=e.getAttribute(n);return null!==r?r:null},attachEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},detachEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,n,o){r._attachedGroupEvents.hasOwnProperty(e)||(r._attachedGroupEvents[e]=[]),r._attachedGroupEvents[e].push([t,n,o]),r.attachEvent(t,n,o)},detachGroupEvents:function(e){if(r._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<r._attachedGroupEvents[e].length;t+=1){var n=r._attachedGroupEvents[e][t];r.detachEvent(n[0],n[1],n[2])}delete r._attachedGroupEvents[e]}},attachDOMReadyEvent:function(e){var t=!1,n=function(){t||(t=!0,e())};if("complete"!==document.readyState){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),n())}),window.attachEvent("onload",n),document.documentElement.doScroll&&window==window.top)){!function e(){if(document.body)try{document.documentElement.doScroll("left"),n()}catch(t){setTimeout(e,1)}}()}}else setTimeout(n,1)},warn:function(e){window.console&&window.console.warn&&window.console.warn(e)},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(r._capturedTarget=e,r._capturedTarget.setCapture())},releaseTarget:function(){r._capturedTarget&&(r._capturedTarget.releaseCapture(),r._capturedTarget=null)},fireEvent:function(e,t){if(e)if(document.createEvent)(n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),e.dispatchEvent(n);else if(document.createEventObject){var n=document.createEventObject();e.fireEvent("on"+t,n)}else e["on"+t]&&e["on"+t]()},classNameToList:function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(e,t){return!!t&&-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" ")},setClass:function(e,t){for(var n=r.classNameToList(t),o=0;o<n.length;o+=1)r.hasClass(e,n[o])||(e.className+=(e.className?" ":"")+n[o])},unsetClass:function(e,t){for(var n=r.classNameToList(t),o=0;o<n.length;o+=1){var i=new RegExp("^\\s*"+n[o]+"\\s*|\\s*"+n[o]+"\\s*$|\\s+"+n[o]+"(\\s+)","g");e.className=e.className.replace(i,"$1")}},getStyle:function(e){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle},setStyle:function(){var e=document.createElement("div"),t=function(t){for(var n=0;n<t.length;n+=1)if(t[n]in e.style)return t[n]},n={borderRadius:t(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:t(["boxShadow","MozBoxShadow","webkitBoxShadow"])};return function(e,t,r){switch(t.toLowerCase()){case"opacity":var o=Math.round(100*parseFloat(r));e.style.opacity=r,e.style.filter="alpha(opacity="+o+")";break;default:e.style[n[t]]=r}}}(),setBorderRadius:function(e,t){r.setStyle(e,"borderRadius",t||"0")},setBoxShadow:function(e,t){r.setStyle(e,"boxShadow",t||"none")},getElementPos:function(e,t){var n=0,o=0,i=e.getBoundingClientRect();if(n=i.left,o=i.top,!t){var a=r.getViewPos();n+=a[0],o+=a[1]}return[n,o]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){e||(e=window.event);var t=0,n=0;return void 0!==e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,n=e.clientY),{x:t,y:n}},getRelPointerPos:function(e){e||(e=window.event);var t=(e.target||e.srcElement).getBoundingClientRect(),n=0,r=0;return void 0!==e.changedTouches&&e.changedTouches.length?(n=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(n=e.clientX,r=e.clientY),{x:n-t.left,y:r-t.top}},getViewPos:function(){var e=document.documentElement;return[(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),(window.pageYOffset||e.scrollTop)-(e.clientTop||0)]},getViewSize:function(){var e=document.documentElement;return[window.innerWidth||e.clientWidth,window.innerHeight||e.clientHeight]},redrawPosition:function(){if(r.picker&&r.picker.owner){var e,t,n=r.picker.owner;n.fixed?(e=r.getElementPos(n.targetElement,!0),t=[0,0]):(e=r.getElementPos(n.targetElement),t=r.getViewPos());var o,i,a,s=r.getElementSize(n.targetElement),c=r.getViewSize(),l=r.getPickerOuterDims(n);switch(n.position.toLowerCase()){case"left":o=1,i=0,a=-1;break;case"right":o=1,i=0,a=1;break;case"top":o=0,i=1,a=-1;break;default:o=0,i=1,a=1}var u=(s[i]+l[i])/2;if(n.smartPosition)d=[-t[o]+e[o]+l[o]>c[o]&&-t[o]+e[o]+s[o]/2>c[o]/2&&e[o]+s[o]-l[o]>=0?e[o]+s[o]-l[o]:e[o],-t[i]+e[i]+s[i]+l[i]-u+u*a>c[i]?-t[i]+e[i]+s[i]/2>c[i]/2&&e[i]+s[i]-u-u*a>=0?e[i]+s[i]-u-u*a:e[i]+s[i]-u+u*a:e[i]+s[i]-u+u*a>=0?e[i]+s[i]-u+u*a:e[i]+s[i]-u-u*a];else var d=[e[o],e[i]+s[i]-u+u*a];var f=d[o],p=d[i],h=n.fixed?"fixed":"absolute",_=(d[0]+l[0]>e[0]||d[0]<e[0]+s[0])&&d[1]+l[1]<e[1]+s[1];r._drawPosition(n,f,p,h,_)}},_drawPosition:function(e,t,n,o,i){var a=i?0:e.shadowBlur;r.picker.wrap.style.position=o,r.picker.wrap.style.left=t+"px",r.picker.wrap.style.top=n+"px",r.setBoxShadow(r.picker.boxS,e.shadow?new r.BoxShadow(0,a,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=!!r.getSliderComponent(e);return[2*e.insetWidth+2*e.padding+e.width+(t?2*e.insetWidth+r.getPadToSliderPadding(e)+e.sliderSize:0),2*e.insetWidth+2*e.padding+e.height+(e.closable?2*e.insetWidth+e.padding+e.buttonHeight:0)]},getPickerOuterDims:function(e){var t=r.getPickerDims(e);return[t[0]+2*e.borderWidth,t[1]+2*e.borderWidth]},getPadToSliderPadding:function(e){return Math.max(e.padding,1.5*(2*e.pointerBorderWidth+e.pointerThickness))},getPadYComponent:function(e){switch(e.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderComponent:function(e){if(e.mode.length>2)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},onDocumentMouseDown:function(e){e||(e=window.event);var t=e.target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?r.onControlPointerStart(e,t,t._jscControlName,"mouse"):r.picker&&r.picker.owner&&r.picker.owner.hide()},onDocumentTouchStart:function(e){e||(e=window.event);var t=e.target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?r.onControlPointerStart(e,t,t._jscControlName,"touch"):r.picker&&r.picker.owner&&r.picker.owner.hide()},onWindowResize:function(e){r.redrawPosition()},onParentScroll:function(e){r.picker&&r.picker.owner&&r.picker.owner.hide()},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(e,t,n,o){var i=t._jscInstance;r.preventDefault(e),r.captureTarget(t);var a=function(i,a){r.attachGroupEvent("drag",i,r._pointerMoveEvent[o],r.onDocumentPointerMove(e,t,n,o,a)),r.attachGroupEvent("drag",i,r._pointerEndEvent[o],r.onDocumentPointerEnd(e,t,n,o))};if(a(document,[0,0]),window.parent&&window.frameElement){var s=window.frameElement.getBoundingClientRect(),c=[-s.left,-s.top];a(window.parent.window.document,c)}var l=r.getAbsPointerPos(e),u=r.getRelPointerPos(e);switch(r._pointerOrigin={x:l.x-u.x,y:l.y-u.y},n){case"pad":switch(r.getSliderComponent(i)){case"s":0===i.hsv[1]&&i.fromHSV(null,100,null);break;case"v":0===i.hsv[2]&&i.fromHSV(null,null,100)}r.setPad(i,e,0,0);break;case"sld":r.setSld(i,e,0)}r.dispatchFineChange(i)},onDocumentPointerMove:function(e,t,n,o,i){return function(e){var o=t._jscInstance;switch(n){case"pad":e||(e=window.event),r.setPad(o,e,i[0],i[1]),r.dispatchFineChange(o);break;case"sld":e||(e=window.event),r.setSld(o,e,i[1]),r.dispatchFineChange(o)}}},onDocumentPointerEnd:function(e,t,n,o){return function(e){var n=t._jscInstance;r.detachGroupEvents("drag"),r.releaseTarget(),r.dispatchChange(n)}},dispatchChange:function(e){e.valueElement&&r.isElementType(e.valueElement,"input")&&r.fireEvent(e.valueElement,"change")},dispatchFineChange:function(e){e.onFineChange&&("string"==typeof e.onFineChange?new Function(e.onFineChange):e.onFineChange).call(e)},setPad:function(e,t,n,o){var i=r.getAbsPointerPos(t),a=n+i.x-r._pointerOrigin.x-e.padding-e.insetWidth,s=o+i.y-r._pointerOrigin.y-e.padding-e.insetWidth,c=a*(360/(e.width-1)),l=100-s*(100/(e.height-1));switch(r.getPadYComponent(e)){case"s":e.fromHSV(c,l,null,r.leaveSld);break;case"v":e.fromHSV(c,null,l,r.leaveSld)}},setSld:function(e,t,n){var o=100-(n+r.getAbsPointerPos(t).y-r._pointerOrigin.y-e.padding-e.insetWidth)*(100/(e.height-1));switch(r.getSliderComponent(e)){case"s":e.fromHSV(null,o,null,r.leavePad);break;case"v":e.fromHSV(null,null,o,r.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!1,initVML:function(){if(!r._vmlReady){var e=document;if(e.namespaces[r._vmlNS]||e.namespaces.add(r._vmlNS,"urn:schemas-microsoft-com:vml"),!e.styleSheets[r._vmlCSS]){var t=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],n=e.createStyleSheet();n.owningElement.id=r._vmlCSS;for(var o=0;o<t.length;o+=1)n.addRule(r._vmlNS+"\\:"+t[o],"behavior:url(#default#VML);")}r._vmlReady=!0}},createPalette:function(){var e={elm:null,draw:null};if(r.isCanvasSupported){var t=document.createElement("canvas"),n=t.getContext("2d"),o=function(e,r,o){t.width=e,t.height=r,n.clearRect(0,0,t.width,t.height);var i=n.createLinearGradient(0,0,t.width,0);i.addColorStop(0,"#F00"),i.addColorStop(1/6,"#FF0"),i.addColorStop(2/6,"#0F0"),i.addColorStop(.5,"#0FF"),i.addColorStop(4/6,"#00F"),i.addColorStop(5/6,"#F0F"),i.addColorStop(1,"#F00"),n.fillStyle=i,n.fillRect(0,0,t.width,t.height);var a=n.createLinearGradient(0,0,0,t.height);switch(o.toLowerCase()){case"s":a.addColorStop(0,"rgba(255,255,255,0)"),a.addColorStop(1,"rgba(255,255,255,1)");break;case"v":a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)")}n.fillStyle=a,n.fillRect(0,0,t.width,t.height)};e.elm=t,e.draw=o}else{r.initVML();var i=document.createElement("div");i.style.position="relative",i.style.overflow="hidden";var a=document.createElement(r._vmlNS+":fill");a.type="gradient",a.method="linear",a.angle="90",a.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var s=document.createElement(r._vmlNS+":rect");s.style.position="absolute",s.style.left="-1px",s.style.top="-1px",s.stroked=!1,s.appendChild(a),i.appendChild(s);var c=document.createElement(r._vmlNS+":fill");c.type="gradient",c.method="linear",c.angle="180",c.opacity="0";var l=document.createElement(r._vmlNS+":rect");l.style.position="absolute",l.style.left="-1px",l.style.top="-1px",l.stroked=!1,l.appendChild(c),i.appendChild(l);o=function(e,t,n){switch(i.style.width=e+"px",i.style.height=t+"px",s.style.width=l.style.width=e+1+"px",s.style.height=l.style.height=t+1+"px",a.color="#F00",a.color2="#F00",n.toLowerCase()){case"s":c.color=c.color2="#FFF";break;case"v":c.color=c.color2="#000"}};e.elm=i,e.draw=o}return e},createSliderGradient:function(){var e={elm:null,draw:null};if(r.isCanvasSupported){var t=document.createElement("canvas"),n=t.getContext("2d"),o=function(e,r,o,i){t.width=e,t.height=r,n.clearRect(0,0,t.width,t.height);var a=n.createLinearGradient(0,0,0,t.height);a.addColorStop(0,o),a.addColorStop(1,i),n.fillStyle=a,n.fillRect(0,0,t.width,t.height)};e.elm=t,e.draw=o}else{r.initVML();var i=document.createElement("div");i.style.position="relative",i.style.overflow="hidden";var a=document.createElement(r._vmlNS+":fill");a.type="gradient",a.method="linear",a.angle="180";var s=document.createElement(r._vmlNS+":rect");s.style.position="absolute",s.style.left="-1px",s.style.top="-1px",s.stroked=!1,s.appendChild(a),i.appendChild(s);o=function(e,t,n,r){i.style.width=e+"px",i.style.height=t+"px",s.style.width=e+1+"px",s.style.height=t+1+"px",a.color=n,a.color2=r};e.elm=i,e.draw=o}return e},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:function(){var e=function(e,t,n,r,o,i){this.hShadow=e,this.vShadow=t,this.blur=n,this.spread=r,this.color=o,this.inset=!!i};return e.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},e}(),jscolor:function(e,t){function n(e,t,n){var r=n/100*255;if(null===e)return[r,r,r];e/=60,t/=100;var o=Math.floor(e),i=r*(1-t),a=r*(1-t*(o%2?e-o:1-(e-o)));switch(o){case 6:case 0:return[r,a,i];case 1:return[a,r,i];case 2:return[i,r,a];case 3:return[i,a,r];case 4:return[a,i,r];case 5:return[r,i,a]}}function o(){d._processParentElementsInDOM(),r.picker||(r.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:r.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:r.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")},r.picker.pad.appendChild(r.picker.padPal.elm),r.picker.padB.appendChild(r.picker.pad),r.picker.cross.appendChild(r.picker.crossBY),r.picker.cross.appendChild(r.picker.crossBX),r.picker.cross.appendChild(r.picker.crossLY),r.picker.cross.appendChild(r.picker.crossLX),r.picker.padB.appendChild(r.picker.cross),r.picker.box.appendChild(r.picker.padB),r.picker.box.appendChild(r.picker.padM),r.picker.sld.appendChild(r.picker.sldGrad.elm),r.picker.sldB.appendChild(r.picker.sld),r.picker.sldB.appendChild(r.picker.sldPtrOB),r.picker.sldPtrOB.appendChild(r.picker.sldPtrMB),r.picker.sldPtrMB.appendChild(r.picker.sldPtrIB),r.picker.sldPtrIB.appendChild(r.picker.sldPtrS),r.picker.box.appendChild(r.picker.sldB),r.picker.box.appendChild(r.picker.sldM),r.picker.btn.appendChild(r.picker.btnT),r.picker.box.appendChild(r.picker.btn),r.picker.boxB.appendChild(r.picker.box),r.picker.wrap.appendChild(r.picker.boxS),r.picker.wrap.appendChild(r.picker.boxB));var e=r.picker,t=!!r.getSliderComponent(d),n=r.getPickerDims(d),o=2*d.pointerBorderWidth+d.pointerThickness+2*d.crossSize,s=r.getPadToSliderPadding(d),c=Math.min(d.borderRadius,Math.round(d.padding*Math.PI));e.wrap.style.clear="both",e.wrap.style.width=n[0]+2*d.borderWidth+"px",e.wrap.style.height=n[1]+2*d.borderWidth+"px",e.wrap.style.zIndex=d.zIndex,e.box.style.width=n[0]+"px",e.box.style.height=n[1]+"px",e.boxS.style.position="absolute",e.boxS.style.left="0",e.boxS.style.top="0",e.boxS.style.width="100%",e.boxS.style.height="100%",r.setBorderRadius(e.boxS,c+"px"),e.boxB.style.position="relative",e.boxB.style.border=d.borderWidth+"px solid",e.boxB.style.borderColor=d.borderColor,e.boxB.style.background=d.backgroundColor,r.setBorderRadius(e.boxB,c+"px"),e.padM.style.background=e.sldM.style.background="#FFF",r.setStyle(e.padM,"opacity","0"),r.setStyle(e.sldM,"opacity","0"),e.pad.style.position="relative",e.pad.style.width=d.width+"px",e.pad.style.height=d.height+"px",e.padPal.draw(d.width,d.height,r.getPadYComponent(d)),e.padB.style.position="absolute",e.padB.style.left=d.padding+"px",e.padB.style.top=d.padding+"px",e.padB.style.border=d.insetWidth+"px solid",e.padB.style.borderColor=d.insetColor,e.padM._jscInstance=d,e.padM._jscControlName="pad",e.padM.style.position="absolute",e.padM.style.left="0",e.padM.style.top="0",e.padM.style.width=d.padding+2*d.insetWidth+d.width+s/2+"px",e.padM.style.height=n[1]+"px",e.padM.style.cursor="crosshair",e.cross.style.position="absolute",e.cross.style.left=e.cross.style.top="0",e.cross.style.width=e.cross.style.height=o+"px",e.crossBY.style.position=e.crossBX.style.position="absolute",e.crossBY.style.background=e.crossBX.style.background=d.pointerBorderColor,e.crossBY.style.width=e.crossBX.style.height=2*d.pointerBorderWidth+d.pointerThickness+"px",e.crossBY.style.height=e.crossBX.style.width=o+"px",e.crossBY.style.left=e.crossBX.style.top=Math.floor(o/2)-Math.floor(d.pointerThickness/2)-d.pointerBorderWidth+"px",e.crossBY.style.top=e.crossBX.style.left="0",e.crossLY.style.position=e.crossLX.style.position="absolute",e.crossLY.style.background=e.crossLX.style.background=d.pointerColor,e.crossLY.style.height=e.crossLX.style.width=o-2*d.pointerBorderWidth+"px",e.crossLY.style.width=e.crossLX.style.height=d.pointerThickness+"px",e.crossLY.style.left=e.crossLX.style.top=Math.floor(o/2)-Math.floor(d.pointerThickness/2)+"px",e.crossLY.style.top=e.crossLX.style.left=d.pointerBorderWidth+"px",e.sld.style.overflow="hidden",e.sld.style.width=d.sliderSize+"px",e.sld.style.height=d.height+"px",e.sldGrad.draw(d.sliderSize,d.height,"#000","#000"),e.sldB.style.display=t?"block":"none",e.sldB.style.position="absolute",e.sldB.style.right=d.padding+"px",e.sldB.style.top=d.padding+"px",e.sldB.style.border=d.insetWidth+"px solid",e.sldB.style.borderColor=d.insetColor,e.sldM._jscInstance=d,e.sldM._jscControlName="sld",e.sldM.style.display=t?"block":"none",e.sldM.style.position="absolute",e.sldM.style.right="0",e.sldM.style.top="0",e.sldM.style.width=d.sliderSize+s/2+d.padding+2*d.insetWidth+"px",e.sldM.style.height=n[1]+"px",e.sldM.style.cursor="default",e.sldPtrIB.style.border=e.sldPtrOB.style.border=d.pointerBorderWidth+"px solid "+d.pointerBorderColor,e.sldPtrOB.style.position="absolute",e.sldPtrOB.style.left=-(2*d.pointerBorderWidth+d.pointerThickness)+"px",e.sldPtrOB.style.top="0",e.sldPtrMB.style.border=d.pointerThickness+"px solid "+d.pointerColor,e.sldPtrS.style.width=d.sliderSize+"px",e.sldPtrS.style.height=p+"px",e.btn.style.display=d.closable?"block":"none",e.btn.style.position="absolute",e.btn.style.left=d.padding+"px",e.btn.style.bottom=d.padding+"px",e.btn.style.padding="0 15px",e.btn.style.height=d.buttonHeight+"px",e.btn.style.border=d.insetWidth+"px solid",function(){var t=d.insetColor.split(/\s+/),n=t.length<2?t[0]:t[1]+" "+t[0]+" "+t[0]+" "+t[1];e.btn.style.borderColor=n}(),e.btn.style.color=d.buttonColor,e.btn.style.font="12px sans-serif",e.btn.style.textAlign="center";try{e.btn.style.cursor="pointer"}catch(t){e.btn.style.cursor="hand"}e.btn.onmousedown=function(){d.hide()},e.btnT.style.lineHeight=d.buttonHeight+"px",e.btnT.innerHTML="",e.btnT.appendChild(document.createTextNode(d.closeText)),i(),a(),r.picker.owner&&r.picker.owner!==d&&r.unsetClass(r.picker.owner.targetElement,d.activeClass),r.picker.owner=d,r.isElementType(f,"body")?r.redrawPosition():r._drawPosition(d,0,0,"relative",!1),e.wrap.parentNode!=f&&f.appendChild(e.wrap),r.setClass(d.targetElement,d.activeClass)}function i(){switch(r.getPadYComponent(d)){case"s":var e=1;break;case"v":e=2}var t=Math.round(d.hsv[0]/360*(d.width-1)),o=Math.round((1-d.hsv[e]/100)*(d.height-1)),i=2*d.pointerBorderWidth+d.pointerThickness+2*d.crossSize,a=-Math.floor(i/2);switch(r.picker.cross.style.left=t+a+"px",r.picker.cross.style.top=o+a+"px",r.getSliderComponent(d)){case"s":var s=n(d.hsv[0],100,d.hsv[2]),c=n(d.hsv[0],0,d.hsv[2]),l="rgb("+Math.round(s[0])+","+Math.round(s[1])+","+Math.round(s[2])+")",u="rgb("+Math.round(c[0])+","+Math.round(c[1])+","+Math.round(c[2])+")";r.picker.sldGrad.draw(d.sliderSize,d.height,l,u);break;case"v":var f=n(d.hsv[0],d.hsv[1],100);l="rgb("+Math.round(f[0])+","+Math.round(f[1])+","+Math.round(f[2])+")",u="#000";r.picker.sldGrad.draw(d.sliderSize,d.height,l,u)}}function a(){var e=r.getSliderComponent(d);if(e){switch(e){case"s":var t=1;break;case"v":t=2}var n=Math.round((1-d.hsv[t]/100)*(d.height-1));r.picker.sldPtrOB.style.top=n-(2*d.pointerBorderWidth+d.pointerThickness)-Math.floor(p/2)+"px"}}function s(){return r.picker&&r.picker.owner===d}for(var c in this.value=null,this.valueElement=e,this.styleElement=e,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#FFFFFF",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1e3,this.container=null,t)t.hasOwnProperty(c)&&(this[c]=t[c]);if(this.hide=function(){s()&&(r.unsetClass(d.targetElement,d.activeClass),r.picker.wrap.parentNode.removeChild(r.picker.wrap),delete r.picker.owner)},this.show=function(){o()},this.redraw=function(){s()&&o()},this.importColor=function(){this.valueElement&&r.isElementType(this.valueElement,"input")?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(r.leaveValue|r.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,r.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(r.leaveValue|r.leaveStyle)):this.exportColor()},this.exportColor=function(e){if(!(e&r.leaveValue)&&this.valueElement){var t=this.toString();this.uppercase&&(t=t.toUpperCase()),this.hash&&(t="#"+t),r.isElementType(this.valueElement,"input")?this.valueElement.value=t:this.valueElement.innerHTML=t}e&r.leaveStyle||this.styleElement&&(this.styleElement.style.backgroundImage="none",this.styleElement.style.backgroundColor="#"+this.toString(),this.styleElement.style.color=this.isLight()?"#000":"#FFF"),!(e&r.leavePad)&&s()&&i(),!(e&r.leaveSld)&&s()&&a()},this.fromHSV=function(e,t,r,o){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==r){if(isNaN(r))return!1;r=Math.max(0,Math.min(100,this.maxV,r),this.minV)}this.rgb=n(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===r?this.hsv[2]:this.hsv[2]=r),this.exportColor(o)},this.fromRGB=function(e,t,r,o){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==r){if(isNaN(r))return!1;r=Math.max(0,Math.min(255,r))}var i=function(e,t,n){e/=255,t/=255,n/=255;var r=Math.min(Math.min(e,t),n),o=Math.max(Math.max(e,t),n),i=o-r;if(0===i)return[null,0,100*o];var a=e===r?3+(n-t)/i:t===r?5+(e-n)/i:1+(t-e)/i;return[60*(6===a?0:a),i/o*100,100*o]}(null===e?this.rgb[0]:e,null===t?this.rgb[1]:t,null===r?this.rgb[2]:r);null!==i[0]&&(this.hsv[0]=Math.max(0,Math.min(360,i[0]))),0!==i[2]&&(this.hsv[1]=null===i[1]?null:Math.max(0,this.minS,Math.min(100,this.maxS,i[1]))),this.hsv[2]=null===i[2]?null:Math.max(0,this.minV,Math.min(100,this.maxV,i[2]));var a=n(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=a[0],this.rgb[1]=a[1],this.rgb[2]=a[2],this.exportColor(o)},this.fromString=function(e,t){var n;if(n=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i))return 6===n[1].length?this.fromRGB(parseInt(n[1].substr(0,2),16),parseInt(n[1].substr(2,2),16),parseInt(n[1].substr(4,2),16),t):this.fromRGB(parseInt(n[1].charAt(0)+n[1].charAt(0),16),parseInt(n[1].charAt(1)+n[1].charAt(1),16),parseInt(n[1].charAt(2)+n[1].charAt(2),16),t),!0;if(n=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var r,o,i,a=n[1].split(","),s=/^\s*(\d*)(\.\d+)?\s*$/;if(a.length>=3&&(r=a[0].match(s))&&(o=a[1].match(s))&&(i=a[2].match(s))){var c=parseFloat((r[1]||"0")+(r[2]||"")),l=parseFloat((o[1]||"0")+(o[2]||"")),u=parseFloat((i[1]||"0")+(i[2]||""));return this.fromRGB(c,l,u,t),!0}}return!1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return"#"+this.toString().toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")"},this.isLight=function(){return.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]>127.5},this._processParentElementsInDOM=function(){if(!this._linkedElementsProcessed){this._linkedElementsProcessed=!0;var e=this.targetElement;do{var t=r.getStyle(e);t&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(e._jscEventsAttached||(r.attachEvent(e,"scroll",r.onParentScroll),e._jscEventsAttached=!0))}while((e=e.parentNode)&&!r.isElementType(e,"body"))}},"string"==typeof e){var l=e,u=document.getElementById(l);u?this.targetElement=u:r.warn("Could not find target element with ID '"+l+"'")}else e?this.targetElement=e:r.warn("Invalid target element: '"+e+"'");if(this.targetElement._jscLinkedInstance)r.warn("Cannot link jscolor twice to the same element. Skipping.");else{this.targetElement._jscLinkedInstance=this,this.valueElement=r.fetchElement(this.valueElement),this.styleElement=r.fetchElement(this.styleElement);var d=this,f=this.container?r.fetchElement(this.container):document.getElementsByTagName("body")[0],p=3;if(r.isElementType(this.targetElement,"button"))if(this.targetElement.onclick){var h=this.targetElement.onclick;this.targetElement.onclick=function(e){return h.call(this,e),!1}}else this.targetElement.onclick=function(){return!1};if(this.valueElement&&r.isElementType(this.valueElement,"input")){var _=function(){d.fromString(d.valueElement.value,r.leaveValue),r.dispatchFineChange(d)};r.attachEvent(this.valueElement,"keyup",_),r.attachEvent(this.valueElement,"input",_),r.attachEvent(this.valueElement,"blur",function(){d.importColor()}),this.valueElement.setAttribute("autocomplete","off")}this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}}}).jscolor.lookupClass="jscolor",r.jscolor.installByClassName=function(e){var t=document.getElementsByTagName("input"),n=document.getElementsByTagName("button");r.tryInstallOnElements(t,e),r.tryInstallOnElements(n,e)},r.register(),r.jscolor))},function(e,t,n){"use strict";var r=n(2),o=n(27),i=n(91),a=n(18);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(a);c.Axios=i,c.create=function(e){return s(r.merge(a,e))},c.Cancel=n(31),c.CancelToken=n(104),c.isCancel=n(30),c.all=function(e){return Promise.all(e)},c.spread=n(105),e.exports=c,e.exports.default=c},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(18),o=n(2),i=n(99),a=n(100);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(29);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(2);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(2),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(2);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(2),o=n(101),i=n(30),a=n(18),s=n(102),c=n(103);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return l(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(31);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){var r,o,i=n(32),a=n(33),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),_=void 0!==e.nsecs?e.nsecs:c+1,g=h-s+(_-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=_,o=f;var m=(1e4*(268435455&(h+=122192928e5))+_)%4294967296;u[l++]=m>>>24&255,u[l++]=m>>>16&255,u[l++]=m>>>8&255,u[l++]=255&m;var v=h/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=f>>>8|128,u[l++]=255&f;for(var y=0;y<6;++y)u[l+y]=d[y];return t||a(u)}},function(e,t,n){var r=n(32),o=n(33);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t,n){var r=n(34),o=n(9)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(e,i),a.splice(c,1),c--}return n}),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(35),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){var r=n(36),o=n(37),i=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=function e(t,n){if(!t)return t;if(o(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(r(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=e(t[s],n);return a}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var c in t)a[c]=e(t[c],n);return a}return t}(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(r(t))for(var o=0;o<t.length;o++)t[o]=e(t[o],n);else if("object"==typeof t)for(var i in t)t[i]=e(t[i],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,i=e;!function e(c,l,u){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){n++;var d=new FileReader;d.onload=function(){u?u[l]=this.result:i=this.result,--n||t(i)},d.readAsArrayBuffer(c)}else if(r(c))for(var f=0;f<c.length;f++)e(c[f],f,c);else if("object"==typeof c&&!o(c))for(var p in c)e(c[p],p,c)}(i),n||t(i)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],a=n[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),c=0,u=a>0?r-4:r,d=0;d<u;d+=4)t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===a&&(t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4,s[c++]=255&t);1===a&&(t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=l}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+p]=255&a,p+=h,a/=256,l-=8);e[n+p-h]|=128*_}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(115),e.exports.parser=n(7)},function(e,t,n){var r=n(39),o=n(6),i=n(15)("engine.io-client:socket"),a=n(43),s=n(7),c=n(34),l=n(13);function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=u,u.priorWebsocketSuccess=!1,o(u.prototype),u.protocol=s.protocol,u.Socket=u,u.Transport=n(23),u.transports=n(39),u.parser=n(7),u.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},u.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;u.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(i("changing transport and sending upgrade packet"),f(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{i('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}}))}function a(){n||(n=!0,f(),t.close(),t=null)}function s(n){var o=new Error("probe error: "+n);o.transport=t.name,a(),i('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",o)}function c(){s("transport closed")}function l(){s("socket closed")}function d(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),a())}function f(){t.removeListener("open",o),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",d)}u.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",s),t.once("close",c),this.once("close",l),this.once("upgrading",d),t.open()},u.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},u.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},u.prototype.onError=function(e){i("socket error %j",e),u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){var r=n(22),o=n(40),i=n(6),a=n(14),s=n(15)("engine.io-client:polling-xhr");function c(){}function l(e){if(o.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=l,e.exports.Request=u,a(l,o),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},l.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},l.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},i(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}"undefined"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){var d="onpagehide"in self?"pagehide":"unload";addEventListener(d,f,!1)}function f(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)i[s]=o[a];return i.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var o=!1;return r=r||n,i.count=e,0===e?t():i;function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}}},function(e,t){var n,r,o,i=String.fromCharCode;function a(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return i(e>>t&63|128)}function l(e,t){if(0==(4294967168&e))return i(e);var n="";return 0==(4294965248&e)?n=i(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=i(e>>12&15|224),n+=c(e,6)):0==(4292870144&e)&&(n=i(e>>18&7|240),n+=c(e,12),n+=c(e,6)),n+=i(63&e|128)}function u(){if(o>=r)throw Error("Invalid byte index");var e=255&n[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,i;if(o>r)throw Error("Invalid byte index");if(o==r)return!1;if(t=255&n[o],o++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|u()<<6|u())>=2048)return s(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=a(e),o=r.length,i=-1,s="";++i<o;)s+=l(r[i],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=a(e),r=n.length,o=0;for(var c,l=[];!1!==(c=d(s));)l.push(c);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=i(t);return o}(l)}}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,a,s=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[l++]=r<<2|o>>4,d[l++]=(15&o)<<4|i>>2,d[l++]=(3&i)<<6|63&a;return u}}()},function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function a(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function s(e,t){t=t||{};var r=new n;return a(e).forEach(function(e){r.append(e)}),t.type?r.getBlob(t.type):r.getBlob()}function c(e,t){return new Blob(a(e),t||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=r?o?Blob:c:i?s:void 0},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(e,i),a.splice(c,1),c--}return n}),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(35),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){(function(t){var r=n(40),o=n(14);e.exports=u;var i,a=/\n/g,s=/\\n/g;function c(){}function l(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function u(e){if(r.call(this,e),this.query=this.query||{},!i){var t=l();i=t.___eio=t.___eio||[]}this.index=i.length;var n=this;i.push(function(e){n.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=c)},!1)}o(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},u.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function l(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),e=e.replace(s,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}}).call(this,n(12))},function(e,t,n){(function(t){var r,o,i=n(23),a=n(7),s=n(13),c=n(14),l=n(42),u=n(15)("engine.io-client:websocket");if("undefined"!=typeof WebSocket)r=WebSocket;else if("undefined"!=typeof self)r=self.WebSocket||self.MozWebSocket;else try{o=n(128)}catch(e){}var d=r||o;function f(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=o),i.call(this,e)}e.exports=f,c(f,i),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},f.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,o=0,i=r;o<i;o++)!function(e){a.encodePacket(e,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),n.perMessageDeflate)("string"==typeof o?t.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(e){u("websocket closed before onclose event")}--r||s()})}(e[o]);function s(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},f.prototype.onClose=function(){i.prototype.onClose.call(this)},f.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},f.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===f.prototype.name)}}).call(this,n(21).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.r(t);var r=n(55),o=n(79);function i(){return"undefined"!=typeof Storage}function a(e,t){i()?localStorage.setItem(e,t):function(e,t,n){var r=new Date;r.setTime(r.getTime()+287712e5);var o="expires="+r.toUTCString();document.cookie=e+"="+(i=t,encodeURIComponent(i).split("'").join("%27"))+"; "+o;var i}(e,t)}function s(e){if(i()){var t=localStorage.getItem(e);return"null"!=t&&null!=t||(t=""),t}return function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(-1!=o.indexOf(t))return i=o.substring(t.length,o.length),decodeURIComponent(i)}var i;return""}(e)}function c(e,t){if(!t)return e;try{return r.AES.encrypt(JSON.stringify(e),o.aes_secret).toString()}catch(e){return null}}function l(e,t){if(!t)return e;try{var n=r.AES.decrypt(e,o.aes_secret).toString(r.enc.Utf8);return JSON.parse(n)}catch(e){return""}}function u(e){var t=Math.round(Math.abs(Date.now()-e)/1e3);return t<59?"":t/60<60?parseInt(t/60)+"":t/3600<24?parseInt(t/3600)+"":t/86400<30?parseInt(t/86400)+"":t/2592e3<12?parseInt(t/2592e3)+"":parseInt(t/31104e3)+""}function d(e,t){return t?e&&e.show_chat_background_on_windows?e.chat_background?e.window_color+" url(/uploads/"+e.chat_background+")":e.window_color+" url(/images/main_background.png)":e.window_color:e&&e.show_chat_background?e.chat_background?e.background_color+" url(/uploads/"+e.chat_background+")":e.background_color+" url(/images/main_background.png)":e.background_color}function f(e,t){if(settings){for(var n=document.getElementsByTagName("style"),r=0;r<n.length;r++);var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),a=".btn-primary { background-color: "+settings.btn_color+"; }.btn-primary:hover, .btn-primary:disabled, .btn-primary:active { background-color: "+settings.btn_color+"AA !important; }.border-color { border-color: "+settings.border_color+" !important; }.react-tabs__tab { color: "+settings.btn_color+" !important; }.color-primary { color: "+settings.btn_color+" !important; }.users-count-label__right__arrow-left { border-right-color: "+settings.btn_color+" !important; }.users-count-label__left__arrow-right { border-left-color: "+settings.btn_color+" !important; }.users-count-label { background-color: "+function(e,t){var n=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),o=parseInt(e.substring(5,7),16);n=parseInt(n*(100+t)/100),r=parseInt(r*(100+t)/100),o=parseInt(o*(100+t)/100),r=r<255?r:255,o=o<255?o:255;var i=1==(n=n<255?n:255).toString(16).length?"0"+n.toString(16):n.toString(16),a=1==r.toString(16).length?"0"+r.toString(16):r.toString(16),s=1==o.toString(16).length?"0"+o.toString(16):o.toString(16);return"#"+i+a+s}(settings.btn_color,15)+" !important; }.label-primary { background-color: "+settings.btn_color+"; }";i.type="text/css",i.styleSheet?i.styleSheet.cssText=a:i.appendChild(document.createTextNode(a)),o.appendChild(i)}}function p(){document.body.style.zoom="0.975";var e=h()/document.body.style.zoom,t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style"),r=document.querySelector("#login .login_wrapper"),o="#chat__body { height: calc("+e+"px - 38px); }#chat, #app { height: "+e+"px; }#online_users { height: "+(e-((r?r.clientHeight:0)-3))+"px; }#user_profile { max-height: "+e+"px; }#chat__body__messages_container { height: calc("+e+"px - 32px - 40px); }.user_profile__scroll_area { max-height: "+91*e/100+"px; }.reveal_names_body { height: "+65*e/100+"px; }";n.type="text/css",n.styleSheet?n.styleSheet.cssText=o:n.appendChild(document.createTextNode(o)),t.appendChild(n);var i=document.getElementById("chat__body__messages_container");i&&(i.scrollTop=i.scrollHeight-i.clientHeight);var a=document.getElementById("chat_box__body");a&&(a.scrollTop=a.scrollHeight-a.clientHeight),window.addEventListener("resize",p)}function h(){return document.documentElement.clientHeight}function _(){return location.host.replace("www.","")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}var t,n,r;return t=e,r=[{key:"getIcon",value:function(e){return e.getState().settings.default_avatar?"/uploads/avatars/"+e.getState().settings.default_avatar:"/images/none.png"}},{key:"render",value:function(t){var n=t.getState().settings.chat_name?t.getState().settings.chat_name:"",r="<h1 id='login-header' class='border-color label label-primary'>";return r+="<a class='label label-primary login-header__label' href='/'>",r+="<img src='"+e.getIcon(t)+"' width='28' height='30' />",r+="<span class='login-header__title'>"+n+"</span>",r+="<button class='btn fr btn-success fa fa-refresh login-header__refresh'></button>",r+="</a>",r+="</h1>"}}],(n=null)&&g(t.prototype,n),r&&g(t,r),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getSrc",value:function(e){return e.getState().settings.banner_img?"/uploads/"+e.getState().settings.banner_img:"/images/banner.png"}},{key:"render",value:function(t){var n="<div id='login-banner' class='rainbow'>";return n+="<img src='"+e.getSrc(t)+"' alt='banner' class='login-banner__img' />",n+="</div>"}}],(n=null)&&v(t.prototype,n),r&&v(t,r),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"render",value:function(){return"<a href='https://www.facebook.com/' class='login-btn-holder__btn fa fa-facebook btn btn-primary'>  </a>","<a href='/RULS.html' class='login-btn-holder__btn fa fa-music btn btn-default'>  </a>","<a href='/RED.html' class='login-btn-holder__btn fa fa-star-half-o btn btn-primary'>  </a>","<a href='/RIW.html' class='login-btn-holder__btn fa fa-user btn btn-default'>  </a>","</div>","<div id='login-btn-holder'><a href='https://www.facebook.com/' class='login-btn-holder__btn fa fa-facebook btn btn-primary'>  </a><a href='/RULS.html' class='login-btn-holder__btn fa fa-music btn btn-default'>  </a><a href='/RED.html' class='login-btn-holder__btn fa fa-star-half-o btn btn-primary'>  </a><a href='/RIW.html' class='login-btn-holder__btn fa fa-user btn btn-default'>  </a></div>"}}],(n=null)&&b(t.prototype,n),r&&b(t,r),e}(),S=function(){return{type:"SET_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},k=function(){return{type:"UPDATE_CURRENT_USER",updates:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},E=function(){return{type:"SET_REQUESTED_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},C=function(){return{type:"UPDATE_REQUESTED_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},A=function(){return{type:"UPDATE_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},x=function(e,t,n){return{type:"HANDLE_USER_CHANGE_ROOM",userId:e,oldRoomId:t,newRoomId:n}},O=function(){return{type:"SET_GIFTS",gifts:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},R=function(){return{type:"SET_FACES",faces:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},T=function(){return{type:"SET_FLOATING_PARTICLES",particleType:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"heart"}},P=function(){return{type:"TOGGLE_PUBLIC_MESSAGES_FACE_PICKER",isPublicMessagesFacePickerOpen:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},B=function(){return{type:"TOGGLE_PRIVATE_MESSAGES_FACE_PICKER",isPrivateMessagesFacePickerOpen:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},M=function(){return{type:"TOGGLE_WALL_FACE_PICKER",isWallFacePickerOpen:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},I=function(){return{type:"TOGGLE_WALL_COMMENTS_FACE_PICKER",isWallCommentsFacePickerOpen:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},U=function(e){return{type:"SET_CURRENT_PANE",currentPane:e}},L=function(){return{type:"SET_IS_TV_BOX_OPEN",isTvBoxOpen:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}};function N(e){"touchstart"===e.type?(window.tvInitialX=e.touches[0].clientX-window.tvXOffset,window.tvInitialY=e.touches[0].clientY-window.tvYOffset):(window.tvInitialX=e.clientX-window.tvXOffset,window.tvInitialY=e.clientY-window.tvYOffset);var t=document.querySelector("#tv_box__header"),n=document.querySelector("#tv_box__title"),r=document.querySelector("#tv_box__body");e.target!==t&&e.target!==n&&e.target!==r||(window.tvDragActive=!0)}function F(e){window.tvInitialX=window.tvCurrentX,window.tvInitialY=window.tvCurrentY,window.tvDragActive=!1}function D(e){var t,n;window.tvDragActive&&(e.preventDefault(),"touchmove"===e.type?(window.tvCurrentX=e.touches[0].clientX-window.tvInitialX,window.tvCurrentY=e.touches[0].clientY-window.tvInitialY):(window.tvCurrentX=e.clientX-window.tvInitialX,window.tvCurrentY=e.clientY-window.tvInitialY),window.tvXOffset=window.tvCurrentX,window.tvYOffset=window.tvCurrentY,t=window.tvCurrentX,n=window.tvCurrentY,document.querySelector("#tv_box").style.transform="translate3d("+t+"px, "+n+"px, 0)")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"register",value:function(){var e=document.querySelector("#chat");window.tvDragActive=!1,window.tvXOffset=window.tvXOffset?window.tvXOffset:0,window.tvYOffset=window.tvYOffset?window.tvYOffset:0,e.addEventListener("touchstart",N,!1),e.addEventListener("touchend",F,!1),e.addEventListener("touchmove",D,!1),e.addEventListener("mousedown",N,!1),e.addEventListener("mouseup",F,!1),e.addEventListener("mousemove",D,!1)}},{key:"unregister",value:function(){var e=document.querySelector("#chat");e.removeEventListener("touchstart",N,!1),e.removeEventListener("touchend",F,!1),e.removeEventListener("touchmove",D,!1),e.removeEventListener("mousedown",N,!1),e.removeEventListener("mouseup",F,!1),e.removeEventListener("mousemove",D,!1)}}],(n=null)&&j(t.prototype,n),r&&j(t,r),e}();function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onClose(t)}},{key:"onClose",value:function(t){$("#tv_box__close").unbind().on("click",function(n){e.close(t)})}},{key:"close",value:function(e){e.dispatch(L(!1)),q.unregister(),$("#tv_box").html("")}},{key:"open",value:function(t){t.getState().isTvBoxOpen||($("#tv_box").html(e.render(t)),t.dispatch(L(!0)),e.onClose(t),q.register())}},{key:"update",value:function(t){var n=t.getState().settings.tv_box_title?t.getState().settings.tv_box_title:"",r=e.parseURL(t.getState().settings.tv_box_url);$("#tv_box__title").text(n),$("#tv_box__body iframe").attr("src")!=r&&$("#tv_box__body iframe").attr("src",r)}},{key:"parseURL",value:function(e){if(!e)return"";var t=function(e){try{if(e.includes("youtube")){var t=e.split("v=")[1];if(!t)return null;var n=t.indexOf("&");return-1!=n?t.substring(0,n):t}if(!e.includes("youtu.be/"))return null;var r=e.split("youtu.be/"),o=r[0],i=r[1];if(o&&11==o.length)return o;if(i&&11==i.length)return i}catch(e){return null}}(e);return t?"https://www.youtube.com/embed/"+t+"?playsinline=1":e}},{key:"render",value:function(t){var n="<div>";return n+="<header id='tv_box__header' class='label label-primary'>",n+="<span id='tv_box__title'>"+(t.getState().settings.tv_box_title?t.getState().settings.tv_box_title:"")+"</span>",n+="<button id='tv_box__close' class='fa fa-close btn btn-danger'></button>",n+="</header>",n+="<div id='tv_box__body' class='fl'>",n+="<iframe src='"+e.parseURL(t.getState().settings.tv_box_url)+"' frameborder='0' allow='accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture' ></iframe>",n+="</div>",n+="</div>"}}],(n=null)&&W(t.prototype,n),r&&W(t,r),e}();function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onClose(t)}},{key:"onClose",value:function(e){$(".chat_pane__header button").on("click",function(t){e.dispatch(U(null)),nn.togglePane(e,!0)})}},{key:"render",value:function(e,t){var n="<div class='chat_pane__header label label-primary '>";return n+="<h3 "+(t?"style='text-align: center;'":"")+" class='label label-primary chat_pane__header__title'>"+e+"</h3>",n+="<button class='btn btn-danger fa fa-times chat_pane__header__close'></button>",n+="</div>"}}],(n=null)&&G(t.prototype,n),r&&G(t,r),e}(),V=n(47),X=n.n(V);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"keys",value:function(e){var t=e.getState().faces,n=[];for(var r in t)n.push(t[r].key);return n}},{key:"icons",value:function(e){var t=e.getState().faces,n=[];for(var r in t)n.push(t[r].icon);return n}},{key:"findKeys",value:function(t,n){for(var r=[],o=e.keys(n).map(function(e){return"("+e+")"}).sort(function(e,t){return e.length>t.length?-1:1}).toString().replace(/,/g,"|"),i=new RegExp("("+o+")"),a=null,s=0;s<10;s++){var c=i.exec(t);c&&(a=X.a.generate(),r.push({id:a,key:c[0]}),t=t.replace(i,a))}return{data:t,detectedFaces:r}}},{key:"renderImage",value:function(t,n){var r=e.keys(n).indexOf(t);if(r>=0)return"<img src='/uploads/faces/"+e.icons(n)[r]+"' height='18' alt='' />"}},{key:"render",value:function(t,n){if(!t)return"";if(!e.keys(n).length)return"<span>"+t+"</span>";var r=e.findKeys(t,n);if(!r.detectedFaces.length)return"<span>"+r.data+"</span>";var o=r.data,i="";for(var a in r.detectedFaces){var s=r.detectedFaces[a];if(void 0!==o){var c=o.split(s.id);void 0!==(o=c[1])&&(c[0]?i+="<span><span>"+c[0]+"</span>"+e.renderImage(s.key,n)+"</span>":i+="<span>"+e.renderImage(s.key,n)+"</span>")}}return"<span>"+i+"<span>"+(o=o||"")+"</span></span>"}}],(n=null)&&Y(t.prototype,n),r&&Y(t,r),e}();function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onSelect()}},{key:"onSelect",value:function(){$(".emoji_picker img.emoji_picker__item").unbind("click").on("click",function(e){var t=e.target.dataset.key,n=document.querySelector($(this).parent().data("input"));n&&(n.value=n.value.trim()+" "+t+" ",n.focus())})}},{key:"toggle",value:function(e){e&&(e.getState().isPublicMessagesFacePickerOpen?$(".emoji_picker.public_messages").show():$(".emoji_picker.public_messages").hide(),e.getState().isPrivateMessagesFacePickerOpen?$(".emoji_picker.private_messages").show():$(".emoji_picker.private_messages").hide(),e.getState().isWallFacePickerOpen?$(".emoji_picker.wall").show():$(".emoji_picker.wall").hide(),e.getState().isWallCommentsFacePickerOpen?$(".emoji_picker.wall-comments").show():$(".emoji_picker.wall-comments").hide())}},{key:"render",value:function(e,t,n){var r="<div class='emoji_picker "+e+"' data-input='"+t+"' style='display: none'>";return n.getState().faces.map(function(e){r+="<img src='/uploads/faces/"+e.icon+"' height='22' data-key='"+e.key+"' class='emoji_picker__item' alt='emoji' />"}),r+="</div>"}}],(n=null)&&J(t.prototype,n),r&&J(t,r),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"render",value:function(e){var t="<span class='username'>";return t+=e.icon?"<img src='"+e.icon+"' class='username__icon fl' alt='' style='max-height: 16px' />":"",t+="<span class='username__wrapper' style='background-color: "+e.nameBgColor+"; color: "+e.nameColor+"'>"+e.name+"</span>",t+="</span>"}}],(n=null)&&Z(t.prototype,n),r&&Z(t,r),e}();function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.clearGift(t),e.onSelect(t),e.close(t)}},{key:"clearGift",value:function(e){$(".gifts_picker__contianer__clear").unbind("click").on("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_REMOVE_GIFT",data:{userID:n}}),function(e){"string"==typeof(e=l(e))&&alert(e)})})}},{key:"onSelect",value:function(e){$(".gifts_picker__contianer__img").unbind("click").on("click",function(t){var n=e.getState().requestedUser,r=$(this).data("id"),o=n.id;n.icon!=$(this).attr("src")&&e.getState().socket.emit("req",c({type:"PROFILE_ACTION_GIFT",data:{userID:o,giftID:r}}),function(e){"string"==typeof(e=l(e))&&alert(e)})})}},{key:"close",value:function(e){$(".gifts_picker__contianer__close").unbind("click").on("click",function(e){$("#user_profile .gifts_picker").hide(),$("#user_profile .user_profile__body__avatar").show()})}},{key:"render",value:function(e){var t="<div class='gifts_picker' style='display: none'>";return t+="<div class='gifts_picker__contianer'>",e.getState().gifts.forEach(function(e){t+="<img data-id='"+e.id+"' src='"+e.icon+"' class='gifts_picker__contianer__img' />"}),t+="</div>",t+="<button class='gifts_picker__contianer__clear btn btn-primary fa fa-times fl'> </button>",t+="<button class='gifts_picker__contianer__close btn btn-danger fa fa-times fr'> </button>",t+="<div class='clear'></div>",t+="</div>"}}],(n=null)&&te(t.prototype,n),r&&te(t,r),e}(),re=function(e){return{type:"SET_CURRENT_CONVERSATION",user:e}},oe=function(e){return{type:"REMOVE_CONVERSATION",id:e}},ie=function(e,t,n,r){return{type:"ADD_MESSAGE_TO_CONVERSATION",conversation_id:e,me:t,him:n,seen:r,message:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}};function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.getProfile(t),e.photoClicked(),e.youtubeVideoClicked()}},{key:"updateUser",value:function(e,t){if(t.getState().currentConversation){var n=t.getState().users.filter(function(t){return t.id==e})[0];if(n){var r=$(".private_message[data-user-id='"+e+"']");r&&(r.find(".private_message__avatar img").attr("src",n.avatar),r.find(".private_message__title").html(ee.render(n)),r.find(".private_message__body").css("color",n.fontColor))}}}},{key:"getProfile",value:function(e){$("#chat_box .private_message .private_message__avatar img").unbind("click").on("click",function(t){var n=$(this).closest(".private_message").data("user-id");Et.show(n,e)})}},{key:"getBaseDir",value:function(){return"/uploads/private/"}},{key:"photoClicked",value:function(){$(".private_message__body__image").unbind("click").on("click",function(e){e.stopPropagation(),window.open($(this).attr("src"),"_blank").focus()})}},{key:"youtubeVideoClicked",value:function(){$(".private_message .yt-btn").unbind("click").on("click",function(e){e.stopPropagation();try{var t=$(this).data("msg-id"),n="https://www.youtube.com/embed/"+$(this).data("yid")+"?autoplay=1&playsinline=1",r=document.getElementById("yt-btn-"+t);r&&(r.insertAdjacentHTML("afterend",'<iframe width="95%" style="max-width:240px;" height="200" src="'+n+'" frameborder="0"></iframe><br />'),r.remove())}catch(e){}})}},{key:"renderMessageBody",value:function(t,n){switch(t.type){case"text":return K.render(t.body,n);case"photo":return"<img src='"+e.getBaseDir()+t.body+"' alt='' class='private_message__body__image private_message__body__media' />";case"sound":return"<audio controls class='private_message__body__media'><source src='"+e.getBaseDir()+t.body+"' /></audio>";case"video":return"<video controls class='private_message__body__media'><source src='"+e.getBaseDir()+t.body+"' /></video>";case"youtube":return"<button id='yt-btn-"+t.id+"' class='yt-btn' data-msg-id='"+t.id+"' data-yid='"+t.body+"'><img src='images/youtube.png'/><img style='width: 80px' alt='[YouTube]' src='https://img.youtube.com/vi/"+t.body+"/0.jpg' /></button>";default:return""}}},{key:"render",value:function(t,n,r){var o="<div class='private_message linen' data-user-id='"+n.id+"'>";return o+="<p class='private_message__avatar'><img class='radius' width='28' height='28' src='"+n.avatar+"' /></p>",o+="<div>",o+="<h5 class='private_message__title'>",o+=ee.render(n),o+="</h5>",o+="<h5 class='private_message__body' style='color: "+n.fontColor+"'>",o+=e.renderMessageBody(t,r),o+="</h5>",o+="</div>",o+="<span class='private_message__time fr time' data-time='"+t.time+"'>"+u(t.time)+"</span>",o+="<div class='clear'></div>",o+="</div>"}}],(n=null)&&ae(t.prototype,n),r&&ae(t,r),e}();n(88);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.editRoom(t),e.deleteRoom(t)}},{key:"editRoom",value:function(t){$("#editRoomModal form").on("submit",function(n){n.preventDefault();var r=n.target.name.value.trim(),o=n.target.description.value.trim(),i=n.target.welcome.value.trim(),a=n.target.password.value.trim(),s=n.target.capacity.value,u=$(this).data("id");if(!r.length)return e.showErrorMessage("   ");if(r.length<2)return e.showErrorMessage("       ");if(r!=t.getState().mUser.room.name&&t.getState().rooms.filter(function(e){return e.name==r}).length)return e.showErrorMessage("  ,    ");if(s<2||s>50)return e.showErrorMessage("      2  50");t.getState().socket.emit("req",c({type:"EDIT_ROOM",data:{room:{id:u,name:r,description:o,welcome:i,password:a,capacity:s}}}),function(t){if("string"==typeof(t=l(t)))return alert(t);t&&"object"==ce(t)&&(!1===t.error?e.showSuccessMessage("   "):!0===t.error&&e.showErrorMessage(t.message))})})}},{key:"deleteRoom",value:function(t){$("#room_modal__body__form__delete").on("click",function(n){t.getState().socket.emit("req",c({type:"REMOVE_ROOM",data:{room:{id:t.getState().mUser.room.id}}}),function(t){if("string"==typeof(t=l(t)))return alert(t);t&&"object"==ce(t)&&(!1===t.error?e.showSuccessMessage("  ,     "):!0===t.error&&e.showErrorMessage(t.message))})})}},{key:"showErrorMessage",value:function(e){$("#editRoomModal .alert-success").hide(),$("#editRoomModal .alert-danger").text(e).show()}},{key:"showSuccessMessage",value:function(e){$("#editRoomModal .alert-success").text(e).show(),$("#editRoomModal .alert-danger").hide()}},{key:"render",value:function(t,n){var r=t.description?t.description:"",o=t.welcome?t.welcome:"",i="<div class='modal fade room_modal' id='editRoomModal' tabindex='-1' role='dialog' aria-hidden='true'>";i+="<div class='modal-dialog' role='document'>",i+="<div class='modal-content'>",i+="<div class='room_modal__header modal-header label label-primary'>",i+="<div class='modal-title'>",i+="<p class='room_modal__header__name ellipsis'> </p>",i+="<button data-dismiss='modal' class='btn btn-danger room_modal__header__close fa fa-times'></button>",i+="</div>",i+="</div>",i+="<div class='room_modal__body modal-body'>",i+="<p class='alert alert-danger' style='display: none'></p>",i+="<p class='alert alert-success' style='display: none'></p>",i+="<form data-id='"+t.id+"' id='room_modal__body__form'>",i+="<div>",i+="<div><input type='text' name='name' value='"+t.name+"' placeholder=' ' /></div>",i+="<div><input type='text' name='description' value='"+r+"' placeholder='' /></div>",i+="<div><input type='text' name='welcome' value='"+o+"' placeholder=' ' /></div>",i+="<div><input type='text' name='password' placeholder=' ' /></div>",i+="<div><input type='number' name='capacity' value='"+t.capacity+"' placeholder='   2  50' /></div>",i+="<button class='btn btn-success pull-left'><span class='fa fa-save'></span> &nbsp;</button>",i+="<button id='room_modal__body__form__delete' type='button' class='btn btn-danger pull-right'><span class='fa fa-remove'></span> </button>",i+="</div>",i+="</form>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",$("#room_modal__body__form__delete").unbind("click"),$("#editRoomModal form").unbind("submit"),$("#edit_room_container").html(i),e.registerEvents(n)}}],(n=null)&&le(t.prototype,n),r&&le(t,r),e}(),de=n(8),fe=n.n(de);function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var he=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.submit(t),e.initJSColor(),e.openAdmin(t),e.closeChat(t),e.openIngoredUsers(t),e.removeNameBgColor(t),e.openNotifications(t),e.changeFontSize(t),e.hideRoleIcon(t),e.triggerChangeAvatarInput(t),e.changeAvatar(t),e.removeAvatar(t),e.togglePrivate(t),e.toggleNotifications(t),e.changePassword(t),e.sendAd(t),e.manageRoom(t)}},{key:"prependHash",value:function(e){return"string"!=typeof e?"":e.includes("#")?e:"#"+e}},{key:"initJSColor",value:function(){var e=document.getElementsByClassName("jscolor");for(var t in e)try{new jscolor(e[t]).importColor()}catch(e){}}},{key:"changeFontSize",value:function(e){$("#chat__body__settings_pane__container__button--change-font-size option[value='"+e.getState().mUser.fontSize+"']").attr("selected","selected"),document.querySelector("html").style.fontSize=e.getState().mUser.fontSize+"px",$("#chat__body__settings_pane__container__button--change-font-size").on("change",function(t){var n={type:"USER_SETTINGS_SET_FONT_SIZE",data:{fontSize:t.target.value}};e.getState().socket.emit("req",c(n),function(t){t=l(t),e.getState().mUser.reg_id||a("fontSize",c(t,!0)),e.dispatch(k({fontSize:t})),document.querySelector("html").style.fontSize=t+"px"})})}},{key:"submit",value:function(t){$("#chat__body__settings_pane form").on("submit",function(n){n.preventDefault();var r={type:"USER_SETTINGS_SAVE",data:{decoration:n.target.decoration.value,status:n.target.status.value,fontColor:e.prependHash(n.target.fontColor.value.trim()),nameColor:e.prependHash(n.target.nameColor.value.trim()),nameBgColor:e.prependHash(n.target.nameBgColor.value.trim()),statusColor:e.prependHash(n.target.statusColor.value.trim())}};t.getState().socket.emit("req",c(r),function(e){e=l(e),t.getState().mUser.reg_id||Object.keys(e).forEach(function(t){a(t="name"==t?"gun":t,c(e["gun"==t?"name":t],!0))})})})}},{key:"triggerChangeAvatarInput",value:function(){$("#chat__body__settings_pane__container__button--change_avatar").on("click",function(e){if(!$(this).hasClass("is-loading")){var t=document.getElementById("change_avatar_input");t&&t.click()}})}},{key:"changeAvatar",value:function(t){$("#change_avatar_input").on("change",function(n){var r=new FormData;r.append("avatar",n.target.files[0]),$("#chat__body__settings_pane__container__button--change_avatar").addClass("disabled"),fe.a.post("/change_avatar",r).then(function(n){if($("#chat__body__settings_pane__container__button--change_avatar").removeClass("disabled"),!1===n.data.error){var r={type:"USER_SETTINGS_CHANGE_AVATAR",data:{avatar:n.data.avatar}};t.getState().socket.emit("req",c(r),function(n){t.getState().mUser.reg_id||a("avatar",c(n,!0)),n=l(n),e.updateUserAttribute("avatar","/uploads/avatars/sm/"+n,t),$("#chat__body__settings_pane__container__button--change_avatar .avatar").attr("src","/uploads/avatars/sm/"+n)})}}).catch(function(e){})})}},{key:"removeAvatar",value:function(t){$("#chat__body__settings_pane__container__button--remove-avatar").on("click",function(n){if(confirm("     ")){t.getState().socket.emit("req",c({type:"USER_SETTINGS_REMOVE_AVATAR",data:{}}),function(n){t.getState().mUser.reg_id||a("avatar",null),n=l(n),e.updateUserAttribute("avatar",n,t),$("#chat__body__settings_pane__container__button--change_avatar .avatar").attr("src",n)})}})}},{key:"updateUserAttribute",value:function(e,t,n){var r={};r[e]=t,n.dispatch(k(r))}},{key:"updateDecoration",value:function(e){$("#chat__body__settings_pane form input[name='decoration']").val(e.getState().mUser.name)}},{key:"openIngoredUsers",value:function(e){$("#chat__body__settings_pane__container__button--ignored_users").on("click",function(t){e.dispatch(U("ignored_users")),nn.togglePane(e)})}},{key:"openNotifications",value:function(e){$("#chat__body__settings_pane__container__button--notifications").on("click",function(t){e.dispatch(U("notifications")),nn.togglePane(e)})}},{key:"removeNameBgColor",value:function(t){$(".chat__body__settings_pane__container__rm_bg_color").on("click",function(n){t.getState().socket.emit("req",c({type:"USER_SETTINGS_REMOVE_NAME_BG_COLOR",data:{}}),function(n){n=l(n),t.getState().mUser.reg_id||a("nameBgColor",c(n,!0)),e.updateUserAttribute("nameBgColor",n,t),$("input[name='nameBgColor']").val("FFFFFF"),e.initJSColor()})})}},{key:"hideRoleIcon",value:function(t){$("#chat__body__settings_pane__container__button--toggle-star").on("click",function(n){t.getState().socket.emit("req",c({type:"USER_SETTINGS_HIDE_ROLE_ICON",data:{}}),function(n){n=l(n),e.updateUserAttribute("isRoleIconHidden",n,t),n?($("#chat__body__settings_pane__container__button--toggle-star .toggle_star__hide").removeClass("toggle_star--active"),$("#chat__body__settings_pane__container__button--toggle-star .toggle_star__show").addClass("toggle_star--active")):($("#chat__body__settings_pane__container__button--toggle-star .toggle_star__hide").addClass("toggle_star--active"),$("#chat__body__settings_pane__container__button--toggle-star .toggle_star__show").removeClass("toggle_star--active"))})})}},{key:"togglePrivate",value:function(t){$("#chat__body__settings_pane__container__button--toggle_private").on("click",function(n){t.getState().socket.emit("req",c({type:"USER_SETTINGS_TOGGLE_PRIVATE",data:{}}),function(n){n=l(n),e.updateUserAttribute("isPrivateDisabled",n,t),n?($("#chat__body__settings_pane__container__button--toggle_private .toggle_private__disable").removeClass("toggle_private--active"),$("#chat__body__settings_pane__container__button--toggle_private .toggle_private__enable").addClass("toggle_private--active")):($("#chat__body__settings_pane__container__button--toggle_private .toggle_private__disable").addClass("toggle_private--active"),$("#chat__body__settings_pane__container__button--toggle_private .toggle_private__enable").removeClass("toggle_private--active"))})})}},{key:"toggleNotifications",value:function(t){$("#chat__body__settings_pane__container__button--toggle_notifications").on("click",function(n){t.getState().socket.emit("req",c({type:"USER_SETTINGS_TOGGLE_NOTIFICATIONS",data:{}}),function(n){n=l(n),e.updateUserAttribute("isNotificationsDisabled",n,t),n?($("#chat__body__settings_pane__container__button--toggle_notifications .toggle_notifications__disable").removeClass("toggle_notifications--active"),$("#chat__body__settings_pane__container__button--toggle_notifications .toggle_notifications__enable").addClass("toggle_notifications--active")):($("#chat__body__settings_pane__container__button--toggle_notifications .toggle_notifications__disable").addClass("toggle_notifications--active"),$("#chat__body__settings_pane__container__button--toggle_notifications .toggle_notifications__enable").removeClass("toggle_notifications--active"))})})}},{key:"changePassword",value:function(e){$("#chat__body__settings_pane__container__button-change_password").on("click",function(t){var n=prompt("    ");if(n){if(n.length<6)return alert("       6 ");var r={type:"USER_SETTINGS_CHANGE_PASSWORD",data:{password:n}};e.getState().socket.emit("req",c(r),function(e){(e=l(e)).error||a("mup",c(n,!0)),alert(e.message)})}})}},{key:"sendAd",value:function(e){$("#chat__body__settings_pane__container__button--send_ad").on("click",function(t){var n=prompt("  :");if(n){var r={type:"USER_SETTINGS_SEND_AD",data:{message:n}};e.getState().socket.emit("req",c(r),function(e){})}})}},{key:"manageRoom",value:function(e){$("#chat__body__settings_pane__container__button--manage_room").on("click",function(t){if(!e.getState().mUser.room)return alert("       ");ue.render(e.getState().mUser.room,e)})}},{key:"openAdmin",value:function(e){$("#chat__body__settings_pane__container__button--open_admin").on("click",function(t){window.open("/fadmn/home/".concat(e.getState().grantedSettings.adminToken),"_blank").focus()})}},{key:"closeChat",value:function(e){$("#chat__body__settings_pane__container__button--close-chat").on("click",function(t){window.confirmOnExit=!1,e.getState().socket.disconnect()})}},{key:"render",value:function(e){var t="<div id='chat__body__settings_pane' class='chat_pane' style='background: "+d(e.getState().settings,!0)+"'>";(t+=z.render(""),t+="<div class='chat__body__settings_pane__container'>",t+="<div style='margin-bottom: 5px' >",t+="<label class='label label-primary'></label>",t+="<label class='label label-primary pull-right'> </label>",t+="<form>",t+="<input type='text' name='decoration' value='"+e.getState().mUser.name+"' class='form-control' />",t+="<div>",t+="<label class='label label-primary'></label>",t+="<input type='text' name='status' value='"+e.getState().mUser.status+"' class='form-control' />",t+="</div>",t+="<div>",t+="<label class='label label-primary'> </label>",t+="<input type='text' name='statusColor' value='"+e.getState().mUser.statusColor+"' class='jscolor form-input' />",t+="</div>",t+="<div>",t+="<label class='label label-primary'> </label>",t+="<input type='text' name='fontColor' value='"+e.getState().mUser.fontColor+"' class='jscolor form-input' />",t+="</div>",t+="<div>",t+="<label class='label label-primary'> </label>",t+="<input type='text' name='nameColor' value='"+e.getState().mUser.nameColor+"' class='jscolor form-input' />",t+="</div>",t+="<div>",t+="<label class='label label-primary'> </label>",t+="<input type='text' name='nameBgColor' value='"+e.getState().mUser.nameBgColor+"' class='jscolor form-input' />",t+="<button type='button' class='chat__body__settings_pane__container__rm_bg_color btn btn-danger fa fa-times'></button>",t+="</div>",t+="<button name='submit' class='chat__body__settings_pane__container__submit btn btn-success fa fa-save fr'></button>",t+="<div class='clear'></div>",t+="</form>",t+="</div>",t+="<select id='chat__body__settings_pane__container__button--change-font-size' class='form-control label-primary' value='"+e.getState().mUser.fontSize+"' style='height: auto' >",t+="<option value='18'>  10</option>",t+="<option value='20'>  11</option>",t+="<option value='22'>  12</option>",t+="<option value='24'>  13</option>",t+="<option value='26'>  14</option>",t+="<option value='28'>  15</option>",t+="<option value='30'>  16</option>",t+="</select>",t+="<div id='chat__body__settings_pane__container__button--ignored_users' class='chat__body__settings_pane__container__button form-control warning'>",t+="<span><span class='fa fa-ban'></span> </span>",t+="</div>",t+="<div id='chat__body__settings_pane__container__button--notifications' class='chat__body__settings_pane__container__button form-control info'>",t+="<span><span class='fa fa-bell'></span></span>",t+="</div>",e.getState().grantedSettings.hide_role_icon)&&(t+="<div id='chat__body__settings_pane__container__button--toggle-star' class='chat__body__settings_pane__container__button form-control'>",t+="<span class='toggle_star toggle_star__hide "+(e.getState().mUser.isRoleIconHidden?"":"toggle_star--active")+"'><span class='fa fa-eye-slash'></span> </span>",t+="<span class='toggle_star toggle_star__show "+(e.getState().mUser.isRoleIconHidden?"toggle_star--active":"")+"'><span class='fa fa-eye'></span> </span>",t+="</div>");return t+="<div id='chat__body__settings_pane__container__button--change_avatar' class='chat__body__settings_pane__container__button form-control'>",t+="<span><span class='fa'>",t+="<img class='avatar' src='"+e.getState().mUser.avatar+"' width='20' height='20' alt='' />",t+="<img class='loader' src='/images/loader.gif' width='20' height='20' alt=''/>",t+="</span> </span>",t+="<input accept='image/*' type='file' id='change_avatar_input' style='position: absolute; top: -1000px' />",t+="</div>",t+="<div id='chat__body__settings_pane__container__button--remove-avatar' class='chat__body__settings_pane__container__button form-control danger'>",t+="<span><span class='fa fa-remove'></span> </span>",t+="</div>",t+="<div id='chat__body__settings_pane__container__button--toggle_private' class='chat__body__settings_pane__container__button form-control'>",t+="<span class='toggle_private toggle_private__enable "+(e.getState().mUser.isPrivateDisabled?"toggle_private--active":"")+"'><span class='fa fa-check'></span>  </span>",t+="<span class='toggle_private toggle_private__disable "+(e.getState().mUser.isPrivateDisabled?"":"toggle_private--active")+"'><span class='fa fa-times'></span>  </span>",t+="</div>",t+="<div id='chat__body__settings_pane__container__button--toggle_notifications' class='chat__body__settings_pane__container__button form-control'>",t+="<span class='toggle_notifications toggle_notifications__enable "+(e.getState().mUser.isNotificationsDisabled?"toggle_notifications--active":"")+"'><span class='fa fa-check'></span> </span>",t+="<span class='toggle_notifications toggle_notifications__disable "+(e.getState().mUser.isNotificationsDisabled?"":"toggle_notifications--active")+"'><span class='fa fa-times'></span> </span>",t+="</div>",e.getState().grantedSettings.change_password&&(t+="<div id='chat__body__settings_pane__container__button-change_password' class='chat__body__settings_pane__container__button form-control'>",t+="<span><span class='fa fa-key'></span>  </span>",t+="</div>"),e.getState().grantedSettings.admin_rooms_edit&&(t+="<div data-toggle='modal' data-target='#editRoomModal' id='chat__body__settings_pane__container__button--manage_room' class='chat__body__settings_pane__container__button form-control'>",t+="<span><span class='fa fa-home'></span> </span>",t+="</div>"),e.getState().grantedSettings.send_ad&&(t+="<div id='chat__body__settings_pane__container__button--send_ad' class='chat__body__settings_pane__container__button form-control'>",t+="<span><span class='fa fa-send'></span>   </span>",t+="</div>"),e.getState().grantedSettings.admin&&(t+="<div id='chat__body__settings_pane__container__button--open_admin' class='chat__body__settings_pane__container__button form-control success'>",t+="<span><span class='fa fa-star'></span> </span>",t+="</div>"),t+="<div id='chat__body__settings_pane__container__button--close-chat' class='chat__body__settings_pane__container__button form-control danger'>",t+="<span><span class='fa fa-sign-out'></span> </span>",t+="</div>",t+="</div>",t+="</div>"}}],(n=null)&&pe(t.prototype,n),r&&pe(t,r),e}(),_e=function(){return{type:"ADD_POPUP",popup:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},ge=function(e){return{type:"TRUST_USER_POPUP",user_id:e}};function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.close(t),e.trustUser(t)}},{key:"close",value:function(e){$(".popup").unbind("click").on("click",function(t){var n=$(this).data("id"),r=e.getState().popups.filter(function(e){return e.id=n});e.dispatch(function(){return{type:"REMOVE_POPUP",popup:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(r)),$(this).remove()})}},{key:"trustUser",value:function(e){$(".popup__message__body__trust_user").unbind("click").on("click",function(t){var n=this;t.stopPropagation(),e.getState().socket.emit("req",c({type:"TRUST_USER",data:{id:$(this).data("user-id"),name:$(this).data("user-name"),decoration:$(this).data("user-decoration")}}),function(t){if(t=l(t),$(n).closest(".popup").click(),"string"==typeof t)return alert(t);if(t&&t.message&&alert(t.message),!t.error){var r=$(n).data("user-id");e.dispatch(ge(r))}})})}},{key:"getMarginLeft",value:function(e){return 2*e.getState().popups.length+30+"px"}},{key:"renderMessage",value:function(e,t){switch(e.type){case"like":return"<span>  <span style='color: red' class='fa fa-heart'></span></span>";case"gift":return"<span>  <img src='"+e.message+"' class='gifts_picker__contianer__img' alt=''/></span>";case"remove_gift":return"<span>  <img src='"+e.message+"' class='gifts_picker__contianer__img' alt=''/></span>";case"room_excpel":case"change_room":return"<p dir='rtl'>"+e.message+" <span>"+Tt.render(e.room,!0,t)+"</span></p>";case"post_comment_like":case"post_commented":return"<p dir='rtl'>"+e.message+" <span><p class='popup__message__body'>"+e.comment+"</p></span></p>";case"login_banned":var n="<p>"+e.data.name+" ---- "+e.data.decoration+"</p>";return n+="<p>"+e.data.role+"</p>",n+="<p>"+e.data.ip+" <img src='/images/flags/"+e.data.country.toLowerCase()+".png' /></p>",n+="<p dir='rtl'>"+e.data.device+"</p>",e.data.isGuest||e.data.is_trusted||(n+="<p style='text-align: center'><button data-user-name='"+e.data.name+"' data-user-decoration='"+e.data.decoration+"' data-user-id='"+e.data.user_id+"' class='popup__message__body__trust_user btn btn-success'> </button></p>"),n;case"photo_like":return;default:return"<span>"+K.render(e.message,t)+"</span>"}}},{key:"render",value:function(t,n){var r="<div style='marginLeft: "+e.getMarginLeft(n)+"' data-id='"+t.id+"' class='popup'>";r+="<p class='popup__title label label-primary'>"+t.title+"</p>",t.user&&(r+="<div class='popup__sender fl'>",r+="<img src='"+t.user.avatar+"' width='24' height='24' class='popup__sender__avatar fl' />",r+="<p class='popup__sender__name'>"+ee.render(t.user)+"</p>",r+="</div>"),r+="<div class='popup__message fl'>",r+=e.renderMessage(t,n),r+="</div>",r+="</div>",$("#popup_container").append(r),e.registerEvents(n)}}],(n=null)&&me(t.prototype,n),r&&me(t,r),e}(),ye=n(48),be=n.n(ye),we=function(){return{type:"SET_IS_CALL_DIALOG_OPEN",isCallDialogOpen:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},Se=function(){return{type:"SET_CURRENT_CALL",currentCall:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}},ke=function(){return{type:"SET_RADIO_CONNECTION_READY",radioConnectionReady:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},Ee=function(){return{type:"SET_WEBRTC",webrtc:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}};function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ae=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onHide(t),e.onCancel(t),e.onAccept(t)}},{key:"createRadioWebRTCObject",value:function(e){return navigator.mediaDevices?new SimpleWebRTC({autoRequestMedia:!0,remoteVideosEl:"radioRemoteVideosEl",media:{video:!1,audio:e},socketio:{"force new connection":!0}}):null}},{key:"close",value:function(){$("#call_container").html("")}},{key:"onHide",value:function(e){$("#call-dialog-footer__hide").unbind("click").on("click",function(t){e.dispatch(we(!1)),$("#call-dialog").hide()})}},{key:"onAccept",value:function(t){$("#call-dialog-footer__accept").unbind("click").on("click",function(n){t.getState().socket.emit("req",c({type:"CALL_REQUEST_ACCEPT",data:{id:t.getState().currentCall.user.id}}),function(n){e.acceptCall(t,t.getState().currentCall.user),$("#call-dialog-footer__accept, #call-dialog__status").hide(),$("#call-dialog__status_start_call").show()})})}},{key:"onCallAccepted",value:function(){$("#call-dialog__status").hide(),$("#call-dialog__status_start_call").show()}},{key:"onCancel",value:function(t){$("#call-dialog-footer__cancel").unbind("click").on("click",function(n){t.getState().socket.emit("req",c({type:"CALL_REQUEST_CANCEL",data:{id:t.getState().currentCall.user.id}}),function(n){e.cancelCall(t),e.close(),t.dispatch(we(!1))})})}},{key:"acceptCall",value:function(t,n){t.dispatch(Ee(e.createRadioWebRTCObject(!0))),t.getState().webrtc&&t.getState().webrtc.on("connectionReady",function(e){t.dispatch(ke(!0)),t.getState().webrtc.joinRoom(n.id,function(e){t.getState().webrtc.unmute()})}),t.getState().isRadioConnectionReady&&t.getState().webrtc&&t.getState().webrtc.joinRoom(n.id,function(){t.getState().webrtc.unmute()})}},{key:"cancelCall",value:function(t){t.getState().webrtc&&(t.getState().webrtc.leaveRoom(),t.getState().webrtc.stopLocalVideo(),t.dispatch(ke(!1)),e.close())}},{key:"render",value:function(t,n){var r="<div id='call-dialog' style='display: "+(t.getState().isCallDialogOpen?"block":"none")+"'>";r+="<p class='target-user-name'>"+n.user.username+"</p>",r+="<img class='target-user-avatar' src='"+n.user.avatar+"' alt='' />",r+="<p id='call-dialog__status_start_call' class='call-status success'> </p>",r+="<p id='call-dialog__status' class='call-status "+n.statusClass+"'>"+n.status+"</p>",r+="<p class='call-dialog-footer'>",r+="<button id='call-dialog-footer__cancel' class='btn btn-danger call-cancel'><i class='fa fa-phone'></i></button>","call-received"==n.dialogType&&(r+="<button id='call-dialog-footer__accept' class='btn btn-success call-accept'><i class='fa fa-phone'></i></button>"),r+="<button id='call-dialog-footer__hide' class='btn btn-warning pull-right call-dialog-hide'><i class='fa fa-minus'></i></button>",r+="</p>",r+="</div>",$("#call_container").append(r),e.registerEvents(t)}}],(n=null)&&Ce(t.prototype,n),r&&Ce(t,r),e}();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Re=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.close(t),e.mute(t),e.onCall(t),e.expand(),e.compress(),e.onSubmit(t),e.sendMedia(t),e.stopRecording(t),e.startRecording(t),e.openFacePicker(t),e.onChatBoxClicked(t),e.triggerSendMediaInput(t)}},{key:"createRadioWebRTCObject",value:function(e){return navigator.mediaDevices?new SimpleWebRTC({autoRequestMedia:!0,remoteVideosEl:"radioRemoteVideosEl",media:{video:!1,audio:e},socketio:{"force new connection":!0}}):null}},{key:"onCall",value:function(t){$("#chat_box__footer__call").unbind("click").on("click",function(n){return navigator.mediaDevices?$("#call_container").html()?$("#call-dialog").show():void t.getState().socket.emit("req",c({type:"CALL_REQUEST",data:{id:t.getState().currentConversation.id}}),function(n){if("rigning"==n.message){e.makeCall(t),t.dispatch(we(!0));var r={user:n.user,dialogType:"call-sent",statusClass:"warning",status:"  ..."};t.dispatch(Se(r)),Ae.render(t,r)}else"not ready"==n.message?t.dispatch(we(!0)):alert(n.message)}):alert("       ")})}},{key:"makeCall",value:function(t){t.dispatch(Ee(e.createRadioWebRTCObject(!0))),t.getState().webrtc&&t.getState().webrtc.on("connectionReady",function(e){t.getState().webrtc.joinRoom(t.getState().mUser.id,function(e){t.dispatch(ke(!0)),t.getState().webrtc.unmute()})}),t.getState().isRadioConnectionReady&&t.getState().webrtc&&t.getState().webrtc.joinRoom(t.getState().mUser.id,function(){t.getState().webrtc.unmute()})}},{key:"updateUser",value:function(e,t){if(t.getState().currentConversation&&e==t.getState().currentConversation.id){var n=t.getState().users.filter(function(t){return t.id==e})[0];if(n){var r=$("#chat_box");r&&(r.find(".chat_box__header__avatar").attr("src",n.avatar),r.find(".chat_box__header__name").html(ee.render(n)))}}}},{key:"openFacePicker",value:function(e){$("#chat_box #chat_box__footer__smile").unbind("click").on("click",function(t){e.dispatch(B(!0)),Q.registerEvents(e)})}},{key:"onSubmit",value:function(t){$("#chat_box form").unbind("submit").on("submit",function(n){n.preventDefault();var r=t.getState().currentConversation.id,o=n.target.message,i=o.value.trim();i&&"disabled"!=$("#chat_box__footer__submit").attr("disabled")&&e.sendMessage({message:i,id:r,type:"text"},o,t)})}},{key:"sendMessage",value:function(t,n,r){var o=t.message,i=t.id,a=t.type;!n||"text"!=a&&"youtube"!=a||n.focus(),$("#chat_box__footer__submit").attr("disabled","disabled"),r||(r=window.store),i||(i=r.getState().currentConversation.id),r.getState().socket.emit("req",c({type:"NEW_PRIVATE_MESSAGE",data:{id:i,message:o,type:a}}),function(t){if(n&&(n.value=""),t=l(t),$("#chat_box__footer__submit").removeAttr("disabled"),"string"==typeof t)return ve.render({id:Date.now(),user:r.getState().users.filter(function(e){return e.id==i})[0],type:null,message:t,title:""},r);if("object"==xe(t)){var o=i,a=r.getState().mUser,s=r.getState().currentConversation,c=t,u=r.getState().currentConversation.id==o;r.dispatch(ie(o,a,s,u,c)),e.insert(c,a,r)}})}},{key:"triggerSendMediaInput",value:function(){$("#chat_box__footer__share").unbind("click").on("click",function(e){if(!$(this).closest("form").hasClass("loading")){var t=document.getElementById("chat_box__footer_attach");t&&t.click()}})}},{key:"sendMedia",value:function(t){$("#chat_box__footer_attach").unbind("change").on("change",function(n){var r=this,o=new FormData;o.append("file",n.target.files[0]),t.getState().socket.emit("req",c({type:"BEFORE_SEND_MEDIA",data:{id:t.getState().currentConversation.id}}),function(n){if("string"==typeof(n=l(n)))return alert(n);if(!0===n){$(r).closest("form").addClass("loading");var i=$("#chat_box__footer__loading_percent");fe.a.post("/send_private_media",o,{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);i.text(t<10?"0"+t:t)}}).then(function(n){!1===n.data.error&&e.sendMessage({message:n.data.file,id:t.getState().currentConversation.id,type:n.data.type},void 0,t),$(r).closest("form").removeClass("loading"),i.text("00")}).catch(function(e){$(r).closest("form").removeClass("loading"),i.text("00")})}})})}},{key:"insert",value:function(t,n,r){$("#chat_box_container #chat_box__body").append(se.render(t,n,r)),e.scrollToBottom(),se.registerEvents(r)}},{key:"onChatBoxClicked",value:function(e){$("#chat_box").unbind("click").on("click",function(t){e.dispatch(U(null)),nn.togglePane(e,!0)})}},{key:"close",value:function(e){$("#chat_box__header__close").unbind("click").on("click",function(t){$("#chat_box_container").html(""),e.dispatch(re(null))})}},{key:"expand",value:function(){$("#chat_box__header__expand").unbind("click").on("click",function(e){$("#chat_box").addClass("expanded")})}},{key:"compress",value:function(){$("#chat_box__header__compress").unbind("click").on("click",function(e){$("#chat_box").removeClass("expanded")})}},{key:"mute",value:function(e){$("#chat_box__header__mute, #chat_box__header__unmute").unbind("click").on("click",function(t){e.getState().socket.emit("req",c({type:"TOGGLE_PRIVATE_BIP",data:{}}),function(t){t=l(t),he.updateUserAttribute("isPrivateBipEnabled",t,e),e.getState().mUser.reg_id||a("isPrivateBipEnabled",c(t,!0)),t?$("#chat_box").removeClass("muted"):$("#chat_box").addClass("muted")})})}},{key:"playNotification",value:function(e){if(e.getState().mUser.isPrivateBipEnabled){var t=document.getElementById("private-bip");t&&t.play()}}},{key:"renderMessages",value:function(e){var t=e.getState().currentConversation,n=e.getState().conversations.filter(function(e){return e.id==t.id})[0],r="";return n&&n.messages.forEach(function(t){var o=n.me.id==t.by?n.me:n.him;r+=se.render(t,o,e)}),r}},{key:"scrollToBottom",value:function(){var e=document.getElementById("chat_box__body");e&&(e.scrollTop=e.scrollHeight-e.clientHeight)}},{key:"startRecording",value:function(t){$("#chat_box__footer__start_recording").unbind("click").on("click",function(n){$("#chat_box__footer__start_recording").hide(),$("#chat_box__footer__stop_recording").show(),window.isRecordingSound||(window.isRecordingSound=!0,window.store=t,navigator.mediaDevices.getUserMedia({audio:!0}).then(e.onMediaStreamSuccess).catch(e.onMediaStreamError))})}},{key:"stopRecording",value:function(e){$("#chat_box__footer__stop_recording").unbind("click").on("click",function(e){$("#chat_box__footer__stop_recording").hide(),$("#chat_box__footer__start_recording").show(),window.isRecordingSound=!1,null!=window.mediaRecorder&&(window.mediaRecorder.stop(),null!=window.mediaRecorder.stream&&window.mediaRecorder.stream.stop())})}},{key:"uploadblob",value:function(e,t){if(e){var n=new FormData;n.append("file",e),n.append("_token",$("meta[name='csrf-token']").attr("content")),$.ajax({url:"/private_upload_blob",type:"POST",data:n,cache:!1,processData:!1,contentType:!1,success:function(e){(e=JSON.parse(e))&&!e.error&&e.src?t(e.src):alert("    ")},error:function(e){alert("    ")}})}}},{key:"onMediaStreamSuccess",value:function(t){try{window.mediaRecorder=new be.a(t);var n=null;window.mediaRecorder.bufferSize=8192,window.mediaRecorder.stream=t,window.mediaRecorder.mimeType="audio/webm",window.mediaRecorder.dur=Date.now(),window.mediaRecorder.ondataavailable=function(t){if(!((Date.now()-window.mediaRecorder.dur)/1e3<1)){var r=$('<div class="audio-recorder"><audio type="audio/webm" controls></audio><button class="btn btn-success"></button>&nbsp;<button class="btn btn-danger"></button></div>');r.find("audio").attr("src",window.URL.createObjectURL(t)),e.uploadblob(t,function(e){r.find("audio").attr("src","/uploads/private/"+e),n=e}),r.find(".btn-success").click(function(){n&&e.sendMessage({message:n,id:null,type:"sound"}),r.remove()}),r.find(".btn-danger").click(function(){r.remove(),e.removeBlob(n)}),$("#chat_box__body").append(r)}},window.mediaRecorder.start(3e4)}catch(e){console.log("onMediaStreamSuccess.error",e)}}},{key:"onMediaStreamError",value:function(e){window.isRecordingSound=!1,window.store=void 0,alert("     ,    ")}},{key:"removeBlob",value:function(e){window.store=void 0;var t=new FormData;t.append("file",e),t.append("_token",$("meta[name='csrf-token']").attr("content")),$.ajax({url:"/private_remove_blob",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){},error:function(e){}})}},{key:"render",value:function(t){var n=t.getState().currentConversation;if(!n)return $("#chat_box_container").html("");var r="<div id='chat_box' class='"+(t.getState().mUser.isPrivateBipEnabled?"":"muted")+"'>";r+="<header class='chat_box__header label-primary'>",r+="<img class='chat_box__header__avatar' width='25' height='25' src='"+n.avatar+"' alt='' />",r+="<p class='chat_box__header__name ellipsis'>"+ee.render(n)+"</p>",r+="<button id='chat_box__header__close' class='btn btn-danger fa fa-minus pull-right'></button>",r+="<button id='chat_box__header__expand' class='btn btn-info fa fa-expand pull-right'></button>",r+="<button id='chat_box__header__compress'class='btn btn-info fa fa-compress pull-right'></button>",r+="<button id='chat_box__header__mute' class='btn btn-success fa fa-bell-o pull-right'></button>",r+="<button id='chat_box__header__unmute' class='btn btn-success fa fa-bell-slash-o pull-right'></button>",r+="</header><div class='clear'></div>",r+="<div class='chat_box__body' id='chat_box__body' style='background: "+d(t.getState().settings)+"'>",r+=e.renderMessages(t),r+="</div>",r+="<footer class='chat_box__footer'>",r+=Q.render("private_messages","#chat_box__footer__input",t),r+="<form>",r+="<button id='chat_box__footer__start_recording' type='button' class='btn btn-primary fa fa-microphone'></button>",r+="<button id='chat_box__footer__stop_recording' type='button' class='btn btn-primary fa fa-stop'></button>",r+="<button id='chat_box__footer__share' type='button' class='btn btn-primary fa fa-share-alt'></button>",r+="<span style='position: relative'><span id='chat_box__footer__loading_percent'>00</span><img id='chat_box__footer__loader' src='/images/loader.gif' width='30' height='30' alt=''/></span>",r+="<button type='button' id='chat_box__footer__call' class='btn btn-primary fa fa-phone'></button>",r+="<img style='cursor: pointer' src='/images/smile.gif' alt='' id='chat_box__footer__smile' class='chat_box__footer__smile' width='22' height='22' />",r+="<input class='chat_box__footer__input' id='chat_box__footer__input' dir='rtl' name='message' type='text' placeholder='  ...' autoComplete='off' />",r+="<button id='chat_box__footer__submit' class='btn btn-primary fa fa-send'></button>",r+="<input id='chat_box__footer_attach' type='file' accept='image/*, video/*, audio/*' style='display: none; position: absolute; left: 9999px' />",r+="</form>",r+="</footer>",r+="</div>",$("#chat_box_container").html(r),t.dispatch({type:"READ_CONVERSATION",id:n.id}),e.registerEvents(t),e.scrollToBottom(),nn.updateConversationsCount(t),se.registerEvents(t)}}],(n=null)&&Oe(t.prototype,n),r&&Oe(t,r),e}();function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--private").unbind("click").click("click",function(t){e.dispatch(re(e.getState().requestedUser)),e.dispatch(e.dispatch(U(null))),nn.togglePane(e,!0),$("#user_profile").modal("hide"),Re.render(e)})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--private' class='btn btn-default fa fa-comment'> </button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--private' class='btn btn-default fa fa-comment'> </button></span>"}}],(n=null)&&Te(t.prototype,n),r&&Te(t,r),e}();function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--notify").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id,r=prompt("   ");(r=r?r.trim():null)&&e.getState().socket.emit("req",c({type:"PROFILE_ACTION_NOTIFY",data:{id:n,message:r}}),function(e){alert(l(e))})})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--notify' class='btn btn-default fa fa-envelope-o'></button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--notify' class='btn btn-default fa fa-envelope-o'></button></span>"}}],(n=null)&&Be(t.prototype,n),r&&Be(t,r),e}();function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--like").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_LIKE",data:{id:n}}),function(t){!0===(t=l(t))&&($("#user_profile__footer__actions__item--like").parent().addClass("active"),$("#user_profile__footer__actions__item--like").find("span").text(e.getState().requestedUser.likes+1))})})}},{key:"render",value:function(e){var t="<span class='user_profile__footer__actions__item "+(e.getState().requestedUser.liked?"active":"")+"'>";return t+="<button id='user_profile__footer__actions__item--like' class='btn btn-default fa fa-heart red'><span>"+e.getState().requestedUser.likes+"</span></button>",t+="</span>"}}],(n=null)&&Ie(t.prototype,n),r&&Ie(t,r),e}();function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--album").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_GET_ALBUM",data:{id:n}}),function(t){if("string"==typeof(t=l(t)))return alert(t);e.dispatch(function(){return{type:"SET_ALBUM",album:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}(t))})})}},{key:"render",value:function(e){var t="<span class='user_profile__footer__actions__item'>";return t+="<button id='user_profile__footer__actions__item--album' class='btn btn-default fa fa-image purple'><span dir='rtl'> ("+e.getState().requestedUser.albumLength+") </span><span></span></button>",t+="</span>"}}],(n=null)&&Le(t.prototype,n),r&&Le(t,r),e}();function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var De=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(){e.onAction()}},{key:"onAction",value:function(){$("#user_profile__footer__actions__item--gift").unbind("click").click("click",function(e){$("#user_profile .gifts_picker").show(),$("#user_profile .user_profile__body__avatar").hide()})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--gift' class='btn btn-default fa fa-diamond blue'> </button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--gift' class='btn btn-default fa fa-diamond blue'> </button></span>"}}],(n=null)&&Fe(t.prototype,n),r&&Fe(t,r),e}(),$e=function(){return{type:"TOGGLE_REVEAL_NAMES",isRevealNamesOpen:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}};function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.back(t)}},{key:"back",value:function(t){$("#reveal_names__header__back").unbind("click").on("click",function(n){t.dispatch($e(!1)),e.close()})}},{key:"renderName",value:function(e){if(!e)return"";var t="<div class='reveal_names__item'>";return t+="<p><span class='reveal_names__item__key'></span><span className='reveal_names__item__value'>"+e.username+"</span></p>",t+="<p><span class='reveal_names__item__key'></span><span className='reveal_names__item__value'>"+e.decoration+"</span></p>",t+="<p><span class='reveal_names__item__key'></span><span className='reveal_names__item__value'><img src='images/flags/"+e.country+".png' /></span></p>",t+="<p><span class='reveal_names__item__key'></span><span className='reveal_names__item__value'>"+e.ip+"</span></p>",t+="<p><span class='reveal_names__item__key'></span><span className='reveal_names__item__value'>"+e.device+"</span></p>",t+="</div>"}},{key:"renderNames",value:function(t){var n=$("#user_profile .reveal_names_body");n.html(""),t.getState().revealNames.forEach(function(t){n.append(e.renderName(t))})}},{key:"open",value:function(t){$("#reveal_names__container").show(),$("#user_profile__body__user_details").hide(),$("#user_profile .user_profile__footer").hide(),e.renderNames(t),e.back(t)}},{key:"close",value:function(){$("#reveal_names__container").hide(),$("#user_profile__body__user_details").show(),$("#user_profile .user_profile__footer").show()}},{key:"render",value:function(t){var n="<div id='reveal_names__container' class='reveal_names' style='display: none;'>";return n+="<p class='reveal_names__header'>",n+="<button id='reveal_names__header__back' class='btn btn-success fa fa-arrow-left'></button>",n+="<span class='fr'> </span>",n+="</p>",n+="<div class='reveal_names_body'>"+e.renderNames(t)+"</div>",n+="</div>"}}],(n=null)&&je(t.prototype,n),r&&je(t,r),e}();function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--reveal-names").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_REVEAL_NAMES",data:{id:n}}),function(t){if("string"==typeof(t=l(t)))return alert(t);Array.isArray(t)&&(e.dispatch(function(){return{type:"SET_REVEAL_NAMES",names:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t)),e.dispatch($e(!0)),qe.open(e))})})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--reveal-names' class='btn btn-default fa fa-search'> </button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--reveal-names' class='btn btn-default fa fa-search'> </button></span>"}}],(n=null)&&We(t.prototype,n),r&&We(t,r),e}();function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ze=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--remove-avatar").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_REMOVE_AVATAR",data:{id:n}}),function(t){"string"==typeof(t=l(t))?alert(t):(e.dispatch(C(t)),Et.clearAvatar(e))})})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--remove-avatar' class='btn btn-default fa fa-ban maroon'> </button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--remove-avatar' class='btn btn-default fa fa-ban maroon'> </button></span>"}}],(n=null)&&Ge(t.prototype,n),r&&Ge(t,r),e}();function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--room-excpel").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_ROOM_EXCPEL",data:{id:n}}),function(e){"string"==typeof(e=l(e))&&alert(e)})})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--room-excpel' class='btn btn-default fa fa-sign-out magenta'>  </button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--room-excpel' class='btn btn-default fa fa-sign-out magenta'>  </button></span>"}}],(n=null)&&Ve(t.prototype,n),r&&Ve(t,r),e}();function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--excpel").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_EXCPEL",data:{id:n}}),function(e){"string"==typeof(e=l(e))&&alert(e)})})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--excpel' class='btn btn-default fa fa-ban'></button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--excpel' class='btn btn-default fa fa-ban'></button></span>"}}],(n=null)&&Ye(t.prototype,n),r&&Ye(t,r),e}();function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--ban").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_BAN",data:{id:n}}),function(e){"string"==typeof(e=l(e))&&alert(e)})})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--ban' class='btn btn-default fa fa-ban'></button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--ban' class='btn btn-default fa fa-ban'></button></span>"}}],(n=null)&&Je(t.prototype,n),r&&Je(t,r),e}();function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var et=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.getProfile(t)}},{key:"getProfile",value:function(e){$(".chat_pane__user_item").unbind("click").on("click",function(t){var n=$(this).closest(".chat_pane__user_item").data("id");Et.show(n,e)})}},{key:"render",value:function(e,t,n){var r=e.micStatus.onMic?"on-mic ":"",o=e.micStatus.onHand?"on-hand ":"",i=e.micStatus.soundOff?"on-sound-off ":"",a=e.micTime?e.micTime+Date.now():0,s=e.active?"active":"",c=e.isHidden?"hidden":"",l="<div id='user-"+e.id+"' data-id='"+e.id+"' class='border chat_pane__user_item "+s+" "+c+" '>";return l+="<p class='chat_pane__user_item__avatar'>",l+="<img class='"+e.state+"' width='36' height='36' alt='' src='"+e.avatar+"' />",l+=t?"<span class='status "+e.state+"'></span>":"",l+="</p>",l+="<div>",l+="<h5 class='chat_pane__user_item__name'>",l+=ee.render(e),l+="</h5>",l+="<h5 style='color: "+e.statusColor+"' class='chat_pane__user_item__status'>",l+=K.render(e.status,n),l+="</h5>",l+="</div>",l+="<img class='chat_pane__user_item__flag' alt='' width='16' height='16' src='"+e.countryFlag+"' />",l+="<div class='clear'></div>",t&&(l+="<p class='chat_pane__user_item__mic_status "+r+" "+o+" "+i+"' >",e.micStatus.onMic&&(l+="<span class='mic-time' data-time='"+a+"'>00:00</span>"),l+="<img class='mic' alt='' src='/images/mic.png' />",l+="<img class='hand' alt='' src='/images/hand.png' />",l+="<img class='sound-off' alt='' src='/images/sound-off.png' />",l+="</p>"),l+="</div>"}}],(n=null)&&Ze(t.prototype,n),r&&Ze(t,r),e}();function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.filterUsersByName(t)}},{key:"updateUser",value:function(e,t){var n=$("#chat__body__users-pane #user-"+e);if(n){var r=t.getState().users.filter(function(t){return t.id==e})[0];if(r){var o=r.micStatus.onMic?"on-mic ":"",i=r.micStatus.onHand?"on-hand ":"",a=r.micStatus.soundOff?"on-sound-off ":"",s=r.micTime?r.micTime+Date.now():0;r.active?n.addClass("active"):n.removeClass("active"),r.isHidden?n.addClass("hidden"):n.removeClass("hidden"),n.find(".chat_pane__user_item__avatar img").attr("src",r.avatar).removeClass("state_active").removeClass("state_no_private").removeClass("state_idle").addClass(r.state),n.find(".chat_pane__user_item__avatar .status").removeClass("state_active").removeClass("state_no_private").removeClass("state_idle").addClass(r.state),n.find(".chat_pane__user_item__name").html(ee.render(r)),n.find(".chat_pane__user_item__status").html(K.render(r.status,t)).css("color",r.statusColor),n.find(".chat_pane__user_item__mic_status").removeClass("on-mic").removeClass("on-hand").removeClass("on-sound-off").addClass(o).addClass(i).addClass(a),r.micStatus.onMic&&n.find(".chat_pane__user_item__mic_status .mic-time").data("time",s)}}}},{key:"filterUsersByName",value:function(t){$("#chat__body__users-pane input.chat_pane__search").on("keyup",function(n){var r;t.dispatch({type:"FILTER_USERS_BY_NAME",name:(r=n.target.value.trim()).trim()?r:null}),e.setUsers(t)})}},{key:"updateCurrentRoomName",value:function(e){$(".chat_pane__container .chat_pane__container__room_name").text(e.getState().mUser.room?e.getState().mUser.room.name:"")}},{key:"setUsers",value:function(t){"users"==t.getState().currentPane&&(e.setUsersOnCurrentRoom(t),e.setUsersOnOtherRooms(t),e.updateCurrentRoomName(t))}},{key:"setUsersOnCurrentRoom",value:function(e){$("#chat__body__users-pane__current_room .chat_pane__user_item").unbind("click");var t=$("#chat__body__users-pane__current_room");t.html(""),e.getState().usersFilter?e.getState().users.filter(function(t){return t.room&&e.getState().mUser.room&&t.room.id==e.getState().mUser.room.id&&t.name.toLowerCase().includes(e.getState().usersFilter.toLowerCase())}).forEach(function(n){t.append(et.render(n,!0,e))}):e.getState().users.filter(function(t){return t.room&&e.getState().mUser.room&&t.room.id==e.getState().mUser.room.id&&!e.getState().ignoredUsers.includes(t.id)}).forEach(function(n){t.append(et.render(n,!0,e))}),et.registerEvents(e)}},{key:"setUsersOnOtherRooms",value:function(e){$("#chat__body__users-pane__other_rooms .chat_pane__user_item").unbind("click");var t=$("#chat__body__users-pane__other_rooms");t.html(""),e.getState().usersFilter?e.getState().users.filter(function(t){return(!t.room||!e.getState().mUser.room||t.room.id!=e.getState().mUser.room.id)&&t.name.toLowerCase().includes(e.getState().usersFilter.toLowerCase())}).forEach(function(n){t.append(et.render(n,!0,e))}):e.getState().users.filter(function(t){return!t.room||!e.getState().mUser.room||t.room.id!=e.getState().mUser.room.id&&!e.getState().ignoredUsers.includes(t.id)}).forEach(function(n){t.append(et.render(n,!0,e))}),et.registerEvents(e)}},{key:"scrollToTop",value:function(){document.querySelector("#chat__body__users-pane .chat_pane__container").scrollTo({top:0})}},{key:"render",value:function(e){var t=" <div id='chat__body__users-pane' class='chat_pane' style='background: "+d(e.getState().settings,!0)+"'>";return t+=z.render(""),t+="<input type='text' name='user-name' class='form-control chat_pane__search' placeholder='...' />",t+="<div class='chat_pane__container border'>",t+="<h4 class='chat_pane__label label label-primary right'>  <span class='chat_pane__container__room_name'></span></h4>",t+="<div id='chat__body__users-pane__current_room'></div>",t+="<h4 class='chat_pane__label label label-primary'>   </h4>",t+="<div id='chat__body__users-pane__other_rooms'></div>",t+="</div>",t+="</div>"}}],(n=null)&&tt(t.prototype,n),r&&tt(t,r),e}();function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ot=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.close(t),e.setUsers(t)}},{key:"close",value:function(e){$(".chat__body__ignored-users-pane__back button").unbind("click").on("click",function(t){e.dispatch(U("settings")),nn.togglePane(e)})}},{key:"setUsers",value:function(e){var t=$("#chat__body__ignored-users-pane .chat_pane__container");t.html(""),e.getState().users.forEach(function(n){e.getState().ignoredUsers.includes(n.id)&&t.append(et.render(n,!0,e))}),et.registerEvents(e)}},{key:"render",value:function(e){var t="<div id='chat__body__ignored-users-pane' class='chat_pane' style='background: "+d(e.getState().settings,!0)+"'>";return t+=z.render(" "),t+="<p class='chat__body__ignored-users-pane__back'>",t+="<button class='btn btn-success fa fa-arrow-left'></button>",t+="</p>",t+="<div class='chat_pane__container border'></div>",t+="</div>"}}],(n=null)&&rt(t.prototype,n),r&&rt(t,r),e}();function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var at=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.ignore(t),e.unignore(t)}},{key:"ignore",value:function(e){$("#user_profile__footer__actions__item--ignore").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().ignoredUsers.includes(n)||(e.dispatch({type:"IGNORE_USER",id:n}),$("#user_profile__footer__actions__item--ignore").closest(".user_profile__footer__actions__item").addClass("ignored"),nn.updateUsersCout(e),nt.setUsers(e),ot.setUsers(e))})}},{key:"unignore",value:function(e){$("#user_profile__footer__actions__item--unignore").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().ignoredUsers.includes(n)&&(e.dispatch({type:"UNIGNORE_USER",id:n}),$("#user_profile__footer__actions__item--ignore").closest(".user_profile__footer__actions__item").removeClass("ignored"),nn.updateUsersCout(e),nt.setUsers(e),ot.setUsers(e))})}},{key:"render",value:function(e){var t=e.getState().requestedUser.id,n="<span class='user_profile__footer__actions__item "+(e.getState().ignoredUsers.includes(t)?"ignored":"")+"'>";return n+="<button id='user_profile__footer__actions__item--ignore' class='btn btn-default fa fa-ban red'></button>",n+="<button id='user_profile__footer__actions__item--unignore' class='btn btn-default fa fa-ban red'> </button>",n+="</span>"}}],(n=null)&&it(t.prototype,n),r&&it(t,r),e}();function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(){$("#user_profile__footer__actions__item--chat-app").unbind("click").click("click",function(e){window.open("/app.apk")})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--chat-app' class='btn btn-default fa fa-android green'> </button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--chat-app' class='btn btn-default fa fa-android green'> </button></span>"}}],(n=null)&&st(t.prototype,n),r&&st(t,r),e}();function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ut=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item--cancel-radio").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_CANCEL_RADIO",data:{id:n}}),function(e){"string"==typeof(e=l(e))&&alert(e)})})}},{key:"render",value:function(){return"<button id='user_profile__footer__actions__item--cancel-radio' class='btn btn-default fa fa-ban'> </button>","</span>","<span class='user_profile__footer__actions__item'><button id='user_profile__footer__actions__item--cancel-radio' class='btn btn-default fa fa-ban'> </button></span>"}}],(n=null)&&lt(t.prototype,n),r&&lt(t,r),e}();function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ft=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.mute(t),e.unmute(t)}},{key:"mute",value:function(e){$("#user_profile__footer__actions__item--mute").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_MUTE",data:{id:n}}),function(e){if("string"==typeof(e=l(e)))return alert(e);$("#user_profile__footer__actions__item--mute").closest(".user_profile__footer__actions__item").addClass("muted")})})}},{key:"unmute",value:function(e){$("#user_profile__footer__actions__item--unmute").unbind("click").click("click",function(t){var n=e.getState().requestedUser.id;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_UNMUTE",data:{id:n}}),function(e){if("string"==typeof(e=l(e)))return alert(e);$("#user_profile__footer__actions__item--mute").closest(".user_profile__footer__actions__item").removeClass("muted")})})}},{key:"render",value:function(e){var t="<span class='user_profile__footer__actions__item "+(e.getState().requestedUser.isMuted?"muted":"")+"'>";return t+="<button id='user_profile__footer__actions__item--mute' class='btn btn-default fa fa-microphone'></button>",t+="<button id='user_profile__footer__actions__item--unmute' class='btn btn-default fa fa-microphone-slash'> </button>",t+="</span>"}}],(n=null)&&dt(t.prototype,n),r&&dt(t,r),e}();function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ht=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item_group--change-decoration").unbind("submit").on("submit",function(t){t.preventDefault();var n=e.getState().requestedUser.id,r=t.target.decoration.value;e.getState().socket.emit("req",c({type:"PROFILE_ACTION_CHANGE_DECORATION",data:{id:n,decoration:r}}),function(e){"string"==typeof(e=l(e))&&alert(e)})})}},{key:"render",value:function(e){var t="<form class='user_profile__footer__actions__item_group' id='user_profile__footer__actions__item_group--change-decoration' >";return t+="<label for='user_profile__footer__actions__change_decoration' class='label label-primary user_profile__footer__actions__item_group__label'></label>",t+="<input type='text' id='user_profile__footer__actions__change_decoration' name='decoration' class='user_profile__footer__actions__item_group__input' value='"+e.getState().requestedUser.name+"'/>",t+="<button class='btn btn-primary user_profile__footer__actions__item_group__submit btn btn-default fa fa-save'></button>",t+="</form>"}}],(n=null)&&pt(t.prototype,n),r&&pt(t,r),e}();function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item_group--control-likes").unbind("submit").on("submit",function(t){t.preventDefault();var n=e.getState().requestedUser.id,r=parseInt(t.target.likes.value);isNaN(r)||e.getState().socket.emit("req",c({type:"PROFILE_ACTION_CONTROL_LIKES",data:{id:n,likes:r}}),function(e){if("string"==typeof(e=l(e)))return alert(e);$("#user_profile__footer__actions__item--like").find("span").text(r)})})}},{key:"render",value:function(e){var t="<form class='user_profile__footer__actions__item_group' id='user_profile__footer__actions__item_group--control-likes' >";return t+="<label for='user_profile__footer__actions__control_likes' class='label label-primary user_profile__footer__actions__item_group__label'></label>",t+="<input type='number' id='user_profile__footer__actions__control_likes' name='likes' class='user_profile__footer__actions__item_group__input' value='"+e.getState().requestedUser.likes+"'/>",t+="<button class='btn btn-primary user_profile__footer__actions__item_group__submit btn btn-default fa fa-save'></button>",t+="</form>"}}],(n=null)&&_t(t.prototype,n),r&&_t(t,r),e}();function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item_group--change-room").unbind("submit").on("submit",function(t){t.preventDefault();var n=e.getState().requestedUser,r=n.id,o=t.target.room.value;n.room&&n.room.id==o||e.getState().socket.emit("req",c({type:"PROFILE_ACTION_CHANGE_ROOM",data:{id:r,roomId:o}}),function(e){alert(l(e))})})}},{key:"render",value:function(e){var t=e.getState().requestedUser.room?e.getState().requestedUser.room.id:null,n="<form class='user_profile__footer__actions__item_group' id='user_profile__footer__actions__item_group--change-room' >";return n+="<label for='user_profile__footer__actions__change_room' class='label label-primary user_profile__footer__actions__item_group__label'></label>",n+="<select id='user_profile__footer__actions__change_room' name='room' class='user_profile__footer__actions__item_group__input'>",e.getState().rooms.forEach(function(e){var r=e.id==t?"selected":"";n+="<option dir='rtl' "+r+" value='"+e.id+"'>"+e.name+"</option>"}),n+="</select>",n+="<button class='btn btn-primary user_profile__footer__actions__item_group__submit btn btn-default fa fa-save'></button>",n+="</form>"}}],(n=null)&&mt(t.prototype,n),r&&mt(t,r),e}();function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onAction(t)}},{key:"onAction",value:function(e){$("#user_profile__footer__actions__item_group--change-role").unbind("submit").on("submit",function(t){t.preventDefault();var n=e.getState().requestedUser,r=n.id,o=t.target.role.value;n.role!=o&&e.getState().socket.emit("req",c({type:"PROFILE_ACTION_CHANGE_ROLE",data:{id:r,roleId:o}}),function(e){alert(l(e))})})}},{key:"render",value:function(e){var t="<form class='user_profile__footer__actions__item_group' id='user_profile__footer__actions__item_group--change-role' >";return t+="<label for='user_profile__footer__actions__change_role' class='label label-primary user_profile__footer__actions__item_group__label'></label>",t+="<select id='user_profile__footer__actions__change_role' name='role' class='user_profile__footer__actions__item_group__input'>",e.getState().requestedUser.roles.forEach(function(n){var r=n.id==e.getState().requestedUser.role?"selected":"";t+="<option dir='rtl' "+r+" value='"+n.id+"'>"+n.name+"</option>"}),t+="</select>",t+="<button class='btn btn-primary user_profile__footer__actions__item_group__submit btn btn-default fa fa-save'></button>",t+="</form>"}}],(n=null)&&yt(t.prototype,n),r&&yt(t,r),e}(),wt=function(){return{type:"SET_IS_REQUESTING_PROFILE",isRequestingProfile:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}};function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Et=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(e){}},{key:"registerActionEvents",value:function(e){Pe.registerEvents(e),Me.registerEvents(e),Ue.registerEvents(e),Ne.registerEvents(e),De.registerEvents(),He.registerEvents(e),ze.registerEvents(e),Xe.registerEvents(e),Ke.registerEvents(e),Qe.registerEvents(e),at.registerEvents(e),ct.registerEvents(e),ut.registerEvents(e),ft.registerEvents(e),ht.registerEvents(e),gt.registerEvents(e),vt.registerEvents(e),bt.registerEvents(e)}},{key:"show",value:function(t,n){n.getState().isRequestingProfile||(n.dispatch(wt(!0)),n.getState().socket.emit("req",c({type:"PROFILE_SHOW",data:{id:t}}),function(t){n.dispatch(wt(!1)),(t=l(t)).user&&(n.dispatch(E(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){St(e,t,n[t])})}return e}({},t.user,{actions:t.actions,roles:t.roles,liked:t.liked}))),e.render(n),$("#user_profile").modal("show"))}))}},{key:"clearAvatar",value:function(e){var t=e.getState().requestedUser.avatar;$("#user_profile .user_profile__body__avatar").attr("src",t)}},{key:"render",value:function(t){var n=t.getState().requestedUser;if(!n)return $("#user_profile_container").html("");$("#user_profile_container").html("");var r="<div class='modal fade' id='user_profile' tabindex='-1' role='dialog' aria-hidden='true'>";r+="<div class='modal-dialog' role='document' style='max-width: 345px'>",r+="<div class='modal-content'>",r+="<div class='user_profile__header modal-header label label-primary'>",r+="<div class='modal-title'>",r+="<img class='user_profile__header__avatar' width='25' height='25' src='"+n.avatar+"' alt=''/>",r+="<p class='user_profile__header__name ellipsis'>",r+=ee.render(n),r+="</p>",r+="<button data-dismiss='modal' class='btn btn-danger user_profile__header__close'>&times;</button>",r+="</div><div class='clear'></div>",r+="</div>",r+="<div class='user_profile__scroll_area' id='user_profile__scroll_area'>",r+="<div class='user_profile__body modal-body'>",n.actions.reveal_names&&(r+=qe.render(t),qe.registerEvents(t)),r+="<div id='user_profile__body__user_details'>",r+="<img class='user_profile__body__avatar img-rounded img-thumbnail' src='"+n.avatar+"' alt=''/>",r+=ne.render(t),r+=n.actions.ip?"<p class='user_profile__body__ip label label-success'>"+n.ip+"</p>":"",r+="<p style='color: "+n.statusColor+"' class='user_profile__body__status'>",r+=K.render(n.status,t),r+="</p>",r+="<div dir='rtl'>",r+="<div class='user_profile__body__room'>",r+=Tt.render(n.room,!0,t,!0),r+="</div>",r+="<span class='user_profile__body__country_flag'>",r+="<span class='user_profile__body__country_name'>"+n.countryName+"</span>",r+="<img width='18' src='"+n.countryFlag+"' alt='' />",r+="</span>",r+="</div>",r+="<div class='clear'></div>",r+="</div>",r+="</div>",r+="<div class='user_profile__footer modal-footer'>",r+="<div class='user_profile__footer__actions'>",r+=Pe.render(t),r+=n.actions.notify?Me.render(t):"",r+=Ue.render(t),r+=n.actions.gift?De.render():"",r+=n.actions.reveal_names?He.render(t):"",r+=n.actions.remove_avatar?ze.render(t):"",r+=n.actions.room_excpel?Xe.render(t):"",r+=n.actions.excpel?Ke.render(t):"",r+=n.actions.ban?Qe.render(t):"",r+=at.render(t),r+=ct.render(t),r+=n.actions.admin_mute?ft.render(t):"",r+=n.actions.change_decoration?ht.render(t):"",r+=n.actions.control_likes?gt.render(t):"",r+=n.actions.change_room?vt.render(t):"",r+=n.actions.change_role?bt.render(t):"",r+="</div>",r+="</div>",r+="</div>",r+="</div>",r+="</div>",r+="</div>",$("#user_profile_container").html(r),e.registerEvents(t),e.registerActionEvents(t),ne.registerEvents(t),Tt.registerEvents(t)}}],(n=null)&&kt(t.prototype,n),r&&kt(t,r),e}();function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var At=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.getProfile(t),e.onRemove(t)}},{key:"updateUser",value:function(e,t){var n=t.getState().users.filter(function(t){return t.id==e})[0];if(n){var r=$(".public_message:not(.linen)[data-user='"+e+"']");r&&(r.find(".public_message__avatar img").attr("src",n.avatar),r.find(".public_message__title").html(ee.render(n)),r.find(".public_message__content").css("color",n.fontColor)),(r=$(".public_message.linen[data-user='"+e+"']"))&&(r.find(".public_message__avatar img").attr("src",n.avatar),r.find(".public_message__title").html(ee.render(n)))}}},{key:"getProfile",value:function(e){$(".public_message__avatar").unbind("click").on("click",function(t){Et.show($(this).data("id"),e)})}},{key:"onRemove",value:function(e){$(".public_message__remove").unbind("click").on("click",function(t){var n=t.target.dataset.id;e.getState().socket.emit("req",c({type:"REMOVE_PUBLIC_MESSAGE",data:{id:n}}),function(e){})})}},{key:"remove",value:function(e){$(".public_message[data-id='"+e+"']").remove()}},{key:"clearSelfMessages",value:function(){return $(".public_message.public_self_message").remove()}},{key:"renderGreetUserMessage",value:function(e,t){var n=Date.now(),r=e.icon?"/uploads/greeting-messages/"+e.icon:t.getState().mUser.room.flag,o="<div class='public_message' style='background-color: "+e.backgroundColor+"' >";return o+="<p class='public_message__avatar'>",o+="<img width='36' height='38' src='"+r+"' />",o+="</p>",o+="<div>",o+="<h5 class='public_message__title' style='color: "+e.titleColor+"'>",o+=e.title,o+="</h5>",o+="<h5 class='public_message__content' style='color: "+e.contentColor+"'>",o+=K.render(e.content,t),o+="</h5>",o+="</div>",o+="<span class='public_message__time fr time' data-time='"+n+"' style='color: "+e.titleColor+"'>"+u(n)+"</span>",o+="<div class='clear'></div>",o+="</div>"}},{key:"renderJoinLeaveMessage",value:function(e,t){var n=Date.now(),r="<div class='public_message linen' data-user='"+e.user.id+"' >";return r+="<p class='public_message__avatar' data-id='"+e.user.id+"'>",r+="<img width='36' height='38' src='"+e.icon+"' />",r+="</p>",r+="<div>",r+="<h5 class='public_message__title'>",e.user?r+=ee.render(e.user):r+=e.title,r+="</h5>",r+="<h5 class='public_message__content'>",r+=K.render(e.content,t),e.room&&(r+=Tt.render(e.room,!0,t)),r+="</h5>",r+="</div>",r+="<span class='public_message__time fr time' data-time='"+n+"'>"+u(n)+"</span>",r+="<div class='clear'></div>",r+="</div>"}},{key:"renderRoomGreeting",value:function(e,t){var n=Date.now(),r="<div class='public_message greeting' style='background: "+t.getState().settings.self_message_bg_color+"' >";return r+="<p class='public_message__avatar'>",r+="<img width='36' height='38' src='"+e.icon+"' />",r+="</p>",r+="<div>",r+="<h5 class='public_message__title' style='color: "+t.getState().settings.self_message_title_color+"'>"+t.getState().settings.rooms_greeting_title+"</h5>",r+="<h5 class='public_message__content' style='color: "+t.getState().settings.self_message_content_color+"' >",r+=K.render(e.content,t),r+="</h5>",r+="</div>",r+="<span class='public_message__time fr time' data-time='"+n+"'>"+u(n)+"</span>",r+="<div class='clear'></div>",r+="</div>"}},{key:"renderPublicMessage",value:function(e,t){var n="<div class='public_message' data-id='"+e.id+"' data-user='"+e.user.id+"'>";(n+="<p class='public_message__avatar' data-id='"+e.user.id+"'>",n+="<img width='36' height='38' src='"+e.icon+"' />",n+="</p>",n+="<div>",n+="<h5 class='public_message__title'>",e.user?n+=ee.render(e.user):n+=e.title,n+="</h5>",e.user)&&(n+="<h5 class='public_message__content' style='color: "+(e.user?e.user.fontColor:"#000000")+"' >",n+=K.render(e.content,t),n+="</h5>");return n+="</div>",n+="<span class='public_message__time fr time' data-time='"+e.id+"'>"+u(e.id)+"</span>",t.getState().mUser.canRemovePublicMessages&&(n+="<button data-id='"+e.id+"' class='btn btn-danger fa fa-times public_message__remove'></button>"),n+="<div class='clear'></div>",n+="</div>"}},{key:"renderAd",value:function(e,t){var n=Date.now(),r="<div class='public_message public_message_ad' data-user='"+e.user.id+"' style='background: "+t.getState().settings.self_message_bg_color+"' >";return r+="<p class='public_message__avatar' data-id='"+e.user.id+"'>",r+="<img width='36' height='38' src='"+e.user.avatar+"' />",r+="</p>",r+="<div>",r+="<h5 class='public_message__title'>",e.user?r+=ee.render(e.user):r+=e.title,r+="</h5>",r+="<h5 class='public_message__content' style='color: "+(e.user?e.user.fontColor:"#000000")+"' >",r+=K.render(e.content,t),r+="<span class='public_message__content_title' style='color: blue; margin-right: 0.4rem'><span class='fa fa-comment'></span></span>",r+="</h5>",r+="</div>",r+="<span class='public_message__time fr time' data-time='"+n+"'>"+u(n)+"</span>",r+="<div class='clear'></div>",r+="</div>"}},{key:"renderSelfMessage",value:function(t,n){var r=Date.now(),o="<div class='public_message public_self_message public_message_ad' style='background: "+n.getState().settings.self_message_bg_color+"' >";return o+="<p class='public_message__avatar'>",o+="<img width='36' height='38' src='"+e.getSelfMessageIcon(n)+"' />",o+="</p>",o+="<div>",o+="<h5 class='public_message__title' style='color: "+n.getState().settings.self_message_title_color+"'>"+t.title+"</h5>",o+="<h5 class='public_message__content' style='color: "+n.getState().settings.self_message_content_color+"' >",o+=K.render(t.content,n),o+="</h5>",o+="</div>",o+="<span class='public_message__time fr time' data-time='"+r+"'>"+u(r)+"</span>",o+="<div class='clear'></div>",o+="</div>"}},{key:"getSelfMessageIcon",value:function(e){return e.getState().settings.self_messages_icon?"/uploads/"+e.getState().settings.self_messages_icon:"/images/default_room.png"}},{key:"render",value:function(t,n){switch(t.type){case"GREET_USER":return e.renderGreetUserMessage(t,n);case"JOIN_LEAVE":return e.renderJoinLeaveMessage(t,n);case"ROOM_GREETING":return e.renderRoomGreeting(t,n);case"PUBLIC_MESSAGE":return e.renderPublicMessage(t,n);case"AD":return e.renderAd(t,n);case"SELF_MESSAGE":return e.renderSelfMessage(t,n);default:return null}}},{key:"insert",value:function(t,n){$("#chat__body__messages_container .public_message").length>=20&&$("#chat__body__messages_container .public_message:first-child").remove(),$("#chat__body__messages_container").append(e.render(t,n)),e.registerEvents(n),on.scrollToBottom(),"JOIN_LEAVE"==t.type&&Tt.registerEvents(n)}}],(n=null)&&Ct(t.prototype,n),r&&Ct(t,r),e}();function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ot=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onFormSubmit(t),e.onLeaveRoom(t),e.openFacePicker(t),e.requestMic(t),e.muteMic(t),e.closePanes(t)}},{key:"isMicAvailable",value:function(e){return!(!e.getState().mUser.room||e.getState().mUser.room.id!=e.getState().settings.mic_room||!e.getState().settings.is_mic_enabled)}},{key:"toggleMic",value:function(t){e.isMicAvailable(t)?$("#chat__body__message-input").addClass("has-mic"):$("#chat__body__message-input").removeClass("has-mic")}},{key:"onFormSubmit",value:function(e){$("#chat__body__message-input form").on("submit",function(t){t.preventDefault();var n=t.target.message.value,r=t.target.message;n.trim()&&(r.value="",r.focus(),e.getState().socket.emit("req",c({type:"NEW_PUBLIC_MESSAGE",data:{message:n}}),function(t){if("string"==typeof(t=l(t)))return alert(t);var n=t.data;At.insert({id:n.time,user:n.user,icon:n.user.avatar,title:n.user.name,content:n.message,type:"PUBLIC_MESSAGE"},e)}))})}},{key:"onLeaveRoom",value:function(t){$(".chat__body__message-input__leave_room").on("click",function(){t.getState().socket.emit("req",c({type:"LEAVE_ROOM",data:{}}),function(n){n=l(n),At.insert({icon:n.user.avatar,title:n.user.name,user:n.user,room:null,content:"(   )",type:"JOIN_LEAVE"},t),e.toggleInput(t)})})}},{key:"toggleInput",value:function(e){e.getState().mUser.room?$("#chat__body__message-input__input, .chat__body__message-input__leave_room").removeAttr("disabled"):$("#chat__body__message-input__input, .chat__body__message-input__leave_room").attr("disabled","disabled")}},{key:"openFacePicker",value:function(t){$("#chat__body__message-input__face").on("click",function(n){t.dispatch(P(!0)),e.closePanes(t)})}},{key:"requestMic",value:function(e){$("#main-footer-top-request-mic").on("click",function(t){t.target.classList.toggle("active"),t.target.classList.contains("active")?(t.target.setAttribute("src","/images/stop-mic.png"),e.getState().socket.emit("req",c({type:"REQUEST_MIC",data:{on:!0}}))):(t.target.setAttribute("src","/images/mic.png"),e.getState().socket.emit("req",c({type:"REQUEST_MIC",data:{on:!1}})))})}},{key:"muteMic",value:function(e){$("#main-footer-top-stop-sound").on("click",function(t){t.target.classList.toggle("active"),t.target.classList.contains("active")?(t.target.setAttribute("src","/images/sound-off.png"),e.getState().socket.emit("req",c({type:"STOP_SOUND",data:{on:!0}})),e.getState().webrtc&&(e.getState().webrtc.mute(),e.getState().webrtc.setVolumeForAll(0))):(t.target.setAttribute("src","/images/sound-on.png"),e.getState().socket.emit("req",c({type:"STOP_SOUND",data:{on:!1}})),e.getState().webrtc&&(e.getState().webrtc.unmute(),e.getState().webrtc.setVolumeForAll(1)))})}},{key:"closePanes",value:function(e){$("#chat__body__message-input__input").on("focus",function(t){e.dispatch(U(null)),nn.togglePane(e)})}},{key:"render",value:function(t){var n=e.isMicAvailable(t)?"has-mic":"",r=t.getState().mUser.room?"":"disabled",o="<div id='chat__body__message-input' class='"+n+"'>";return o+=Q.render("public_messages","#chat__body__message-input__input",t),o+="<form>",o+="<button type='button' class='chat__body__message-input__leave_room btn btn-primary fa fa-sign-out'></button>",o+="<img class='chat__body__message-input__face' id='chat__body__message-input__face' src='/images/smile.gif' alt='' />",o+="<span id='main-footer-top-mic'>",o+="<img style='cursor: pointer' class='margin_right' src='/images/mic.png' alt='' id='main-footer-top-request-mic' width='22' height='22'/>",o+="<img style='cursor: pointer' class='margin_right' src='/images/sound-on.png' alt=' ' id='main-footer-top-stop-sound' width='22' height='22'/>",o+="</span>",o+="<input "+r+" class='border-color chat__body__message-input__input' name='message' id='chat__body__message-input__input' autoComplete='off' type='text' placeholder='  ' />",o+="<button class='btn btn-primary fa fa-send chat__body__message-input__submit'></button>",o+="</form>",o+="",o+="</div>"}}],(n=null)&&xt(t.prototype,n),r&&xt(t,r),e}();function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.joinRoom(t)}},{key:"joinRoom",value:function(t){$(".chat_pane__room_item, .chat_pane__room_item--inline").unbind("click").on("click",function(n){var r=$(this).data("id"),o=null;if((!t.getState().mUser.room||t.getState().mUser.room.id!=r)&&(!$(this).data("password")||t.getState().mUser.canOpenLockedRooms||(o=prompt("   ")))){var i={type:"JOIN_ROOM",data:{id:r,password:o}};t.getState().socket.emit("req",c(i),function(n){!1===(n=l(n)).error?(Ut.setRooms(t),Ut.setCurrentRoomActive(t),e.registerEvents(t),Ot.toggleInput(t)):n.message&&alert(n.message)})}})}},{key:"renderRoom",value:function(e,t){var n=t.getState().mUser.room&&t.getState().mUser.room.id==e.id?"active":"",r=e.password?"locked":"",o="<div data-id='"+e.id+"' data-password='"+e.password+"' class='chat_pane__room_item "+n+" "+r+"' >";return o+="<p class='chat_pane__room_item__flag'><img class='radius' width='36' height='36' alt='' src='"+e.flag+"' /></p>",o+="<div>",o+="<h5 class='chat_pane__room_item__name'>",o+=e.name,o+="<img alt='' src='/images/lock.png' />",o+="</h5>",o+="<h5 class='chat_pane__room_item__description'>",o+=K.render(e.description,t),o+="</h5>",o+="</div>",o+="<span class='chat_pane__room_item__users corner fa fa-user label label-primary fr'>"+e.users.length+"/"+e.capacity+"</span>",o+="<div class='clear'></div>",o+="</div>"}},{key:"renderInlineRoom",value:function(e,t){var n="<span data-id='"+e.id+"' data-password='"+e.password+"' class='chat_pane__room_item--inline label label-primary'>";return n+=e.name,n+=t?"<img src='"+e.flag+"' width='20' alt=''/>":"<span class='fa fa-sign-in'></span>",n+="</span>"}},{key:"render",value:function(t,n,r,o){return t?n&&t?e.renderInlineRoom(t,o):e.renderRoom(t,r):""}}],(n=null)&&Rt(t.prototype,n),r&&Rt(t,r),e}();function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.createRoom(t)}},{key:"createRoom",value:function(t){$("#createRomModal form").on("submit",function(n){n.preventDefault();var r=n.target.name.value.trim(),o=n.target.description.value.trim(),i=n.target.welcome.value.trim(),a=n.target.password.value.trim(),s=n.target.capacity.value,u=n.target.permanent.checked;return r.length?r.length<2?e.showErrorMessage("       "):t.getState().rooms.filter(function(e){return e.name==r}).length?e.showErrorMessage("  ,    "):s<2||s>50?e.showErrorMessage("      2  50"):void t.getState().socket.emit("req",c({type:"CREATE_ROOM",data:{room:{name:r,description:o,welcome:i,password:a,capacity:s,isPermanent:u}}}),function(t){if("string"==typeof(t=l(t)))return alert(t);t&&"object"==Pt(t)&&(!1===t.error?e.showSuccessMessage("   "):!0===t.error&&e.showErrorMessage(t.message))}):e.showErrorMessage("   ")})}},{key:"showErrorMessage",value:function(e){$("#createRomModal .alert-success").hide(),$("#createRomModal .alert-danger").text(e).show()}},{key:"showSuccessMessage",value:function(e){$("#createRomModal .alert-success").text(e).show(),$("#createRomModal .alert-danger").hide()}},{key:"render",value:function(t){$("#createRomModal form").unbind("submit"),$("#create_room_container").html("<div class='modal fade room_modal' id='createRomModal' tabindex='-1' role='dialog' aria-hidden='true'><div class='modal-dialog' role='document'><div class='modal-content'><div class='room_modal__header modal-header label label-primary'><div class='modal-title'><p class='room_modal__header__name ellipsis'>  </p><button data-dismiss='modal' class='btn btn-danger room_modal__header__close fa fa-times'></button></div></div><div class='room_modal__body modal-body'><p class='alert alert-danger' style='display: none'></p><p class='alert alert-success' style='display: none'></p><form id='room_modal__body__form'><div><div><input type='text' name='name' placeholder=' ' /></div><div><input type='text' name='description' placeholder='' /></div><div><input type='text' name='welcome' placeholder=' ' /></div><div><input type='text' name='password' placeholder=' ' /></div><div><input type='number' name='capacity' value='50' placeholder='   2  50' /></div><div><input type='checkbox' name='permanent' id='room_modal__body__checkbox' /><label for='room_modal__body__checkbox'> </label></div><button class='btn btn-success'><span class='fa fa-plus'></span> &nbsp;</button></div></form></div></div></div></div>"),e.registerEvents(t)}}],(n=null)&&Bt(t.prototype,n),r&&Bt(t,r),e}();function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ut=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.showCreateRoomDialog(t),e.setRooms(t)}},{key:"showCreateRoomDialog",value:function(e){$("#chat__body__rooms_pane__create_room").on("click",function(t){Mt.render(e)})}},{key:"setCurrentRoomActive",value:function(e){$("#chat__body__rooms_pane .chat_pane__room_item").removeClass("active"),e.getState().mUser.room&&$("#chat__body__rooms_pane .chat_pane__room_item[data-id='"+e.getState().mUser.room.id+"']").addClass("active")}},{key:"setRooms",value:function(e){if(nn.updateRoomsCount(e),"rooms"==e.getState().currentPane){$(".chat_pane__room_item").unbind("click");var t=$("#chat__body__rooms_pane .chat_pane__container");t.html(""),e.getState().rooms.forEach(function(n){t.append(Tt.render(n,!1,e))}),Tt.registerEvents(e)}}},{key:"scrollToTop",value:function(){document.querySelector("#chat__body__rooms_pane .chat_pane__container").scrollTo({top:0})}},{key:"render",value:function(e){var t="<div id='chat__body__rooms_pane' class='chat_pane' style='background: "+d(e.getState().settings,!0)+"'>";return t+=z.render(" "),t+="<div><button id='chat__body__rooms_pane__create_room' data-toggle='modal' data-target='#createRomModal' class='border btn btn-success fa fa-plus'> </button></div>",t+="<div class='chat_pane__container border'></div>",t+="</div>"}}],(n=null)&&It(t.prototype,n),r&&It(t,r),e}();function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.toggle(t)}},{key:"toggle",value:function(t){$("#radio-container img").unbind("click").on("click",function(n){$("#radio-stream").length?(e.stopRadio(),$("#radio-container .radio-container__off").removeClass("active"),$("#radio-container .radio-container__on").addClass("active")):(e.playRadio(t),$("#radio-container .radio-container__off").addClass("active"),$("#radio-container .radio-container__on").removeClass("active"))})}},{key:"update",value:function(t){var n=$("#radio-container");n.find("#radio-stream").attr("src")!=t.getState().settings.radio_stream_url&&n.find("#radio-stream").attr("src",t.getState().settings.radio_stream_url);var r=t.getState().settings.radio_stream_off_img?"/uploads/"+t.getState().settings.radio_stream_off_img:"/images/radio_banner_off.jpeg";n.find(".radio-container__off").attr("src",r);var o=t.getState().settings.radio_stream_on_img?"/uploads/"+t.getState().settings.radio_stream_on_img:"/images/radio_banner_on.jpeg";n.find(".radio-container__on").attr("src",o),t.getState().settings.is_radio_stream_enabled?$("#radio-container").show():(e.stopRadio(),$("#radio-container .radio-container__off").removeClass("active"),$("#radio-container .radio-container__on").addClass("active"),$("#radio-container").hide()),e.toggle(t)}},{key:"playRadio",value:function(e){$("#radio-container").append('<audio id="radio-stream" src="'+e.getState().settings.radio_stream_url+'" width="0" height="0" />'),$("#radio-stream")[0].play()}},{key:"stopRadio",value:function(){$("#radio-stream")[0]&&$("#radio-stream")[0].remove()}},{key:"render",value:function(e){var t=e.getState().settings.is_radio_stream_enabled?"block":"none",n=e.getState().settings.radio_stream_on_img?"/uploads/"+e.getState().settings.radio_stream_on_img:"/images/radio_banner_on.jpeg",r="<div id='radio-container' style='display: "+t+"'>";return r+="<img class='radio-container__off' src='"+(e.getState().settings.radio_stream_off_img?"/uploads/"+e.getState().settings.radio_stream_off_img:"/images/radio_banner_off.jpeg")+"' alt=''/>",r+="<img class='radio-container__on active' src='"+n+"' alt=''/>",r+="</div>"}}],(n=null)&&Lt(t.prototype,n),r&&Lt(t,r),e}();function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $t=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.sendComment(t),e.openFacePicker(t),e.onRemove(t),e.onLike(t)}},{key:"openFacePicker",value:function(e){$("#wall_comments__attach__face").unbind("click").on("click",function(t){e.dispatch(I(!0)),Q.onSelect()})}},{key:"onRemove",value:function(e){$("#wall_comments .wall_comments__comment__remove").unbind("click").on("click",function(t){var n=t.target.dataset.id,r=t.target.dataset.postId;e.getState().socket.emit("req",c({type:"WALL_POST_COMMENT_REMOVE",data:{id:n,postId:r}}),function(e){if("string"==typeof(e=l(e)))return alert(e)})})}},{key:"onLike",value:function(t){$("#wall_comments .wall_comments__comment__like").unbind("click").on("click",function(n){var r=n.target.dataset.id;t.getState().socket.emit("req",c({type:"WALL_POST_COMMENT_LIKE",data:{id:r}}),function(t){if("string"==typeof(t=l(t)))return alert(t);"object"==Ft(t)&&!1===t.error&&e.incCommentLikes(r)})})}},{key:"incCommentLikes",value:function(e){var t=$("#wall_comments .wall_comments__comment[data-id='"+e+"'] .wall_comments__comment__like").text();t=parseInt(t)+1,$("#wall_comments .wall_comments__comment[data-id='"+e+"'] .wall_comments__comment__like").text(t)}},{key:"scrollToBottom",value:function(){var e=document.getElementById("wall_comments__scroll_area");e&&(e.scrollTop=e.scrollHeight-e.clientHeight)}},{key:"setComments",value:function(t,n){var r=$("#wall_comments .wall_comments__body");r.html(""),t.forEach(function(t){r.append(e.renderPostComment(t,n))}),setTimeout(function(){e.scrollToBottom(),e.registerEvents(n)},500)}},{key:"renderPostComment",value:function(e,t){var n=t.getState().posts.filter(function(t){return t.id==e.postId})[0],r="<div class='wall_comments__comment' data-id='"+e.id+"' >";return r+="<p class='wall_comments__comment__avatar'>",r+="<img class='radius border border-color' width='30' height='30' src='"+e.user.avatar+"' />",r+="</p>",r+="<div>",r+="<h5 class='wall_comments__comment__title'>",r+=ee.render(e.user),r+="</h5>",r+="<h5 class='wall_comments__comment__content'>",r+=K.render(e.comment,t),r+="</h5>",r+="</div>",r+="<button data-id='"+e.id+"' class='wall_comments__comment__like fl btn btn-danger fa fa-heart'>"+e.likes+"</button>",n.user.reg_id!=t.getState().mUser.reg_id&&e.user.reg_id!=t.getState().mUser.reg_id||(r+="<button data-id='"+e.id+"' data-post-id='"+e.postId+"' class='wall_comments__comment__remove fl btn btn-danger fa fa-remove'></button>"),r+="<span class='wall_comments__comment__time fr time' data-time='"+e.time+"'>"+u(e.time)+"</span>",r+="<div class='clear'></div>",r+="</div>"}},{key:"sendComment",value:function(e){$("#wall_comments form").unbind("submit").on("submit",function(t){t.preventDefault();var n=$(this).data("post-id"),r=t.target.comment,o=r.value.trim();o&&"disabled"!=$("#wall_comments__form__submit").attr("disabled")&&($("#wall_comments__form__submit").attr("disabled","disabled"),e.getState().socket.emit("req",c({type:"ADD_WALL_POST_COMMENT",data:{post_id:n,text:o}}),function(e){if($("#wall_comments__form__submit").removeAttr("disabled"),r&&(r.value=""),"string"==typeof(e=l(e)))return alert(e)}))})}},{key:"getPostComments",value:function(t,n){n.getState().socket.emit("req",c({type:"WALL_GET_POST_COMMENTS",data:{post_id:t.id}}),function(t){e.setComments(l(t),n)})}},{key:"add",value:function(t,n){var r=$("#wall_comments");r&&r.hasClass("show")&&n.getState().wallCommentsPost&&n.getState().wallCommentsPost.id==t.postId&&($("#wall_comments .wall_comments__body").append(e.renderPostComment(t,n)),e.scrollToBottom(),e.registerEvents(n))}},{key:"remove",value:function(e){$("#wall_comments").hasClass("show")&&$("#wall_comments .wall_comments__comment[data-id='"+e+"']").remove()}},{key:"render",value:function(t,n){var r="<div class='modal fade' id='wall_comments' tabindex='-1' role='dialog' aria-hidden='true'>";r+="<div class='modal-dialog' role='document' style='max-width: 345px'>",r+="<div class='modal-content'>",r+="<div class='wall_comments__header modal-header label label-primary'>",r+="<div class='modal-title'>",r+="<img class='wall_comments__header__avatar' width='25' height='25' src='"+t.user.avatar+"' alt=''/>",r+="<p class='wall_comments__header__name ellipsis'>",r+=t.user.icon?"<img src='"+t.user.icon+"' class='username__icon fl' style='max-height: 16px' />":"",r+="<span style='vertical-align: middle; font-size: 0.7rem; display: inline-block; margin-left: 2px'>"+t.user.name+"</span>",r+="</p>",r+="<button data-dismiss='modal' class='btn btn-danger wall_comments__header__close'>&times;</button>",r+="</div><div class='clear'></div>",r+="</div>",r+="<div class='wall_comments__post_body_area'>",r+="<h5 style='color: "+t.user.fontColor+"' class='wall_post__body'>",r+=Ht.renderPostBody(t,n),r+="</h5>",r+="</div>",r+="<div class='wall_comments__scroll_area' id='wall_comments__scroll_area'>",r+="<div class='wall_comments__body modal-body'></div>",r+="</div>",r+="<form class='wall_comments__form' data-post-id='"+t.id+"'>",r+="<img class='wall_comments__form__face' src='/images/smile.gif' alt='smile' id='wall_comments__attach__face' width='22' height='22'/>",r+="<input type='text' id='wall_comments__form__input' class='border-color wall_comments__form__input' name='comment' placeholder='  ' autoComplete='off' dir='rtl'/>",r+="<button id='wall_comments__form__submit' class='border-color fa fa-send btn btn-primary wall_comments__form__send'></button>",r+=Q.render("wall-comments","#wall_comments__form__input",n),r+="</form>",r+="</div>",r+="</div>",r+="</div>",$("#wall_comments_container").html(r),e.getPostComments(t,n),e.registerEvents(n)}}],(n=null)&&Dt(t.prototype,n),r&&Dt(t,r),e}(),jt=n(49),qt=n.n(jt);function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ht=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.youtubeVideoClicked(t),e.getProfile(t),e.remove(t),e.comment(t),e.like(t),qt.a.init({wrapAround:!0,disableScrolling:!0})}},{key:"like",value:function(e){$("#chat__body__wall_pane .wall_post .wall_post__body__heart").unbind("click").on("click",function(t){t.stopPropagation();var n=$(this).parent().data("id");e.getState().socket.emit("req",c({type:"WALL_LIKE_POST",data:{id:n}}),function(e){if("string"==typeof(e=l(e)))return alert(e)})})}},{key:"remove",value:function(e){$("#chat__body__wall_pane .wall_post .wall_post__body__remove").unbind("click").on("click",function(t){t.stopPropagation();var n=$(this).parent().data("id");e.getState().socket.emit("req",c({type:"WALL_REMOVE_POST",data:{id:n}}),function(e){if("string"==typeof(e=l(e)))return alert(e)})})}},{key:"comment",value:function(e){$("#chat__body__wall_pane .wall_post .wall_post__body__comments").unbind("click").on("click",function(t){var n=$(this).parent().data("id"),r=e.getState().posts.filter(function(e){return e.id==n})[0];e.dispatch(function(){return{type:"SET_WALL_COMMENTS_POST",wallCommentsPost:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(r)),$t.render(r,e)})}},{key:"getProfile",value:function(e){$("#chat__body__wall_pane .wall_post .wall_post__avatar img").unbind("click").on("click",function(t){t.stopPropagation();var n=$(this).closest(".wall_post").data("user");Et.show(n,e)})}},{key:"photoClicked",value:function(){$(".wall_post__body--photo").unbind("click").on("click",function(e){e.stopPropagation(),window.open($(this).attr("src"),"_blank").focus()})}},{key:"youtubeVideoClicked",value:function(){$(".wall_post .yt-btn").unbind("click").on("click",function(e){e.stopPropagation();try{var t=$(this).data("post-id"),n="https://www.youtube.com/embed/"+$(this).data("yid")+"?autoplay=1&playsinline=1",r=document.getElementById("yt-btn-"+t);r&&(r.insertAdjacentHTML("afterend",'<iframe width="95%" style="max-width:240px;" height="200" src="'+n+'" frameborder="0"></iframe><br />'),r.remove())}catch(e){}})}},{key:"renderPostBody",value:function(e,t){switch(e.type){case"text":return"<span class='wall_post__body--text'>"+K.render(e.body,t)+"</span>";case"photo":return"<div class='hes-gallery' data-wrap='true' data-img-count='false' ><img class='wall_post__body--photo rounded' src='/uploads/wall/photos/"+e.body+"' /></div>";case"sound":return"<audio class='wall_post__body--sound' controls src='/uploads/wall/sounds/"+e.body+"' ></audio>";case"video":return"<video class='wall_post__body--video' controls src='/uploads/wall/videos/"+e.body+"'></video>";case"youtube":var n="<button class='yt-btn' id='yt-btn-"+e.id+"' data-post-id='"+e.id+"' data-yid='"+e.body+"'>";return n+="<img src='images/youtube.png'/>",n+="<img style='width: 80px' alt='[YouTube]' src='https://img.youtube.com/vi/"+e.body+"/0.jpg' />",n+="</button>"}}},{key:"render",value:function(t,n){var r=t.active?"active":"",o="<div data-user='"+t.user.id+"' id='wall-post-"+t.id+"' class='wall_post "+r+"' >";return o+="<p class='wall_post__avatar'>",o+="<img class='radius' width='36' height='36' alt='' src='"+t.user.avatar+"' />",o+="</p>",o+="<div>",o+="<h5 class='wall_post__name'>",o+=ee.render(t.user),o+="</h5>",o+="<h5 style='color: "+t.user.fontColor+"' class='wall_post__body'>",o+=e.renderPostBody(t,n),o+="</h5>",o+="<div class='wall_post__footer' data-id='"+t.id+"'>",o+="<button data-toggle='modal' data-target='#wall_comments' class='wall_post__body__comments fl btn btn-primary fa fa-comments'>"+t.comments+"</button>",o+="<button class='wall_post__body__heart fl btn btn-danger fa fa-heart'>"+t.likes+"</button>",o+="<button class='wall_post__body__remove fr btn btn-danger fa fa-times'></button>",o+="</div>",o+="<span class='wall_post__time fr time' data-time='"+t.time+"'>"+u(t.time)+"</span>",o+="</div>",o+="<div class='clear'></div>",o+="</div>"}}],(n=null)&&Wt(t.prototype,n),r&&Wt(t,r),e}();function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.publish(t),e.fetchPosts(t),e.attachFile(t),e.openFacePicker(t),e.triggerAttachFileInput(t)}},{key:"publish",value:function(t){$("#chat__body__wall_pane .chat__body__wall_pane__form").on("submit",function(n){n.preventDefault();var r=n.target.message,o=r.value.trim();if(o){var i={type:"text",body:o};e.send(i,r,t)}})}},{key:"send",value:function(e,t,n){t&&(t.value=""),n.getState().socket.emit("req",c({type:"WALL_ADD_POST",data:e}),function(e){if("string"==typeof(e=l(e)))return alert(e)})}},{key:"fetchPosts",value:function(t){t.dispatch({type:"RESET_NEW_POSTS_COUNT"}),nn.updateWallCout(t),t.getState().isPostsFetched||t.getState().socket.emit("req",c({type:"WALL_GET_POSTS",data:{}}),function(n){t.dispatch(function(){return{type:"SET_POSTS",posts:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}(l(n))),t.dispatch({type:"IS_POSTS_FETCHED",isPostsFetched:!0}),e.renderPosts(t)})}},{key:"renderPosts",value:function(e){var t=$("#chat__body__wall_pane .chat_pane__container__posts");t.html(""),e.getState().posts.forEach(function(n){t.append(Ht.render(n,e))}),Ht.registerEvents(e)}},{key:"openFacePicker",value:function(e){$("#chat__body__wall_pane__form__attach__face").on("click",function(t){e.dispatch(M(!0))})}},{key:"updatePost",value:function(e,t){var n=t.getState().posts.filter(function(t){return t.id==e})[0];if(n){var r=$("#wall-post-"+n.id);r.find(".wall_post__body__heart").text(n.likes),r.find(".wall_post__body__comments").text(n.comments)}}},{key:"removePost",value:function(e){$("#wall-post-"+e).remove()}},{key:"addPost",value:function(e,t){e&&($("#chat__body__wall_pane .chat_pane__container__posts").prepend(Ht.render(e,t)),Ht.registerEvents(t))}},{key:"setPosts",value:function(e){if(nn.updateWallCout(e),"wall"==e.getState().currentPane&&!$("#chat__body__wall_pane .chat_pane__container__posts").length){$(".wall_post").unbind("click");var t=$("#chat__body__wall_pane .chat_pane__container__posts");t.html(""),e.getState().posts.forEach(function(n){t.append(Ht.render(n,e))}),Ht.registerEvents(e),document.querySelector("#chat__body__wall_pane .chat_pane__container").scrollTo({top:0})}}},{key:"triggerAttachFileInput",value:function(){$(".chat__body__wall_pane__form__attach").unbind("click").on("click",function(e){var t=document.getElementById("chat__body__wall_pane__form__file");t&&t.click()})}},{key:"attachFile",value:function(t){$("#chat__body__wall_pane__form__file").unbind("change").on("change",function(n){var r=n.target.files[0],o=new FormData;o.append("file",r),t.getState().socket.emit("req",c({type:"WALL_BEFORE_SEND_MEDIA",data:{}}),function(n){if("string"==typeof(n=l(n)))return alert(n);if(!1===n.error){o.append("hash",n.hash),o.append("id",n.user_id);var i=null,a=r.type.split("/")[0];if("image"==a&&(i="/wall_upload_photo_post"),"audio"==a&&(i="/wall_upload_sound_post"),"video"==a&&(i="/wall_upload_video_post"),!i)return;$(".chat__body__wall_pane__form__attach").hide(),$(".chat__body__wall_pane__form__loader, .chat__body__wall_pane__form__loading_percent").show();var s=$(".chat__body__wall_pane__form__loading_percent");fe.a.post(i,o,{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);s.text(t<10?"0"+t:t)}}).then(function(n){!1===n.data.error&&e.send({type:n.data.type,body:n.data.body},null,t),$(".chat__body__wall_pane__form__attach").show(),$(".chat__body__wall_pane__form__loader, .chat__body__wall_pane__form__loading_percent").hide(),s.text("00")}).catch(function(e){$(".chat__body__wall_pane__form__attach").show(),$(".chat__body__wall_pane__form__loader, .chat__body__wall_pane__form__loading_percent").hide(),s.text("00")})}})})}},{key:"update",value:function(e){var t=$("#chat__body__wall_pane"),n=e.getState().settings.wall_banner_msg?e.getState().settings.wall_banner_msg:"";t.find(".chat_pane__container__banner").css("background",e.getState().settings.wall_banner_background_color),t.find(".chat_pane__container__banner").css("color",e.getState().settings.wall_banner_font_color),t.find(".chat_pane__container__banner p").text(n),e.getState().settings.show_wall_banner?t.find(".chat_pane__container__banner").show():t.find(".chat_pane__container__banner").hide()}},{key:"render",value:function(e){var t=e.getState().settings.wall_banner_msg?e.getState().settings.wall_banner_msg:"",n="<div id='chat__body__wall_pane' class='chat_pane' style='background: "+d(e.getState().settings,!0)+"'>";return n+=z.render("  ",!0),n+="<div class='chat_pane__container border'>",n+=Nt.render(e),n+="<div class='chat_pane__container__banner' style='background: "+e.getState().settings.wall_banner_background_color+"; color: "+e.getState().settings.wall_banner_font_color+"'>",n+="<p>"+t+"</p>",n+="</div>",n+="<div class='chat_pane__container__posts'></div>",n+="</div>",n+="<form class='chat__body__wall_pane__form'>",n+="<button type='button' class='border-color btn btn-primary fa fa-share-alt chat__body__wall_pane__form__attach'></button>",n+="<span><span class='chat__body__wall_pane__form__loading_percent'>00</span><img class='chat__body__wall_pane__form__loader' style='display: none' src='/images/loader.gif' width='24' height='24' alt='' /></span>",n+="<img class='chat__body__wall_pane__form__face' src='/images/smile.gif' alt='smile' id='chat__body__wall_pane__form__attach__face' width='22' height='22' />",n+="<input type='text' id='chat__body__wall_pane__form__input' class='border-color chat__body__wall_pane__form__input' name='message' placeholder='  ' autoComplete='off' dir='rtl'/>",n+="<button class='border-color fa fa-send btn btn-primary chat__body__wall_pane__form__send'></button>",n+="<input id='chat__body__wall_pane__form__file' type='file' accept='image/*, video/*, audio/*' style='display: none; position: absolute; left: 9999px' />",n+=Q.render("wall","#chat__body__wall_pane__form__input",e),n+="</form>",n+="</div>"}}],(n=null)&&Gt(t.prototype,n),r&&Gt(t,r),e}();function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.openChat(t),e.remove(t)}},{key:"openChat",value:function(e){$("#chat__body__conversations_pane .conversations_item").unbind("click").on("click",function(t){var n=e.getState().currentConversation;$(this).removeClass("unread");var r=$(this).data("id"),o=e.getState().conversations.filter(function(e){return e.id==r})[0];o&&o.him&&(n&&n.id==o.id||(e.dispatch(re(o.him)),Re.render(e)))})}},{key:"remove",value:function(e){$("#chat__body__conversations_pane .conversations_item__remove").unbind("click").on("click",function(t){t.stopPropagation();var n=$(this).closest(".conversations_item").data("id"),r=e.getState().conversations.filter(function(e){return e.id==n})[0];e.getState().currentConversation&&e.getState().currentConversation.id==r.id&&(e.dispatch(re(null)),$("#chat_box_container").html("")),e.dispatch(oe(r.id)),$(this).closest(".conversations_item").remove(),nn.updateConversationsCount(e)})}},{key:"renderLastMessage",value:function(e,t){var n=e.messages.length;if(n){var r=e.messages[n-1];if("text"==r.type)return K.render(r.body,t);if("photo"==r.type)return"<span class='fa fa-camera'></span>";if("sound"==r.type)return"<span class='fa fa-microphone'></span>";if("video"==r.type)return"<span class='fa fa-video-camera'></span>";if("youtube"==r.type)return"<span class='fa fa-youtube'></span>"}}},{key:"render",value:function(t,n){var r=t.seen?"":"unread",o="<div data-id='"+t.id+"' class='conversations_item "+r+" "+t.him.state+"' >";return o+="<div class='conversations_item__holder fl'>",o+="<p class='conversations_item__avatar'><img class='radius' width='30' height='30' src='"+t.him.avatar+"' /></p>",o+="<div>",o+="<h5 class='conversations_item__name'>",o+=ee.render(t.him),o+="</h5>",o+="<h5 style='color: "+t.him.fontColor+"' class='conversations_item__last_message'>",o+=e.renderLastMessage(t,n),o+="</h5>",o+="</div>",o+="</div>",o+="<button class='conversations_item__remove btn btn-danger fa fa-times fr'></button>",o+="<div class='clear'></div>",o+="</div>"}}],(n=null)&&Vt(t.prototype,n),r&&Vt(t,r),e}();function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(e){}},{key:"renderConversations",value:function(e){var t=$("#chat__body__conversations_pane .chat_pane__container");t.html(""),e.getState().conversations.filter(function(t){return!e.getState().ignoredUsers.includes(t.him.id)}).forEach(function(n){t.append(Xt.render(n,e))}),Xt.registerEvents(e)}},{key:"render",value:function(t){var n="<div id='chat__body__conversations_pane' class='chat_pane' style='background: "+d(t.getState().settings,!0)+"'>";return n+=z.render(" "),n+="<div class='chat_pane__container border'>"+e.renderConversations(t)+"</div>",n+="</div>"}}],(n=null)&&Yt(t.prototype,n),r&&Yt(t,r),e}();function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onClick(t),e.trustUser(t)}},{key:"onClick",value:function(e){$(".notification").unbind("click").on("click",function(t){var n=$(this).closest(".notification").data("user-id");Et.show(n,e)})}},{key:"trustUser",value:function(e){$(".notification__message__body__trust_user").unbind("click").on("click",function(t){var n=this;t.stopPropagation(),e.getState().socket.emit("req",c({type:"TRUST_USER",data:{id:$(this).data("user-id"),name:$(this).data("user-name"),decoration:$(this).data("user-decoration")}}),function(t){if(t=l(t),$(n).closest(".popup").click(),"string"==typeof t)return alert(t);if(t&&t.message&&alert(t.message),!t.error){var r=$(n).data("user-id");e.dispatch(ge(r)),$("button[data-user-id='"+r+"']").remove()}})})}},{key:"renderMessage",value:function(e,t){switch(e.type){case"like":return"<span>  <span style='color: red' class='fa fa-heart'></span></span>";case"gift":return"<span>  <img src='"+e.message+"' class='gifts_picker__contianer__img' alt=''/></span>";case"remove_gift":return"<span>  <img src='"+e.message+"' class='gifts_picker__contianer__img' alt=''/></span>";case"room_excpel":case"change_room":return"<p dir='rtl'>"+e.message+" <span>"+Tt.render(e.room,!0,t)+"</span></p>";case"post_comment_like":case"post_commented":return"<p dir='rtl'>"+e.message+" <span><p class='notification__message__body'>"+e.comment+"</p></span></p>";case"login_banned":var n="<p>"+e.data.name+" ---- "+e.data.decoration+"</p>";return n+="<p>"+e.data.role+"</p>",n+="<p>"+e.data.ip+" <img src='/images/flags/"+e.data.country.toLowerCase()+".png' /></p>",n+="<p dir='rtl'>"+e.data.device+"</p>",e.data.isGuest||e.data.is_trusted||(n+="<p style='text-align: center'><button data-user-name='"+e.data.name+"' data-user-decoration='"+e.data.decoration+"' data-user-id='"+e.data.user_id+"' class='notification__message__body__trust_user btn btn-success'> </button></p>"),n;case"photo_like":return;default:return"<span>"+K.render(e.message,t)+"</span>"}}},{key:"render",value:function(t,n){var r=t.user?t.user.id:"",o=Date.now(),i="<div data-id='"+t.id+"' data-user-id='"+r+"' class='notification'>";return i+="<p class='notification__title label label-primary'>"+t.title+"</p>",t.user&&(i+="<div class='notification__sender'>",i+="<img src='"+t.user.avatar+"' width='24' height='24' class='notification__sender__avatar' />",i+="<p class='notification__sender__name'>"+ee.render(t.user)+"</p>",i+="</div>"),i+="<div class='notification__message'>",i+=e.renderMessage(t,n),i+="</div>",i+="<span class='notification__time fr time' data-time='"+o+"'>"+u(o)+"</span>",i+="</div>"}}],(n=null)&&Jt(t.prototype,n),r&&Jt(t,r),e}();function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var en=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.close(t)}},{key:"close",value:function(e){$(".chat__body__notifications-pane__back button").unbind("click").on("click",function(t){e.dispatch(U("settings")),nn.togglePane(e)})}},{key:"setNotifications",value:function(e){var t=$("#chat__body__notifications-pane .chat_pane__container");t.html(""),e.getState().popups.forEach(function(n){t.prepend(Qt.render(n,e))}),Qt.registerEvents(e)}},{key:"render",value:function(e){var t="<div id='chat__body__notifications-pane' class='chat_pane' style='background: "+d(e.getState().settings,!0)+"'>";return t+=z.render(""),t+="<p class='chat__body__notifications-pane__back'>",t+="<button class='btn btn-success fa fa-arrow-left'></button>",t+="</p>",t+="<div class='chat_pane__container border'></div>",t+="</div>"}}],(n=null)&&Zt(t.prototype,n),r&&Zt(t,r),e}();function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.updateUsersCout(t),$("#chat__footer__menu__users_item").on("click",function(n){"users"!=t.getState().currentPane&&(t.dispatch(U("users")),e.togglePane(t))}),$("#chat__footer__menu__conversations_item").on("click",function(n){"conversations"!=t.getState().currentPane&&(t.dispatch(U("conversations")),e.togglePane(t))}),$("#chat__footer__menu__rooms_item").on("click",function(n){"rooms"!=t.getState().currentPane&&(t.dispatch(U("rooms")),e.togglePane(t))}),$("#chat__footer__menu__wall_item").on("click",function(n){"wall"!=t.getState().currentPane&&(t.dispatch(U("wall")),t.dispatch({type:"RESET_NEW_POSTS_COUNT"}),e.updateWallCout(t),e.togglePane(t))}),$("#chat__footer__menu__settings_item").on("click",function(n){"settings"!=t.getState().currentPane&&(t.dispatch(U("settings")),e.togglePane(t))}),$("#chat__footer__menu__tv_item").on("click",function(e){H.open(t)})}},{key:"togglePane",value:function(e,t){if($(".chat_pane").hide(),!t)return"users"==e.getState().currentPane?(nt.setUsers(e),$("#chat__body__users-pane").show()):"conversations"==e.getState().currentPane?(Kt.renderConversations(e),$("#chat__body__conversations_pane").show()):"rooms"==e.getState().currentPane?(Ut.setRooms(e),$("#chat__body__rooms_pane").show()):"wall"==e.getState().currentPane?(zt.setPosts(e),$("#chat__body__wall_pane").show()):"settings"==e.getState().currentPane?$("#chat__body__settings_pane").show():"ignored_users"==e.getState().currentPane?(ot.setUsers(e),$("#chat__body__ignored-users-pane").show()):"notifications"==e.getState().currentPane?(en.setNotifications(e),$("#chat__body__notifications-pane").show()):void 0}},{key:"updateUsersCout",value:function(e){$("#chat__footer__menu__users_item .count").text(e.getState().users.length-e.getState().ignoredUsers.length)}},{key:"updateConversationsCount",value:function(e){var t=e.getState().conversations.filter(function(e){return 0==e.seen}).length;t>0?($("#chat__footer__menu__conversations_item").addClass("unread"),$("#chat__footer__menu__conversations_item .count").text(t)):($("#chat__footer__menu__conversations_item").removeClass("unread"),$("#chat__footer__menu__conversations_item .count").text(0))}},{key:"updateRoomsCount",value:function(e){$("#chat__footer__menu__rooms_item .count").text(e.getState().rooms.length)}},{key:"updateWallCout",value:function(e){var t=e.getState().newPostsCount;t?$("#chat__footer__menu__wall_item").addClass("unread"):$("#chat__footer__menu__wall_item").removeClass("unread"),$("#chat__footer__menu__wall_item .count").text(t)}},{key:"toggleTV",value:function(e){e.getState().settings.tv_box_enabled?$("#chat__footer__menu__tv_item").show():($("#chat__footer__menu__tv_item").hide(),H.close(e))}},{key:"render",value:function(){return"<ul id='chat__footer__menu'>","<li id='chat__footer__menu__users_item' class='border border-color btn-primary chat__footer__menu__item'>","<span class='fa fa-user'></span><span class='badge count'>0</span>","</li>","<li id='chat__footer__menu__conversations_item' class='border border-color btn-primary chat__footer__menu__item' >","<span class='fa fa-comment'></span><span class='badge count'>0</span>","</li>","<li id='chat__footer__menu__rooms_item' class='border border-color btn-primary chat__footer__menu__item'>","<span class='fa fa-users'></span><span><span class='badge count'>0</span></span>","</li>","<li id='chat__footer__menu__wall_item' class='border border-color btn-primary chat__footer__menu__item'>","<span class='fa fa-commenting-o'></span><span class='badge count'>0</span><span></span>","</li>","<li id='chat__footer__menu__settings_item' class='border border-color btn-primary chat__footer__menu__item'>","<span class='fa fa-gear'></span><span></span>","</li>","<li id='chat__footer__menu__tv_item' class='border border-color btn-primary chat__footer__menu__item'>","<span class='fa fa-tv'></span>","</li>","</ul>","</div>","<div id='chat__footer'><ul id='chat__footer__menu'><li id='chat__footer__menu__users_item' class='border border-color btn-primary chat__footer__menu__item'><span class='fa fa-user'></span><span class='badge count'>0</span></li><li id='chat__footer__menu__conversations_item' class='border border-color btn-primary chat__footer__menu__item' ><span class='fa fa-comment'></span><span class='badge count'>0</span></li><li id='chat__footer__menu__rooms_item' class='border border-color btn-primary chat__footer__menu__item'><span class='fa fa-users'></span><span><span class='badge count'>0</span></span></li><li id='chat__footer__menu__wall_item' class='border border-color btn-primary chat__footer__menu__item'><span class='fa fa-commenting-o'></span><span class='badge count'>0</span><span></span></li><li id='chat__footer__menu__settings_item' class='border border-color btn-primary chat__footer__menu__item'><span class='fa fa-gear'></span><span></span></li><li id='chat__footer__menu__tv_item' class='border border-color btn-primary chat__footer__menu__item'><span class='fa fa-tv'></span></li></ul></div>"}}],(n=null)&&tn(t.prototype,n),r&&tn(t,r),e}();function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var on=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.hideAllPanes(t)}},{key:"hideAllPanes",value:function(e){$("#chat__body__messages_container").on("click",function(t){e.dispatch(U(null)),nn.togglePane(e,!0)})}},{key:"scrollToBottom",value:function(){var e=document.getElementById("chat__body__messages_container");e&&(e.scrollTop=e.scrollHeight-e.clientHeight)}},{key:"render",value:function(){return"<div id='chat__body__messages_container'></div>"}}],(n=null)&&rn(t.prototype,n),r&&rn(t,r),e}();function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"render",value:function(e){var t="<div id='chat__body' style='background: "+d(e.getState().settings)+"'>";return t+=on.render(),t+=Ot.render(e),t+=nt.render(e),t+=Kt.render(e),t+=Ut.render(e),t+=zt.render(e),t+=he.render(e),t+=ot.render(e),t+=en.render(e),t+="<audio style='display: none;' id='private-bip'>",t+="<source src='private-bip.mp3' type='audio/mpeg'>",t+="<source src='private-bip.ogg' type='audio/ogg'>",t+="</audio>",t+="</div>"}}],(n=null)&&an(t.prototype,n),r&&an(t,r),e}();function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ln=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onParticleLoaded(t)}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"insertParticles",value:function(e){if($("#floating_particles"))for(var t=0;t<2;t++)"heart"==e.getState().particleType&&($("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_heart1.png" width="50" height="50" alt="" />'),$("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_heart2.png" width="50" height="50" alt="" />'),$("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_heart3.png" width="50" height="50" alt="" />')),"gift"==e.getState().particleType&&($("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_gift1.png" width="50" height="50" alt="" />'),$("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_gift2.png" width="50" height="50" alt="" />'),$("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_gift3.png" width="50" height="50" alt="" />')),"ad"==e.getState().particleType&&($("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_ad1.png" width="50" height="50" alt="" />'),$("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_ad2.png" width="50" height="50" alt="" />'),$("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_ad3.png" width="50" height="50" alt="" />')),"rose"==e.getState().particleType&&($("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_rose1.png" width="50" height="50" alt="" />'),$("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_rose2.png" width="50" height="50" alt="" />'),$("#floating_particles").append('<img class="floating_particles__item" src="/images/floating_rose3.png" width="50" height="50" alt="" />'))}},{key:"onParticleLoaded",value:function(t){$(".floating_particles__item").unbind("load").on("load",function(n){e.insertParticles(t),$(".floating_particles__item").toArray().forEach(function(n){var r=$("body").width()-100,o=e.getRandomInt(50,150);try{$(n).animate({lef:e.getRandomInt(0,r),right:e.getRandomInt(0,r),bottom:e.getRandomInt(30,500),width:o,height:o},e.getRandomInt(1e3,3e3),function(){$(n).animate({top:"-100%",opacity:0},e.getRandomInt(5e3,15e3),function(){try{$(n).unbind("load").remove()}catch(e){}t.getState().particleType&&t.dispatch(T(null))})})}catch(e){}})})}},{key:"toggle",value:function(t){t.getState().settings.disable_floating_particles||($("#floating_particles .floating_particles__item").remove(),$("#floating_particles").append("<img class='floating_particles__item' src='/images/floating_"+t.getState().particleType+"1.png' width='50' height='50' alt='' />"),e.onParticleLoaded(t))}},{key:"render",value:function(e){var t="<div id='floating_particles'>";return e.getState().settings.disable_floating_particles||(t+="<img class='floating_particles__item' src='/images/floating_rose1.png' width='50' height='50' alt='' />"),t+="</div>"}}],(n=null)&&cn(t.prototype,n),r&&cn(t,r),e}();function un(e,t){switch(this.store=t,e.type){case"NEW_USER":return this.newUser(e.data.user);case"USER_OUT":return this.userOut(e.data.user);default:return null}}un.prototype.newUser=function(e){this.store.dispatch(function(){return{type:"ADD_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(e)),this.store.dispatch(x(e.id,null,e.room.id)),e.room&&this.store.getState().mUser.room&&e.room.id==this.store.getState().mUser.room.id&&!e.isMuted&&(At.insert({icon:e.avatar,title:e.name,user:e,content:"    ",room:e.room,type:"JOIN_LEAVE"},this.store),nn.updateUsersCout(this.store)),Ut.setRooms(this.store),nt.setUsers(this.store)},un.prototype.userOut=function(e){if(this.store.dispatch(function(){return{type:"REMOVE_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(e)),this.store.dispatch({type:"REMOVE_CONVERSATION_BY_USER",him_id:e.id}),nn.updateUsersCout(this.store),this.store.getState().requestedUser&&this.store.getState().requestedUser.id==e.id&&(this.store.dispatch(E(null)),$("#user_profile").modal("hide")),this.store.getState().currentConversation&&this.store.getState().currentConversation.id==e.id&&(this.store.dispatch(re(null)),$("#chat_box_container").html("")),this.store.dispatch(oe(e.id)),nn.updateConversationsCount(this.store),this.store.getState().currentConversation&&this.store.getState().currentConversation.id==e.id&&this.store.dispatch(re(null)),this.store.getState().requestedUser&&this.store.getState().requestedUser.id==e.id&&this.store.dispatch(E(null)),e.room&&this.store.dispatch(x(e.id,e.room.id,null)),e.room&&this.store.getState().mUser.room&&e.room.id==this.store.getState().mUser.room.id){var t=null;!(t=e.isExcpeled?"(   )":e.isBanned?"(    )":"(   )")||e.isMuted||this.store.getState().ignoredUsers.includes(e.id)||At.insert({icon:e.avatar,title:e.name,user:e,content:t,type:"JOIN_LEAVE"},this.store)}Ut.setRooms(this.store),nt.setUsers(this.store)};var dn=un;function fn(e,t){switch(this.store=t,e.type){case"USER_JOINDED_ROOM":return this.userJoinedRoom(e.data);case"USER_EXPELED_FROM_ROOM":return this.userExcpeledFromRoom(e.data);case"USER_LEAVED_ROOM":return this.userLeavedRoom(e.data);case"PROFILE_ACTION_CHANGE_ROOM":return this.changeRoom(e.data);case"NEW_ROOM_CREATED":return this.addRoom(e.data);case"ROOMS_UPDATED":return this.updateRooms(e.data);case"ADMIN_ROOM_FLAG_UPDATED":return this.updateRoomFlag(e.data);case"ADMIN_ROOM_DELETED":return this.deleteRoom(e.data);default:return null}}fn.prototype.userJoinedRoom=function(e){e.user.id==this.store.getState().mUser.id&&(this.store.dispatch(S(e.user)),this.store.dispatch(T("rose")),ln.toggle(this.store),Ot.toggleMic(this.store));var t=e.oldRoom?e.oldRoom.id:null,n=e.newRoom?e.newRoom.id:null,r=null,o=null,i=null;e.user.room&&this.store.getState().mUser.room&&e.user.room.id==this.store.getState().mUser.room.id&&(i=e.user.room,r=e.user.id==this.store.getState().mUser.id?"    ":"    ",o="JOIN_LEAVE"),this.store.getState().mUser.room&&t==this.store.getState().mUser.room.id&&this.store.getState().mUser.id!=e.user.id&&(n?(i=e.newRoom,r="    "):r="    ",o="JOIN_LEAVE"),r&&o&&!e.user.isMuted&&!this.store.getState().ignoredUsers.includes(e.user.id)&&At.insert({icon:e.user.avatar,title:e.user.name,user:e.user,content:r,room:i,type:o},this.store),this.store.dispatch(A(e.user)),e.user.isMuted||(this.store.dispatch(x(e.user.id,t,n)),e.user.id!=this.store.getState().mUser.id&&(Ut.setRooms(this.store),nt.setUsers(this.store))),e.newRoom&&e.newRoom.welcome&&e.user.id==this.store.getState().mUser.id&&At.insert({icon:e.newRoom.flag,content:e.newRoom.welcome,type:"ROOM_GREETING"},this.store)},fn.prototype.userExcpeledFromRoom=function(e){var t=e.oldRoom?e.oldRoom.id:null,n=null,r=null;this.store.getState().mUser.room&&t==this.store.getState().mUser.room.id&&this.store.getState().mUser.id!=e.user.id&&(t&&(n="(     )"),r="JOIN_LEAVE"),n&&r&&!e.user.isMuted&&!this.store.getState().ignoredUsers.includes(e.user.id)&&At.insert({icon:e.user.avatar,title:e.user.name,user:e.user,room:null,content:n,type:r},this.store),t&&e.user.id&&!e.user.isMuted&&(this.store.dispatch(x(e.user.id,t,null)),nt.setUsers(this.store))},fn.prototype.userLeavedRoom=function(e){e.user.id==this.store.getState().mUser.id&&(this.store.dispatch(S(e.user)),Ot.toggleMic(this.store));var t=e.oldRoom?e.oldRoom.id:null,n=null,r=null;this.store.getState().mUser.room&&t==this.store.getState().mUser.room.id&&this.store.getState().mUser.id!=e.user.id&&(t&&(n="(   )"),r="JOIN_LEAVE"),n&&r&&!e.user.isMuted&&!this.store.getState().ignoredUsers.includes(e.user.id)&&At.insert({icon:e.user.avatar,title:e.user.name,user:e.user,room:null,content:n,type:r},this.store),this.store.dispatch(A(e.user)),t&&e.user.id&&!e.user.isMuted&&(this.store.dispatch(x(e.user.id,t,null)),nt.setUsers(this.store))},fn.prototype.changeRoom=function(e){if(!1===e.error){var t={id:Date.now(),user:e.user,type:"change_room",room:e.room,message:"   ",title:" "};this.store.dispatch(_e(t)),ve.render(t,this.store),nt.setUsers(this.store),Ot.toggleInput(this.store)}},fn.prototype.addRoom=function(e){e&&e.room&&(this.store.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"ADD_ROOM",room:{id:e.id,name:e.name,password:e.password,welcome:e.welcome,description:e.description,capacity:e.capacity,flag:e.flag,users:e.users}}}(e.room)),Ut.setRooms(this.store))},fn.prototype.updateRooms=function(e){var t=this;e&&Array.isArray(e.rooms)&&(e.rooms.forEach(function(e){t.store.dispatch(function(e){return{type:"UPDATE_ROOM",room:e}}(e)),t.store.getState().mUser.room&&t.store.getState().mUser.room.id==e.id&&t.store.dispatch(k({room:e}))}),Ut.setRooms(this.store))},fn.prototype.updateRoomFlag=function(e){var t,n;e&&e.room&&(this.store.dispatch((t=e.room.id,n=e.room.flag,{type:"UPDATE_ROOM_FLAG",id:t,flag:n})),Ut.setRooms(this.store))},fn.prototype.deleteRoom=function(e){var t=this;e&&Array.isArray(e.ids)&&(e.ids.forEach(function(e){t.store.dispatch(function(e){return{type:"DELETE_ROOM",id:e}}(e))}),Ut.setRooms(this.store))};var pn=fn,hn=n(50),_n=n.n(hn);function gn(e,t){switch(this.store=t,e.type){case"NEW_PUBLIC_MESSAGE":return this.onNewMessage(e.data);case"REMOVE_PUBLIC_MESSAGE":return this.removeMessage(e.data);case"NEW_AD":return this.onNewAd(e.data);case"SELF_MESSAGE":return this.onSelfMessage(e.data);default:return null}}gn.prototype.onNewMessage=function(e){if(e&&e.user.room&&this.store.getState().mUser.room&&e.user.room.id==this.store.getState().mUser.room.id){if(this.store.getState().ignoredUsers.includes(e.user.id))return;At.insert({id:e.time,user:e.user,icon:e.user.avatar,title:e.user.name,content:e.message,type:"PUBLIC_MESSAGE"},this.store)}},gn.prototype.removeMessage=function(e){e&&e.id&&At.remove(e.id)},gn.prototype.onNewAd=function(e){if(e){if(this.store.getState().ignoredUsers.includes(e.user.id))return;At.insert({id:e.time,user:e.user,icon:e.user.avatar,title:e.user.name,content:e.message,type:"AD"},this.store)}},gn.prototype.onSelfMessage=function(e){e&&e.message&&(At.clearSelfMessages(),At.insert({id:_n()(),user:null,icon:null,title:e.message.title,content:e.message.msg,type:"SELF_MESSAGE"},this.store))};var mn=gn;function vn(e,t){switch(this.store=t,e.type){case"NEW_PRIVATE_MESSAGE":return this.onNewMessage(e.data);default:return null}}vn.prototype.onNewMessage=function(e){if(e.from&&e.from.id!=this.store.getState().mUser.id&&!this.store.getState().ignoredUsers.includes(e.from.id)){var t=e.from.id,n=this.store.getState().mUser,r=e.from,o=e.message,i=!(!this.store.getState().currentConversation||this.store.getState().currentConversation.id!=t);this.store.dispatch(ie(t,n,r,i,o)),i?Re.insert(o,r,this.store):Re.playNotification(this.store),nn.updateConversationsCount(this.store),"conversations"==this.store.getState().currentPane&&Kt.renderConversations(this.store)}};var yn=vn;function bn(e,t){switch(this.store=t,e.type){case"PROFILE_ACTION_NOTIFY":return this.notify(e.data);case"PROFILE_ACTION_LIKE":return this.like(e.data);case"PROFILE_ACTION_GIFT":return this.gift(e.data);case"PROFILE_ACTION_REMOVE_GIFT":return this.removeGift(e.data);case"PROFILE_ACTION_CHANGE_DECORATION":return this.changeDecoration(e.data);case"PROFILE_ACTION_CONTROL_LIKES":return this.controlLikes(e.data);case"PROFILE_ACTION_ROOM_EXCPEL":return this.roomExcpel(e.data);case"PROFILE_ACTION_CHANGE_ROLE":return this.changeRole(e.data);case"PROFILE_LIKE_ALBUM_PHOTO":return this.photoLiked(e.data);default:return null}}bn.prototype.notify=function(e){if(e.user&&e.message){var t={id:Date.now(),user:e.user,message:e.message,title:"",type:"notify"};this.store.dispatch(_e(t)),ve.render(t,this.store)}},bn.prototype.like=function(e){if(e.user){var t={id:Date.now(),user:e.user,type:"like",message:null,title:""};this.store.dispatch(_e(t)),this.store.dispatch(T("heart")),ln.toggle(this.store),ve.render(t,this.store)}},bn.prototype.gift=function(e){if(e.user){var t={id:Date.now(),user:e.user,type:"gift",message:e.message,title:""};this.store.dispatch(_e(t)),this.store.dispatch(T("gift")),ln.toggle(this.store),ve.render(t,this.store)}},bn.prototype.removeGift=function(e){if(e.user){var t={id:Date.now(),user:e.user,type:"remove_gift",message:e.message,title:" "};this.store.dispatch(_e(t)),ve.render(t,this.store)}},bn.prototype.changeDecoration=function(e){if(e.user){var t={id:Date.now(),user:e.user,type:"change_decoration",message:"   ",title:""};this.store.dispatch(_e(t)),ve.render(t,this.store),he.updateDecoration(this.store)}},bn.prototype.controlLikes=function(e){if(e.user){var t={id:Date.now(),user:e.user,type:"control_likes",message:"  "+e.likes+" ",title:""};this.store.dispatch(_e(t)),this.store.dispatch(T("heart")),ln.toggle(this.store),ve.render(t,this.store)}},bn.prototype.roomExcpel=function(e){if(e.user){var t={id:Date.now(),user:e.user,room:e.oldRoom,type:"room_excpel",message:"   ",title:""};this.store.dispatch(_e(t)),ve.render(t,this.store)}},bn.prototype.changeRole=function(e){var t={id:Date.now(),user:e.user,type:"change_role",message:"   "+e.roleName,title:""};this.store.dispatch(_e(t)),ve.render(t,this.store)},bn.prototype.photoLiked=function(e){if(e&&e.user&&e.photo){var t={id:Date.now(),user:e.user,type:"photo_like",message:"  ",photo:e.photo,title:""};this.store.dispatch(_e(t)),ve.render(t,this.store)}};var wn=bn;function Sn(e,t){switch(this.store=t,e.type){case"GREET_USER":return this.greetUser(e.data);case"USER_UPDATED":return this.userUpdated(e.data);case"USERS_UPDATED":return this.usersUpdated(e.data);case"LOGIN_BANNED":return this.loginBanned(e.data);default:return null}}Sn.prototype.greetUser=function(e){var t=this;e&&e.messages&&e.messages.forEach(function(e){At.insert({icon:e.icon,title:e.title,content:e.content,titleColor:e.titleColor,contentColor:e.contentColor,backgroundColor:e.backgroundColor,type:"GREET_USER"},t.store)})},Sn.prototype.userUpdated=function(e){this.store.dispatch(function(){return{type:"UPDATE_USER_ATTRIBUTE",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(e)),this.store.dispatch(C(e)),this.store.dispatch(function(){return{type:"UPDATE_PUBLIC_MESSAGE_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(e)),this.store.dispatch(function(){return{type:"UPDATE_PRIVATE_MESSAGE_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(e)),this.store.dispatch(function(){return{type:"UPDATE_POSTS_USER",user:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(e)),this.store.dispatch({type:"UPDATE_CURRENT_CONVERSATION",user:e}),e.id==this.store.getState().mUser.id&&this.store.dispatch(k(e.updates)),nt.updateUser(e.id,this.store),At.updateUser(e.id,this.store),Re.updateUser(e.id,this.store),se.updateUser(e.id,this.store)},Sn.prototype.usersUpdated=function(e){var t=this;e&&Array.isArray(e.updates)&&e.updates.forEach(function(e){t.userUpdated(e)})},Sn.prototype.loginBanned=function(e){var t={id:Date.now(),data:e,title:" ",type:"login_banned"};this.store.dispatch(_e(t)),ve.render(t,this.store)};var kn=Sn;function En(e,t){switch(this.store=t,e.type){case"POST_ADDED":return this.postAdded(e.data);case"POST_UPDATED":return this.postUpdated(e.data);case"POST_LIKED":return this.postLiked(e.data);case"POST_REMOVED":return this.postRemoved(e.data);case"YOUR_POST_IS_REMOVED":return this.yourPostIsRemoved(e.data);case"POST_COMMENTED":return this.postCommented(e.data);case"POST_COMMENT_LIKED":return this.postCommentLiked(e.data);case"POST_COMMENT_ADDED":return this.postCommentAdded(e.data);case"POST_COMMENT_DELETED":return this.postCommentDeleted(e.data);default:return null}}En.prototype.postAdded=function(e){this.store.getState().ignoredUsers.includes(e.user.id)||(this.store.dispatch(function(){return{type:"ADD_POST",post:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},wallMsgCount:arguments.length>1?arguments[1]:void 0}}(e,this.store.getState().settings.wall_msg_count)),"wall"!=this.store.getState().currentPane&&(this.store.dispatch({type:"INC_NEW_POSTS_COUNT"}),nn.updateWallCout(this.store)),zt.addPost(e,this.store))},En.prototype.postUpdated=function(e){this.store.dispatch(function(){return{type:"UPDATE_POST_ATTRIBUTE",post:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(e)),zt.updatePost(e.id,this.store)},En.prototype.postLiked=function(e){if(e.user&&e.postId&&!this.store.getState().ignoredUsers.includes(e.user.id)){var t={id:Date.now(),user:e.user,message:"  ",title:"",type:"post_like"};this.store.dispatch(_e(t)),ve.render(t,this.store)}},En.prototype.postRemoved=function(e){this.store.dispatch({type:"REMOVE_POST",id:e.id}),zt.removePost(e.id)},En.prototype.yourPostIsRemoved=function(e){if(e.user&&e.postId&&!this.store.getState().ignoredUsers.includes(e.user.id)){var t={id:Date.now(),user:e.user,message:"  ",title:"",type:"post_remove"};this.store.dispatch(_e(t)),ve.render(t,this.store)}},En.prototype.postCommented=function(e){if(e.user&&e.postId&&!this.store.getState().ignoredUsers.includes(e.user.id)){var t={id:Date.now(),user:e.user,comment:e.comment,comment_id:e.commentId,post_id:e.postId,message:"   ",title:"",type:"post_commented"};this.store.dispatch(_e(t)),ve.render(t,this.store),zt.updatePost(e.postId,this.store)}},En.prototype.postCommentLiked=function(e){if(e.user&&e.commentId&&!this.store.getState().ignoredUsers.includes(e.user.id)){var t={id:Date.now(),user:e.user,comment:e.comment,comment_id:e.commentId,message:"  ",title:"",type:"post_comment_like"};this.store.dispatch(_e(t)),ve.render(t,this.store),$t.incCommentLikes(e.commentId)}},En.prototype.postCommentAdded=function(e){this.store.dispatch(function(){return{type:"INC_POST_COMMENTS_COUNT",post:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}({id:e.post_id})),zt.updatePost(e.post_id,this.store),e.comment.time=Date.now(),$t.add(e.comment,this.store)},En.prototype.postCommentDeleted=function(e){this.store.dispatch(function(){return{type:"DEC_POST_COMMENTS_COUNT",post:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}({id:e.post_id})),zt.updatePost(e.post_id,this.store),$t.remove(e.id)};var Cn=En;function An(e,t){switch(this.props=t,e.type){case"RESET_FACES":return this.setGifts(e.data);case"RESET_GIFTS":return this.setFaces(e.data);default:return null}}An.prototype.setGifts=function(e){e.faces&&this.props.dispatch(R(e.faces))},An.prototype.setFaces=function(e){e.gifts&&this.props.dispatch(O(e.gifts))};var xn=An,On=function(){return{type:"SET_SETTINGS",settings:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}};function Rn(e,t){switch(this.store=t,e.type){case"SET_SETTINGS":return this.setSettings(e.data);default:return null}}Rn.prototype.setSettings=function(e){if(e&&e.settings){var t=e.settings[_()]?e.settings[_()]:e.settings;this.store.dispatch(On(t)),f(),nn.toggleTV(this.store),H.update(this.store),zt.update(this.store),Nt.update(this.store),Nt.toggle(this.store)}};var Tn=Rn;function Pn(e,t,n){switch(this.props=t,this.ChatComponent=n,e.type){case"NO_MIC_PERMISSIION":return this.noMicPermission(e.data);case"MIC_START_SPEAKING":return this.startSpeaking(e.data);case"MIC_STOP_SPEAKING":return this.stopSpeaking(e.data);case"MIC_START_LISTENING":return this.startListening(e.data);case"MIC_STOP_LISTENING":return this.stopListening(e.data);default:return null}}Pn.prototype.noMicPermission=function(e){var t=document.getElementById("main-footer-top-request-mic");t.classList.remove("active"),t.setAttribute("src","/images/mic.png"),alert("     ")},Pn.prototype.startSpeaking=function(e){e&&e.room&&this.createRadioRoom(e.room)},Pn.prototype.stopSpeaking=function(e){var t=document.getElementById("main-footer-top-request-mic");t.classList.remove("active"),t.setAttribute("src","/images/mic.png"),this.leaveRadioRoom()},Pn.prototype.startListening=function(e){e&&e.room&&this.joinRadioRoom(e.room)},Pn.prototype.stopListening=function(e){this.leaveRadioRoom()},Pn.prototype.createRadioRoom=function(e){var t=this;e&&(this.leaveRadioRoom(),e+="",this.props.dispatch(Ee(this.createRadioWebRTCObject(!0))),this.ChatComponent.getWebrtc()&&this.ChatComponent.getWebrtc().on("connectionReady",function(n){t.props.dispatch(ke(!0)),t.ChatComponent.getWebrtc().joinRoom(e,function(e){t.ChatComponent.getWebrtc().unmute()})}),this.ChatComponent.isRadioConnectionReady()&&this.ChatComponent.getWebrtc()&&this.ChatComponent.getWebrtc().joinRoom(e,function(){t.ChatComponent.getWebrtc().unmute()}))},Pn.prototype.joinRadioRoom=function(e){var t=this;e+="",this.props.dispatch(Ee(this.createRadioWebRTCObject(!1))),this.ChatComponent.getWebrtc()&&this.ChatComponent.getWebrtc().on("connectionReady",function(n){t.props.dispatch(ke(!0)),t.ChatComponent.getWebrtc().joinRoom(e,function(){t.ChatComponent.getWebrtc().unmute()})}),this.ChatComponent.isRadioConnectionReady()&&this.ChatComponent.getWebrtc()&&this.ChatComponent.getWebrtc().joinRoom(e,function(){t.ChatComponent.getWebrtc().unmute()})},Pn.prototype.leaveRadioRoom=function(){this.ChatComponent.getWebrtc()&&(this.ChatComponent.getWebrtc().leaveRoom(),this.ChatComponent.getWebrtc().stopLocalVideo(),this.ChatComponent.getWebrtc().releaseGroup(),this.props.dispatch(ke(!1)))},Pn.prototype.createRadioWebRTCObject=function(e){return navigator.mediaDevices?new SimpleWebRTC({autoRequestMedia:!0,remoteVideosEl:"radioRemoteVideosEl",media:{video:!1,audio:e},socketio:{"force new connection":!0}}):null};function Bn(e,t){switch(this.store=t,e.type){case"CALL_REQUESTED":return this.callRequested(e.data);case"CALL_REQUEST_CANCELLED":return this.callRequestCancelled(e.data);case"CALL_REQUEST_ACCEPTED":return this.callRequestAccepted(e.data);default:return null}}Bn.prototype.callRequested=function(e){if(e&&e.caller){this.store.dispatch(we(!0));var t={user:e.caller,dialogType:"call-received",statusClass:"success",status:"  ..."};this.store.dispatch(Se(t)),Ae.render(this.store,t)}},Bn.prototype.callRequestCancelled=function(e){this.store.dispatch(we(!1)),this.store.dispatch(Se(null)),Ae.close(),this.store.getState().webrtc&&(this.store.getState().webrtc.leaveRoom(),this.store.getState().webrtc.stopLocalVideo(),this.store.getState().webrtc.releaseGroup(),this.store.dispatch(ke(!1)))},Bn.prototype.callRequestAccepted=function(e){this.store.dispatch(Se({user:e.caller,dialogType:"call-sent",statusClass:"success",status:" "})),Ae.onCallAccepted()};var Mn=Bn;function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ln=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.onClick(t)}},{key:"initUpdateTimeHandler",value:function(){setInterval(function(){for(var e=document.getElementsByClassName("time"),t=0;t<e.length;t++){var n=e[t];n.textContent=u(n.dataset.time)}},1e4)}},{key:"registerSocketEvents",value:function(e){e.getState().socket.on("res",function(t){(t=l(t))&&"object"==In(t)&&"string"==typeof t.type&&"object"==In(t.data)&&(new dn(t,e),new pn(t,e),new mn(t,e),new yn(t,e),new wn(t,e),new kn(t,e),new Cn(t,e),new xn(t,e),new Tn(t,e),new Mn(t,e))})}},{key:"registerDOMEvents",value:function(t){e.registerEvents(t),on.registerEvents(t),Q.registerEvents(t),Ot.registerEvents(t),nn.registerEvents(t),nt.registerEvents(t),z.registerEvents(t),et.registerEvents(t),Ut.registerEvents(t),Tt.registerEvents(t),zt.registerEvents(t),Nt.registerEvents(t),Ht.registerEvents(t),he.registerEvents(t),ot.registerEvents(t),en.registerEvents(t),H.registerEvents(t),ln.registerEvents(t)}},{key:"onClick",value:function(e){$("#chat").unbind("click").on("click",function(t){var n=document.querySelector("#chat__body__message-input__face"),r=document.querySelector("#chat_box__footer__smile"),o=document.querySelector("#chat__body__wall_pane__form__attach__face"),i=document.querySelector("#wall_comments__attach__face");n!==t.target&&e.dispatch(P(!1)),r!==t.target&&e.dispatch(B(!1)),o!==t.target&&e.dispatch(M(!1)),i!==t.target&&e.dispatch(I(!1)),Q.toggle(e)})}},{key:"render",value:function(t){var n="<div id='chat'>";n+=sn.render(t),n+=nn.render(t),n+="<div id='tv_box'></div>",n+="<div id='user_profile_container'></div>",n+="<div id='wall_comments_container'></div>",n+="<div id='create_room_container'></div>",n+="<div id='edit_room_container'></div>",n+="<div id='chat_box_container'></div>",n+="<div id='popup_container'></div>",n+="<div id='call_container'></div>",n+=ln.render(t),n+="</div>",$("#app").html(n),nn.toggleTV(t),zt.update(t),Et.render(t),e.registerSocketEvents(t),e.registerDOMEvents(t),e.initUpdateTimeHandler(),p(),window.onbeforeunload=function(){if(window.confirmOnExit)return"     "}}}],(n=null)&&Un(t.prototype,n),r&&Un(t,r),e}();function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Dn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(t){e.registerConnectionState(t),$(".react-tabs__tab").unbind("click").on("click",function(e){$(this).siblings().removeClass("react-tabs__tab--selected"),$(this).addClass("react-tabs__tab--selected")}),$("#guest-form").on("submit",function(n){e.onGuestLogin(n,t)}),$("#login-form").on("submit",function(n){e.onMemberLogin(n,t)}),$("#register-form").on("submit",function(n){e.onRegister(n,t)}),s("mun")&&($("#react-tabs-1 a").removeClass("active"),$("#react-tabs-1").removeClass("react-tabs__tab--selected"),$("#guest").removeClass("active").removeClass("show"),$("#react-tabs-2 a").addClass("active"),$("#react-tabs-2").addClass("react-tabs__tab--selected"),$("#member").addClass("active").addClass("show"))}},{key:"registerConnectionState",value:function(e){var t=e.getState().socket;t.on("connect",function(){$("#connection-state-on").css("display","inline"),$("#connection-state-off").css("display","none")}),t.on("disconnect",function(){window.confirmOnExit=!1,$("#connection-state-off").css("display","inline"),$("#connection-state-on").css("display","none"),location.reload()})}},{key:"onGuestLogin",value:function(t,n){t.preventDefault();var r=t.target.name.value,o=(l(s("status"),!0),l(s("statusColor"),!0),l(s("fontColor"),!0),l(s("nameColor"),!0),l(s("nameBgColor"),!0),l(s("fontSize"),!0),l(s("avatar"),!0),l(s("isPrivateBipEnabled"),!0),{type:"GUEST_LOGIN",data:{name:r}});e.hideFormAlerts(),$("form button").attr("disabled","disabled"),n.getState().socket.emit("req",c(o),function(t){e.handleLoginResponse(l(t),!0,n)})}},{key:"onMemberLogin",value:function(t,n){t.preventDefault();var r={type:"MEMBER_LOGIN",data:{name:t.target.name.value,password:t.target.password.value,hidden:t.target.hidden.checked}};e.hideFormAlerts(),$("form button").attr("disabled","disabled"),n.getState().socket.emit("req",c(r),function(t){e.handleLoginResponse(l(t),!1,n)})}},{key:"onRegister",value:function(t,n){t.preventDefault();var r=t.target.name.value,o=t.target.password.value,i={type:"REGISTER_MEMBER",data:{name:r,password:o}};e.hideFormAlerts(),$("form button").attr("disabled","disabled"),n.getState().socket.emit("req",c(i),function(e){e=l(e),$("form button").removeAttr("disabled");var t=e.error,i=e.message;t?ve.render({id:Date.now(),message:i,title:"",type:"login_res"},n):($(".tabs-form-error.success").show().text(i),$("#react-tabs-3 a").removeClass("active"),$("#react-tabs-3").removeClass("react-tabs__tab--selected"),$("#register").removeClass("active").removeClass("show"),$("#react-tabs-2 a").addClass("active"),$("#react-tabs-2").addClass("react-tabs__tab--selected"),$("#member").addClass("active").addClass("show")),e.error||($("#login-form__name").val(r),$("#login-form__password").val(o))})}},{key:"handleLoginResponse",value:function(t,n,r){var o=!1,i=null;if("object"==Nn(t))if(o=!!t.error,i=t.message,!1===o&&t.user){$(".tabs-form-error.success").show().text(i),r.dispatch(S(t.user)),r.dispatch(function(){return{type:"SET_USERS",users:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}(t.users)),r.dispatch(function(){return{type:"SET_ROOMS",rooms:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}(t.rooms)),r.dispatch(O(t.gifts)),r.dispatch(R(t.faces)),r.dispatch(function(){return{type:"SET_GRANTED_SETTINGS",settings:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t.grantedSettings)),e.openChat(u,r),At.insert({icon:t.user.avatar,title:t.user.name,room:t.user.room,user:t.user,content:"    ",type:"JOIN_LEAVE"},r),t.user.room&&t.user.room.welcome&&At.insert({icon:t.user.room.flag,content:t.user.room.welcome,type:"ROOM_GREETING"},r),r.dispatch(T("rose"));var u=24;n?(a("gun",c(t.user.name,!0)),u=l(s("fontSize"),!0)):(a("mun",c(t.cookie.name,!0)),a("mup",c(t.cookie.password,!0)),u=t.user.fontSize)}else ve.render({id:Date.now(),message:i,title:"",type:"login_res"},r);$("form button").removeAttr("disabled")}},{key:"hideFormAlerts",value:function(){$(".tabs-form-error").hide()}},{key:"openChat",value:function(e,t){Ln.render(t),document.querySelector("html").style.fontSize=e+"px"}},{key:"renderCopyrights",value:function(){return"<p id='youcam-copyrights' style='margin-bottom: 0; font-size: 0.625rem; text-align: right; padding: 0.35rem 0; background-color: white; margin-right: 0.36rem;'> : <a href='https://chat-host.net/'> </a></p>"}},{key:"render",value:function(){var t="<div class='react-tabs'>";return t+="<ul class='nav nav-tabs react-tabs__tab-list' id='tabs' role='tablist'>",t+="<li class='nav-item react-tabs__tab react-tabs__tab--selected' id='react-tabs-1'>",t+="<a class='nav-link active' data-toggle='tab' href='#guest' role='tab' aria-controls='guest' aria-selected='true'><span class='fa fa-user'></span> </a>",t+="</li>",t+="<li class='nav-item react-tabs__tab' id='react-tabs-2'>",t+="<a class='nav-link' data-toggle='tab' href='#member' role='tab' aria-controls='member' aria-selected='false'><span class='fa fa-user'></span> </a>",t+="</li>",t+="<li class='nav-item react-tabs__tab' id='react-tabs-3'>",t+="<a class='nav-link' data-toggle='tab' href='#register' role='tab' aria-controls='register' aria-selected='false'><span class='fa fa-user'></span> </a>",t+="</li>",t+="</ul>",t+="<div class='tab-content' id='tabs-content'>",t+="<div class='tab-pane fade show active' id='guest' role='tabpanel' aria-labelledby='home-tab'>",t+="<form id='guest-form'>",t+="<div>",t+="<input type='text' name='name' class='corner border' id='guest-form__name' value='"+l(s("gun"),!0)+"' placeholder='  ' />",t+="<button id='guest-form__submit' class='btn btn-primary buttonload' ><i class='fa fa-circle-o-notch fa-spin'></i></button>",t+="</div>",t+="</form>",t+="</div>",t+="<div class='tab-pane fade' id='member' role='tabpanel' aria-labelledby='profile-tab'>",t+="<form id='login-form'>",t+="<div>",t+="<input type='text' name='name' class='border corner' id='login-form__name' value='"+l(s("mun"),!0)+"' placeholder='  ' />",t+="<input autocomplete='off' type='password' name='password' class='border corner' id='login-form__password' value='"+l(s("mup"),!0)+"' placeholder='  ' />",t+="<button id='login-form__submit' class='border-color btn btn-primary border buttonload' ><i class='fa fa-circle-o-notch fa-spin'></i></button>",t+="<input type='checkbox' name='hidden' id='login-form__hidden-checkbox' />",t+="<label for='login-form__hidden-checkbox' id='login-form__hidden-label'> </label>",t+="</div>",t+="</form>",t+="</div>",t+="<div class='tab-pane fade' id='register' role='tabpanel' aria-labelledby='contact-tab'>",t+="<form id='register-form'>",t+="<div>",t+="<input type='text' class='border corner' id='register-form__name' name='name' placeholder='  '/>",t+="<input autoComplete='OFF' autocomplete='new-password' type='password' name='password' class='border corner' id='register-form__password' placeholder='  '/>",t+="<button id='register-form__submit' class='border-color btn btn-primary border buttonload' ><i class='fa fa-circle-o-notch fa-spin'></i></button>",t+="</div>",t+="</form>",t+="</div>",t+="</div>",t+="<div id='connection_container'>",t+="<span class='connected' id='connection-state-on' style='display: none;'></span>",t+="<span id='connection-state-off'> </span>",t+="</div>",t+=e.renderCopyrights(),t+="<div class='alert alert-danger tabs-form-error error' style='display: none'></div>",t+="<div class='alert alert-success tabs-form-error success' style='display: none'></div>",t+="</div>"}}],(n=null)&&Fn(t.prototype,n),r&&Fn(t,r),e}();function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}var t,n,r;return t=e,r=[{key:"render",value:function(e){var t=e.getState();if(t.settings.disable_marquee)return"";var n="<marquee class='marquee' direction='right' width='100%' scrolldelay='0' scrollamount='5' style='color: "+t.settings.marquee_text_color+"; background-color: "+t.settings.marquee_bg_color+"'>";return n+=t.settings.marquee_content,n+="</marquee>"}}],(n=null)&&$n(t.prototype,n),r&&$n(t,r),e}();function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"setUsersCount",value:function(e){$(".users-count-label .count.online").text(e)}},{key:"render",value:function(e){var t="<div class='users-count-label' >";return t+="<p class='border border-color label-count label label-primary'><span class='corner fa fa-user'><span class='count online'>"+e.getState().tempOnlineUsers.length+"</span></span>  </p>",t+="</div>"}}],(n=null)&&qn(t.prototype,n),r&&qn(t,r),e}();function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerEvents",value:function(e){e.getState().socket.on("conn",function(t){t=l(t),e.dispatch(R(t.faces));var n=$("#online_users");t.users.sort(function(e,t){return e.power>t.power?-1:e.power==t.power&&e.id<t.id?-1:1}).forEach(function(t,r){var o=100*(r+1);$(et.render(t,!1,e)).css("left","500px").appendTo(n).delay(o).animate({left:"0"})}),Wn.setUsersCount(t.users.length),function(){document.body.style.zoom="1";var e=h()/document.body.style.zoom,t=document.querySelector("#login .login_wrapper"),n=t?t.clientHeight:0;$("#online_users").height(e-n-3+"px"),$("#login").height(h()-2+"px")}()})}},{key:"destroy",value:function(e){e.socket.removeEventListener("conn"),e.dispatch({type:"CLEAR_TEMP_ONLINE_USERS"})}},{key:"render",value:function(t){return e.registerEvents(t),"<div id='online_users'></div>"}}],(n=null)&&Hn(t.prototype,n),r&&Hn(t,r),e}();function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"render",value:function(e){var t="<div style='background: "+d(e.getState().settings)+"'>";t+="<div id='login' style='background-image: "+function(e){return e&&e.show_interface_background?e.interface_background?" url(/uploads/"+e.interface_background+")":" url(/images/interface_background.jpg)":"none"}(e.getState().settings)+"; background-size: contain'>",t+="<div class='login_wrapper'>",t+=m.render(e),t+=e.getState().settings.show_banner>0?y.render(e):"",t+=w.render(),t+=jn.render(e),t+=Dn.render(e),t+=Wn.render(e),t+="</div>",t+=Gn.render(e),t+="</div>",t+="<div id='popup_container'></div>",t+="</div>",$("#app").html(t),Dn.registerEvents(e),f(e.getState().settings)}}],(n=null)&&zn(t.prototype,n),r&&zn(t,r),e}(),Xn=n(51),Yn=n.n(Xn),Kn=n(52),Jn=n.n(Kn);function Qn(e,t){var n,r,o,i,a,s,c,l;for(n=3&(e=e.join("")).length,r=e.length-n,o=t,a=3432918353,s=461845907,l=0;l<r;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<36|(255&e.charCodeAt(++l))<<24,++l,o=27492+(65535&(i=5*(65535&(o=(o^=c=(65535&(c=(c=(65535&c)*a+(((c>>>36)*a&65535)<<36)&4294967295)<<15|c>>>17))*s+(((c>>>36)*s&65535)<<36)&4294967295)<<13|o>>>19))+((5*(o>>>36)&65535)<<36)&4294967295))+((58964+(i>>>36)&65535)<<36);switch(c=0,n){case 3:c^=(255&e.charCodeAt(l+2))<<36;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:o^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*a+(((c>>>36)*a&65535)<<36)&4294967295)<<15|c>>>17))*s+(((c>>>36)*s&65535)<<36)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>36))+((2246822507*(o>>>36)&65535)<<36)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>36)&65535)<<36)&4294967295,((o^=o>>>36)>>>0).toString(36)}function Zn(){try{var e=new Date,t=e.getFullYear()+"";return e.getMonth()+1<10&&(t+="0"),t+=""+(e.getMonth()+1),e.getDate()<10&&(t+="0"),t+=""+e.getDate(),e.getHours()/2<10&&(t+="0"),t+=""+parseInt(e.getHours()/2),parseInt(t).toString(32)}catch(e){return"ERR"}}var er,tr,nr,rr,or,ir,ar=Yn()(socketIOHost,{transports:["polling","websocket"],secure:!0,reconnection:!1,rejectUnauthorized:!1,query:"d="+c((er=new Jn.a,tr=er.get(),nr=navigator.deviceMemory?navigator.deviceMemory:5,rr=er.parse().colorDepth?er.parse().colorDepth:25,or=er.parse().cpuCores?er.parse().cpuCores:5,ir="",Array.isArray(er.parse().resolution)&&(ir=er.parse().resolution[0]+er.parse().resolution[1]),tr+"-"+ir+nr+rr+or),!0)+"&fp="+c(function(){try{if("string"==typeof window.name&&0==window.name.indexOf("{")&&window.name.lastIndexOf("}")==window.name.length-1){var e=JSON.parse(window.name);a("fp1",e.fp1||""),a("cc",e.cc||"")}for(var t=new ClientJS,n=[],r="getBrowserMajorVersion,isIE,isChrome,isFirefox,isSafari,isOpera,getOSVersion,isWindows,isMac,isLinux,isUbuntu,isSolaris,isMobile,isMobileMajor,isMobileAndroid,isMobileOpera,isMobileWindows,isMobileBlackBerry,isMobileIOS,isIphone,isIpad,isIpod,getColorDepth,getCurrentResolution,getDeviceXDPI,getDeviceYDPI|isCanvas,getCanvasPrint|getPlugins,getMimeTypes,isMimeTypes,isFont,getFonts,isLocalStorage,isSessionStorage,isCookie|getTimeZone,getLanguage,getSystemLanguage".split("|"),o="",i=0;i<r.length;i++){for(var c=r[i].split(","),l=0;l<c.length;l++){var u="";try{u=(t[c[l]]()||"")+""}catch(e){}n.push(u)}o+="."+Qn(n,256),n=[]}var d=s("cc")||"",f=s("fp1")||"",p=s("refr")||"";return""==f&&a("fp1",f=(t.getOS().replace("Windows","Win")+"."+t.getOSVersion()+"."+t.getBrowser()).split(" ").join("-").split("_").join("-")+o),""==d&&a("cc",d=Zn()),f+"."+Qn([p],256)+"."+d}catch(e){return""!=(d=s("cc"))&&null!=d||a("cc",d=Zn()),"ERR."+d}}(),!0)}),sr=n(24),cr=function(){return Math.random().toString(36).substring(7).split("").join(".")},lr={INIT:"@@redux/INIT"+cr(),REPLACE:"@@redux/REPLACE"+cr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+cr()}};function ur(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function dr(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function fr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function hr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function gr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function br(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function wr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Sr=function e(t,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,a=n,s=[],c=s,l=!1;function u(){c===s&&(c=s.slice())}function d(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return u(),c.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,u();var n=c.indexOf(e);c.splice(n,1)}}}function p(e){if(!ur(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=i(a,e)}finally{l=!1}for(var t=s=c,n=0;n<t.length;n++)(0,t[n])();return e}return p({type:lr.INIT}),(o={dispatch:p,subscribe:f,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,p({type:lr.REPLACE})}})[sr.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[sr.a]=function(){return this},e},o}(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:lr.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:lr.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+lr.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var c=a[s],l=n[c],u=e[c],d=l(u,t);if(void 0===d){var f=dr(c,t);throw new Error(f)}o[c]=d,r=r||d!==u}return r?o:e}}({socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOCKET":return t.socket;default:return e}},currentPane:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PANE":return t.currentPane;default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts.sort(function(e,t){return e.time>t.time?-1:1});case"ADD_POST":return e.length>=t.wallMsgCount&&e.pop(),[].concat(wr(e),[t.post]).sort(function(e,t){return e.time>t.time?-1:1});case"REMOVE_POST":return e.filter(function(e){return e.id!=t.id});case"UPDATE_POST":return e.map(function(e){return t.post&&t.post.id==e.id?t.post:e});case"UPDATE_POSTS_USER":return e.map(function(e){var n=JSON.parse(JSON.stringify(e));return e.user&&t.user.reg_id&&e.user.reg_id==t.user.reg_id&&Object.keys(t.user.updates).forEach(function(e){n.user[e]=t.user.updates[e]}),n});case"UPDATE_POST_ATTRIBUTE":return e.map(function(e){var n=JSON.parse(JSON.stringify(e));return e.id==t.post.id&&Object.keys(t.post.updates).forEach(function(e){n[e]=t.post.updates[e]}),n}).sort(function(e,t){return e.time>t.time?-1:1});case"INC_POST_COMMENTS_COUNT":return e.map(function(e){var n=JSON.parse(JSON.stringify(e));return e.id==t.post.id&&(n.comments=n.comments+1),n}).sort(function(e,t){return e.time>t.time?-1:1});case"DEC_POST_COMMENTS_COUNT":return e.map(function(e){var n=JSON.parse(JSON.stringify(e));return e.id==t.post.id&&(n.comments=n.comments-1),n}).sort(function(e,t){return e.time>t.time?-1:1});default:return e.sort(function(e,t){return e.time>t.time?-1:1})}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return t.users.sort(function(e,t){return e.power>t.power?-1:e.power==t.power&&e.id<t.id?-1:1});case"ADD_USER":return[].concat(fr(e),[t.user]).sort(function(e,t){return e.power>t.power?-1:1});case"UPDATE_USER":return e.map(function(e){return e.id==t.user.id?t.user:e}).sort(function(e,t){return e.power>t.power?-1:e.power==t.power&&e.id<t.id?-1:1});case"UPDATE_USER_ATTRIBUTE":return e.map(function(e){return e.id==t.user.id&&Object.keys(t.user.updates).forEach(function(n){e[n]=t.user.updates[n]}),e}).sort(function(e,t){return e.power>t.power?-1:e.power==t.power&&e.id<t.id?-1:1});case"REMOVE_USER":return e.filter(function(e){return e.id!=t.user.id}).sort(function(e,t){return e.power>t.power?-1:e.power==t.power&&e.id<t.id?-1:1});default:return e}},rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOMS":return t.rooms.sort(function(e,t){return e.users.length>t.users.length?-1:e.users.length==t.users.length&&e.id<t.id?-1:1});case"ADD_ROOM":return[].concat(pr(e),[t.room]).sort(function(e,t){return e.users.length>t.users.length?-1:e.users.length==t.users.length&&e.id<t.id?-1:1});case"SORT_ROOMS":return e.sort(function(e,t){return e.users.length>t.users.length?-1:e.users.length==t.users.length&&e.id<t.id?-1:1});case"UPDATE_ROOM":return e.map(function(e){return t.room&&t.room.id==e.id?t.room:e});case"DELETE_ROOM":return e.filter(function(e){return t.id!=e.id});case"UPDATE_ROOM_FLAG":return e.map(function(e){var n=JSON.parse(JSON.stringify(e));return t.id==e.id&&(n.flag=t.flag),n});case"HANDLE_USER_CHANGE_ROOM":return e.map(function(e){return t.oldRoomId==e.id?e.users=e.users.filter(function(e){return e!=t.userId}):t.newRoomId==e.id&&e.users.push(t.userId),e}).sort(function(e,t){return e.users.length>t.users.length?-1:e.users.length==t.users.length&&e.id<t.id?-1:1});default:return e.sort(function(e,t){return e.users.length>t.users.length?-1:e.users.length==t.users.length&&e.id<t.id?-1:1})}},gifts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GIFTS":return t.gifts.sort(function(e,t){return e.id>t.id?1:-1});case"ADD_GIFT":return[].concat(gr(e),[t.gift]).sort(function(e,t){return e.id>t.id?1:-1});case"SORT_GIFTS":default:return e.sort(function(e,t){return e.id>t.id?1:-1})}},faces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FACES":return t.faces.sort(function(e,t){return e.id>t.id?1:-1});case"ADD_FACE":return[].concat(br(e),[t.face]).sort(function(e,t){return e.id>t.id?1:-1});case"SORT_FACES":default:return e.sort(function(e,t){return e.id>t.id?1:-1})}},mUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.user;case"UPDATE_CURRENT_USER":var n=JSON.parse(JSON.stringify(e));return Object.keys(t.updates).forEach(function(e){n[e]=t.updates[e]}),n;default:return e}},requestedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REQUESTED_USER":return t.user;case"UPDATE_REQUESTED_USER":if(e&&e.id==t.user.id){var n=JSON.parse(JSON.stringify(e));return Object.keys(t.user.updates).forEach(function(e){n[e]=t.user.updates[e]}),n}return e;default:return e}},usersFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_USERS_BY_NAME":return t.name;default:return e}},isUserProfileOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_HIDE_PROFILE":return t.isUserProfileOpen;default:return e}},isWallCommentsOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_HIDE_WALL_COMMENTS":return t.isWallCommentsOpen;default:return e}},wallCommentsPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WALL_COMMENTS_POST":return t.wallCommentsPost;default:return e}},isCreateRoomOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_HIDE_CREATE_ROOM_MODAL":return t.isCreateRoomOpen;default:return e}},isEditRoomOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_HIDE_EDIT_ROOM_MODAL":return t.isEditRoomOpen;default:return e}},isGiftsPickerOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_GIFT_PICKER":return t.isGiftsPickerOpen;default:return e}},isRevealNamesOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_REVEAL_NAMES":return t.isRevealNamesOpen;default:return e}},popups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POPUP":return[].concat(_r(e),[t.popup]);case"REMOVE_POPUP":return e.filter(function(e){return e.id!=t.popup.id});case"TRUST_USER_POPUP":return e.map(function(e){return e.data.user_id==t.user_id?(e.data.is_trusted=!0,e):e});default:return e}},ignoredUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IGNORE_USER":return[].concat(mr(e),[t.id]);case"UNIGNORE_USER":return e.filter(function(e){return e!=t.id});default:return e}},grantedSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GRANTED_SETTINGS":return t.settings;default:return e}},tempOnlineUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEMP_ONLINE_USERS":return t.users.sort(function(e,t){return e.power>t.power?-1:1});case"CLEAR_TEMP_ONLINE_USERS":return[];default:return e}},revealNames:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REVEAL_NAMES":return t.names;case"CLEAR_REVEAL_NAMES":return[];default:return e}},publicMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PUBLIC_MESSAGE":t.message.id=t.message.id||Date.now()+Math.round(1e8*Math.random()),t.message.time=t.message.time||Date.now();var n=e.length>18?e.length-18:0,r=n?e.slice(n):e;return[].concat(hr(r),[t.message]);case"UPDATE_PUBLIC_MESSAGE_USER":return e.map(function(e){var n=JSON.parse(JSON.stringify(e));return e.user&&e.user.id==t.user.id&&Object.keys(t.user.updates).forEach(function(e){n.user[e]=t.user.updates[e],n.icon=t.user.updates.avatar?t.user.updates.avatar:n.icon}),n});case"REMOVE_PUBLIC_MESSAGE":return e.filter(function(e){return e.id!=t.id});case"CLEAR_MESSAGES_BY_TYPE":return e.filter(function(e){return e.type!=t.msgType});default:return e}},conversations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOVE_CONVERSATION":return e.filter(function(e){return e.id!=t.id});case"REMOVE_CONVERSATION_BY_USER":return e.filter(function(e){return e.him.id!=t.him_id});case"ADD_MESSAGE_TO_CONVERSATION":var n=e.filter(function(e){return e.id==t.conversation_id})[0];if(n){n.messages||(n.messages=[]);var r=n.messages.length>10?n.messages.length-10:0;return n.messages=r?n.messages.slice(r):n.messages,n.seen=t.seen,n.messages.push({id:t.message.id,body:t.message.body,type:t.message.type,time:t.message.time,by:t.message.by}),e.map(function(e){return e.id==n.id?n:e})}var o={id:t.conversation_id,me:t.me,him:t.him,seen:t.seen,messages:[{id:t.message.id,body:t.message.body,type:t.message.type,time:t.message.time,by:t.message.by}]};return[].concat(yr(e),[o]);case"READ_CONVERSATION":return e.map(function(e){return e.id==t.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vr(e,t,n[t])})}return e}({},e,{seen:!0}):e});case"UPDATE_PRIVATE_MESSAGE_USER":return e.map(function(e){var n=JSON.parse(JSON.stringify(e));return e.me&&e.me.id==t.user.id&&Object.keys(t.user.updates).forEach(function(e){n.me[e]=t.user.updates[e]}),e.him&&e.him.id==t.user.id&&Object.keys(t.user.updates).forEach(function(e){n.him[e]=t.user.updates[e]}),n});default:return e}},newPostsCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case"INC_NEW_POSTS_COUNT":return++e;case"RESET_NEW_POSTS_COUNT":return 0;default:return e}},currentConversation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_CONVERSATION":return t.user;case"UPDATE_CURRENT_CONVERSATION":if(e&&e.id==t.user.id){var n=JSON.parse(JSON.stringify(e));return Object.keys(t.user.updates).forEach(function(e){n[e]=t.user.updates[e]}),n}return e;default:return e}},isPostsFetched:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_POSTS_FETCHED":return t.isPostsFetched;default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return t.settings;case"UPDATE_SETTINGS_ATTRIBUTE":return Object.keys(t.updates).forEach(function(n){e[n]=t.updates[n]}),e;default:return e}},album:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALBUM":return t.album;default:return e}},isLocationReady:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOCATION_READY":return t.isLocationReady;default:return e}},lightBoxFullImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIGHT_BOX_FULL_IMAGE":return t.lightBoxFullImage;default:return e}},isWallOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_WALL_OPEN":return t.isWallOpen;default:return e}},particleType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FLOATING_PARTICLES":return t.particleType;default:return e}},webrtc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WEBRTC":return t.webrtc;default:return e}},currentCall:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_CALL":return t.currentCall;default:return e}},isCallDialogOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_CALL_DIALOG_OPEN":return t.isCallDialogOpen;default:return e}},radioConnectionReady:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RADIO_CONNECTION_READY":return t.radioConnectionReady;default:return e}},isWallFacePickerOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_WALL_FACE_PICKER":return t.isWallFacePickerOpen;default:return e}},isWallCommentsFacePickerOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_WALL_COMMENTS_FACE_PICKER":return t.isWallCommentsFacePickerOpen;default:return e}},isPublicMessagesFacePickerOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_PUBLIC_MESSAGES_FACE_PICKER":return t.isPublicMessagesFacePickerOpen;default:return e}},nextTimeMillis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PUBLIC_MESSAGES_NEXT_TIME_MILLILS":return t.nextTimeMillis;default:return e}},isTvBoxOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_TV_BOX_OPEN":return t.isTvBoxOpen;default:return e}},isRequestingProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_REQUESTING_PROFILE":return t.isRequestingProfile;default:return e}},isPrivateMessagesFacePickerOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_PRIVATE_MESSAGES_FACE_PICKER":return t.isPrivateMessagesFacePickerOpen;default:return e}}})),kr=function(e){return{type:"SET_SOCKET",socket:e}};window.confirmOnExit=!0,Sr.dispatch(kr(ar)),Sr.dispatch(On(settings)),Sr.dispatch(function(){return{type:"SET_IS_LOCATION_READY",isLocationReady:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}(!0)),Vn.render(Sr)},function(e,t){}]);
